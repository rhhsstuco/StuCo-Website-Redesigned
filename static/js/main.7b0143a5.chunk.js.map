{"version":3,"sources":["assets/logo.svg","assets/clubBackground.png","assets/speech bubble.png","assets/speechBubbleMobile.png","assets/BottomPageDecor.svg","utils/theme.ts","utils/contexts.ts","components/Navigation.tsx","components/Resources.tsx","components/Footer.tsx","components/ScrollToTop.tsx","components/ThreeDotsLoader.tsx","components/LoaderComponents.tsx","utils/hooks.tsx","components/CountDownTimer.tsx","components/Heading.tsx","components/Collapsable.tsx","utils/animation.ts","components/PhotoSlideDeck.tsx","utils/functions.ts","utils/RandomDot.tsx","pages/Home.tsx","components/TranslucentRectangle.tsx","components/ScrollToTopButton.tsx","pages/Events.tsx","components/ClubPopup.tsx","pages/Clubs.tsx","pages/Calendar.tsx","pages/Map.tsx","components/ViewerPhoto.tsx","components/ViewerButton.tsx","components/CircleSpinner.tsx","components/PhotoViewer.tsx","pages/Gallery.tsx","pages/FAQ.tsx","components/RotatingQuotes.tsx","pages/AboutUs.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","theme","colors","text","light","darkSlate","darkGray","navbar","background","dark","darkest","black","overlay","darkOverlay","primary","secondary","footer","yellow","imageOverlayForText","imageGrayOverlay","imageDarkGrayOverlay","searchBox","lightGray","modes","fonts","heading","body","fontSizes","event","bodySmall","bodyBig","footerBig","bodyPadding","pt","pb","px","links","nav","py","textTransform","letterSpacing","InfoContext","createContext","events","countdown","members","recents","upcomingMiniEvents","clubs","faq","resources","gallery","aboutStuco","clubHighlights","labelledPhotos","TransparentCtx","transparent","SetTransparentCtx","setTransparent","undefined","NavItem","route","extraStyling","children","style","color","fontFamily","display","textDecoration","order","width","textAlign","to","sx","Toggle","toggle","onClick","toggleStyle","fontSize","mr","routes","calendar","map","about","Navigation","useState","setToggle","navItemsHeight","setNavItemsHeight","navItemsRef","useRef","navRef","useContext","useEffect","scrollEvent","clickEvent","e","target","current","window","addEventListener","removeEventListener","ro","ResizeObserver","entries","forEach","entry","height","contentRect","console","log","observe","disconnect","transparentStyle","backgroundColor","backdropFilter","wrapperStyle","justifyContent","flexDirection","transition","alignItems","position","zIndex","boxShadow","flexWrap","navItemsWrapper","transform","overflow","logoStyle","justifySelf","marginRight","marginLeft","cursor","ref","src","logo","alt","navItemsStyle","outlineOffset","outlineWidth","outlineColor","outlineStyle","Object","keys","toUpperCase","key","getNavItems","Resources","textStyling","allResources","headerTextStyle","resourceStyle","ml","my","resourceContainerStyle","margin","listStyle","listStyleType","pl","pr","getResourceColumn","linkStyle","mx","resource","resourceName","href","resourceLink","mb","leftResources","slice","Math","ceil","length","rightResources","className","getAllResources","socialMediaStyle","socialMediaList","email","link","image","size","instagram","facebook","twitter","SocialMediaItem","name","pictureLink","paddingX","imageStyle","borderRadius","iconStyle","renderIcon","CopyrightItem","textStyle","copyrightTextStyle","mt","Date","getFullYear","FooterRoutes","half","leftRoutes","rightRoutes","routesStyle","getRouteItems","navStyle","Footer","footerStyle","top","bottom","whiteSpace","left","sitename","right","ScrollToTop","withRouter","scroll","behavior","Fragment","ThreeDotsLoader","type","LoadingSquare","loaderHeight","loaderWidth","loaderColor","isTransparent","loadingSquareStyle","LoadingScreen","isMounted","unmountSpeed","titleTextStyle","toString","opacity","useUnmountingDelay","shouldBeMounted","delayTime","shouldRender","setShouldRender","timerID","setTimeout","clearTimeout","useToggleNavColour","yOffset","scrollEventHandler","document","scrollTop","documentElement","CountDownTimer","date","timer","setTimer","formattedTime","setFormattedTime","getFormattedTime","id","getTime","timeInMilli","days","floor","hours","minutes","seconds","borderColor","borderWidth","borderStyle","TimeUnit","number","numDigit","textSize","numSize","padStart","Heading","alignment","underline","fontWeight","lineStyle","Collapsable","title","titleStyle","collapsed","childrenStyle","childrenCollapsed","setChildrenCollapsed","childrenHeight","setChildrenHeight","childrenRef","prevHeight","textOverflow","verticalAlign","fill","padding","transitionTime","diff","abs","getHeightDiff","childrenWrapperStyle","borderLeftWidth","borderLeftColor","borderLeftStyle","overflowY","transitionDuration","defaultTitleStyle","React","Children","count","slideUp","slideBackDown","fadeIn","fadeOut","fadeInPartially","popIn","spin","GrayImage","url","photoDimension","objectFit","CenterImage","description","lockImage","unlockImage","wrapperWidth","setWrapperWidth","wrapperRef","getBoundingClientRect","animation","descriptionStyle","animationFillMode","animationName","animationDuration","animationTimingFunction","onMouseOver","onMouseLeave","onFocus","PhotoSlideDeck","photos","curPhoto","setCurPhoto","timerId","startRotation","clearTimerIds","getPrevIdx","useMemo","curIdx","newIdx","getNextIdx","setInterval","push","resetTimer","clearInterval","interval","getImageUrl","imageId","round","hex","alpha","randNum","min","max","random","randInt","hexToRgbArr","parseInt","disallowScrolling","topPos","allowScrolling","topY","scrollTo","RandomDot","x","y","getComponent","dotStyle","this","Main","countdownEvent","backgroundSize","backgroundImage","buttonStyle","fontVariantCaps","eventName","BackgroundWithDots","props","randomDots","setRandomDots","numDots","setNumDots","componentRef","generateRandomDots","numNewDots","i","oldArr","clone","innerWidth","dot","UpcomingBoard","n","getEventsList","getPlaceHolder","Recent","setWidth","thisComponentRef","scale","photoId","line","Home","toggleNavUnsub","innerHeight","backRgba","replace","hexNum","r","g","b","hexToRgb","a","TranslucentRectangle","lengthX","lengthY","minLengthY","rectStyle","minHeight","hasOwnProperty","ScrollToTopButton","showScrollButton","setShowScrollButton","shouldRenderButton","handleScroll","useCallback","pageYOffset","scrollToTop","renderScrollButton","EventHeading","textLocation","extraHeaderStyling","extraTextStyling","EventPhoto","photoID","photoLocation","imgWidth","setImgWidth","loading","setLoading","renderLoadingSquare","imageRef","maxWidth","maxHeight","rectStyling","displayLoadingSquare","onLoad","EventButton","buttonText","buttonLink","extraButtonStyling","EventInfoItem","eventDetails","textWrapperStyle","wordWrap","lineHeight","dateStyle","buttonContainerStyle","EventItem","imgHeight","setImgHeight","eventItemRef","currentEventDetails","rectangleBarrierStyling","Events","eventInfo","overflowX","index","extraRectStyling","ClubDescriptionDimensions","ClubInfoItemDimensions","ClubPhotoDimensions","ClubDescriptionItem","clubname","titleWrapperStyle","clipPath","ClubInfoItem","clubContactInfo","contactInfoWrapperStyle","flex","marginY","wordBreak","colStyle","leftColStyle","rightColStyle","info","formattedTitle","value","getAllContactInfo","ClubPhoto","ClubPopup","closeHandler","clubInfo","clubPhotoRef","overlayStyle","mainWrapperStyle","photoContainerStyle","meetingDate","meetingDay","meetingFreq","meetingFrequency","meetingLoc","meetingLocation","currentTarget","BgTriangleProp","x1","y1","x2","y2","x3","y3","getStyle","getClipPath","Clubs","setHeight","query","setQuery","isPopup","setIsPopup","popupClub","setPopupClub","pageRef","bgRectWidth","bgTriangleProp","clientHeight","backgroundImgStyle","searchBoxStyle","outline","searchBoxWrapperStyle","isFirstBreakpoint","clubBackground","Array","from","getTransluteRects","onChange","placeholder","categories","club","category","titleComponent","getClubs","getClubList","searchStr","results","filter","toLowerCase","includes","displaySearchResults","imageUrl","triangles","getTriangleImages","scrollY","renderClubPopup","Calendar","spinAmount","setSpinAmount","handleClick","Map","loadingFirstImage","setLoadingFirstImage","loadingSecondImage","setLoadingSecondImage","allLabelledPhotos","firstFloorPhoto","find","photoLabel","secondFloorPhoto","backgroundStyle","imageDivStyle","handleLoad","setLoadingFunction","ViewerPhoto","loadHandler","originalDimensions","mainImageLimit","setMainImageLimit","orientation","setOrientation","mainImageRefDiv","determineOrientation","h","w","mainImageContainerStyle","fetchMainImageUrl","onError","ViewerButton","imageSrc","actionHandler","backgroundRepeat","CircleSpinner","PhotoViewer","startIndex","setIndex","overlayWidth","setOverlayWidth","overlayReferenceDiv","xTouchLoc","yTouchLoc","incrementIdx","decrementIdx","handleClosing","reactToKeystrokes","keyCode","initializeTouch","touchLocations","touches","clientX","clientY","reactToSwipe","xOld","yOld","changedTouches","oldPos","newPos","xDiff","yDiff","detectSwipeDirection","handleLoadingState","checkIfImagesLoaded","refDiv","imgElements","querySelectorAll","complete","renderExitButton","arrowStyle","overlayContainerStyle","bothButtonStyle","leftButtonStyle","rightButtonStyle","overscrollBehavior","renderSpinner","GalleryPhoto","photo","initializeDisplay","extraPhotoStyle","photoStyle","newPhotoDimensions","displayLoadSpinner","photoUrl","photoNum","Gallery","galleryPhotos","referenceDiv","viewIndex","setViewIndex","showViewer","setShowViewer","currentImageNumber","arr","array","result","splice","splitArray","photoGroup","originalPhotoDimensions","leftPhotos","centerPhotos","rightPhotos","allGalleryStyle","getGalleryColumn","photoColumn","startDisplay","toggleViewer","displayViewer","QuestionItem","question","imageExtraStyling","outerContainerDiv","innerWrapperDiv","ResponseItem","response","textExtraStyling","rectExtraStyling","responseTextStyle","FAQItem","styling","imageStyling","faqQuestion","questionNumber","isLoading","setIsLoading","wrapperDiv","answer","FAQ","faqQuestions","getFaqItems","vmax","isSecondBreakpoint","imgSize","GrayBubble","sizeInNum","setSizeInNum","sizeRef","imgRef","marginRef","ShownBubble","quote","closing","bubbleHeight","setBubbleHeight","quoteWrapperRef","bubbleAndQuoteWrapperStyle","quoteWrapperStyle","speechBubbleStyle","AboutUsSpeechBubble","AboutUsSpeechBubbleMobile","RotatingQuotes","originalQuoteSets","quoteSets","setQuoteSets","timerIds","oldSet","unshift","pop","grayBubbleWrapper","grayBubbles","getGrayBubbles","Paragraph","headingStyle","bodyStyle","stucoTagline","stucoDescription","AboutUs","bodyRef","decorRef","pageHeight","decorHeight","wrapper","decorWrapper","translateScale","member","BottomPageDecor","memo","setInfo","showLoading","setShowLoading","shouldRenderLoading","getData","fetch","method","mode","headers","accept","res","json","data","process","Provider","path","App","transparentCtx","setTransparentCtx","MemoMain","Boolean","location","hostname","match","WebFont","load","google","families","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.7b0143a5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.244fe6ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/clubBackground.fdd1f9d6.png\";","module.exports = __webpack_public_path__ + \"static/media/speech bubble.576d30b9.png\";","module.exports = __webpack_public_path__ + \"static/media/speechBubbleMobile.f47118d6.png\";","module.exports = __webpack_public_path__ + \"static/media/BottomPageDecor.12fcb1cf.svg\";","//breakpoints: 640px, 832px,\r\nexport const FIRST_BREAKPOINT = 640;\r\nexport const SECOND_BREAKPOINT = 832;\r\nexport const theme = {\r\n  colors: {\r\n    text: {\r\n      light: '#FFFFFF',\r\n      darkSlate: '#2F4F4F',\r\n      darkGray: '#343434',\r\n    },\r\n    navbar: '#5B7F76',\r\n    background: {\r\n      light: '#FFFFFF',\r\n      dark: '#495E57',\r\n      darkest: '#00000088',\r\n      black: '#000000',\r\n      overlay: '#93CCBE29',\r\n      darkOverlay: '#5B7F76',\r\n    },\r\n    primary: '#68DEB5',\r\n    secondary: '#93CCBE',\r\n    footer: '#39504A',\r\n    yellow: '#FFF08E',\r\n    imageOverlayForText: '#FFFFFFD9',\r\n    imageGrayOverlay: '#8B8B8BA6',\r\n    imageDarkGrayOverlay: '#4D4D4DA6',\r\n    searchBox: {\r\n      darkGray: '#707070',\r\n      lightGray: '#E1E1E1',\r\n    },\r\n    modes: {\r\n      dark: {},\r\n    },\r\n  },\r\n  fonts: {\r\n    heading: 'Rowdies',\r\n    body: 'Open Sans',\r\n  },\r\n  fontSizes: {\r\n    heading: {\r\n      primary: [30, 40],\r\n      event: [14, 16, 24, 30, 40],\r\n    },\r\n    body: [13, 14, 16, 20, 24, 28, 32],\r\n    event: [10, 12, 14, 16, 20, 24, 32],\r\n    bodySmall: [11, 14, 16],\r\n    bodyBig: [20, 24, 28],\r\n    footer: [11, 12, 14, 16],\r\n    footerBig: [14, 16, 20, 24],\r\n  },\r\n  bodyPadding: {\r\n    pt: '7%',\r\n    pb: '10%',\r\n    px: '7%',\r\n  },\r\n  links: {\r\n    nav: {\r\n      px: 2,\r\n      py: 1,\r\n      textTransform: 'uppercase',\r\n      letterSpacing: '0.2em',\r\n    },\r\n  },\r\n};\r\n","import {createContext} from 'react';\r\nimport {\r\n  Event,\r\n  Member,\r\n  Recent,\r\n  UpcomingMiniEvents,\r\n  Club,\r\n  FAQ,\r\n  Resources,\r\n  Photo,\r\n  CountDown,\r\n  AboutStuco,\r\n  ClubHighlight,\r\n  LabelledPhotos,\r\n} from './interfaces';\r\n\r\nexport interface IInfoContext {\r\n  events: Event[];\r\n  countdown: CountDown[];\r\n  members: Member[];\r\n  recents: Recent[];\r\n  upcomingMiniEvents: UpcomingMiniEvents[];\r\n  clubs: Club[];\r\n  faq: FAQ[];\r\n  resources: Resources[];\r\n  gallery: Photo[];\r\n  aboutStuco: AboutStuco[];\r\n  clubHighlights: ClubHighlight[];\r\n  labelledPhotos: LabelledPhotos[];\r\n}\r\n\r\nexport const InfoContext = createContext<IInfoContext>({\r\n  events: [],\r\n  countdown: [],\r\n  members: [],\r\n  recents: [],\r\n  upcomingMiniEvents: [],\r\n  clubs: [],\r\n  faq: [],\r\n  resources: [],\r\n  gallery: [],\r\n  aboutStuco: [],\r\n  clubHighlights: [],\r\n  labelledPhotos: [],\r\n});\r\n\r\nexport interface ITransparentCtx {\r\n  transparent: boolean;\r\n}\r\n\r\nexport interface ISetTransparentCtx {\r\n  setTransparent: React.Dispatch<React.SetStateAction<boolean>>|undefined;\r\n  // setTransparent: (transparent: boolean) => void | undefined;\r\n}\r\n\r\nexport const TransparentCtx = createContext<ITransparentCtx>({\r\n  transparent: true,\r\n});\r\n\r\nexport const SetTransparentCtx = createContext<ISetTransparentCtx>({\r\n  setTransparent: undefined,\r\n});\r\n\r\n","/** @jsx jsx */\r\nimport React, {useState, useEffect, useRef, useContext} from 'react';\r\nimport {Link, useLocation} from 'react-router-dom';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport {FaBars, FaTimes} from 'react-icons/fa';\r\nimport logo from '../assets/logo.svg';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport { TransparentCtx, ITransparentCtx } from '../utils/contexts';\r\n\r\n//TODO: mmmake diferent colorus\r\ninterface LinkProps {\r\n  route: string;\r\n  text: string;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\nexport const NavItem: React.FC<LinkProps> = ({\r\n  route,\r\n  text,\r\n  extraStyling,\r\n  children,\r\n}) => {\r\n  const style: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    fontFamily: theme.fonts.body,\r\n    display: 'block',\r\n    '&:hover': {\r\n      textDecoration: 'none',\r\n      background: theme.colors.footer,\r\n      color: theme.colors.text.light,\r\n    },\r\n    order: 2,\r\n    px: 20,\r\n    py: [2, 2, 3],\r\n    width: ['100%', '100%', 'auto'],\r\n    textAlign: 'center',\r\n  };\r\n\r\n  return (\r\n    <Link to={'/' + route} sx={{...style, ...extraStyling}}>\r\n      {text}\r\n      {children}\r\n    </Link>\r\n  );\r\n};\r\n\r\ninterface ToggleProps {\r\n  toggle: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nconst Toggle: React.FC<ToggleProps> = ({toggle, onClick}) => {\r\n  const toggleStyle: SxStyleProp = {\r\n    order: 1,\r\n    display: ['block', 'block', 'none'],\r\n    fontSize: '1.3em',\r\n    color: theme.colors.text.light,\r\n    mr: '5%',\r\n  };\r\n\r\n  if (toggle) {\r\n    return <FaTimes sx={toggleStyle} onClick={onClick} />;\r\n  }\r\n  return <FaBars sx={toggleStyle} onClick={onClick} />;\r\n};\r\n\r\n// Moving routes out of Navigation so Footer can access them\r\nexport interface NavRoutes {\r\n  events: string;\r\n  clubs: string;\r\n  calendar: string;\r\n  map: string;\r\n  gallery: string;\r\n  faq: string;\r\n  about: string;\r\n}\r\n\r\nexport const routes = {\r\n  //key is the route name, value is displayed text\r\n  events: 'Events',\r\n  clubs: 'Clubs',\r\n  calendar: 'Calendar',\r\n  map: 'Map',\r\n  gallery: 'Gallery',\r\n  faq: 'FAQ',\r\n  about: 'About Us',\r\n};\r\n\r\nexport const Navigation: React.FC = () => {\r\n  const [toggle, setToggle] = useState<boolean>(false);\r\n  const [navItemsHeight, setNavItemsHeight] = useState<number>(null);\r\n\r\n  const navItemsRef = useRef<HTMLDivElement>(null);\r\n  const navRef = useRef<HTMLDivElement>(null);\r\n  const {transparent} = useContext<ITransparentCtx>(TransparentCtx);\r\n\r\n  useEffect(() => {\r\n    const scrollEvent = () => setToggle(false);\r\n    const clickEvent = (e) => {\r\n      if (toggle && e.target !== navRef.current) {\r\n        setToggle(false);\r\n      }\r\n    };\r\n    window.addEventListener('scroll', scrollEvent);\r\n    window.addEventListener('click', clickEvent);\r\n    return () => {\r\n      window.removeEventListener('scroll', scrollEvent);\r\n      window.removeEventListener('click', clickEvent);\r\n    };\r\n  }, [toggle]);\r\n\r\n  useEffect(() => {\r\n    const ro = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        const {height} = entry.contentRect;\r\n        console.log(height);\r\n        setNavItemsHeight(height);\r\n      });\r\n    });\r\n    ro.observe(navItemsRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  const getNavItems = () => {\r\n    const outlineWidth = 1.5;\r\n    const navItemsStyle: SxStyleProp = {\r\n      '&:hover': {\r\n        cursor: 'pointer',\r\n        textDecoration: 'none',\r\n        color: theme.colors.text.light,\r\n        backgroundColor: transparent ? 'transparent' : theme.colors.footer,\r\n        outlineOffset: -outlineWidth,\r\n        outlineWidth: transparent ? outlineWidth : 0,\r\n        outlineColor: theme.colors.footer,\r\n        outlineStyle: 'solid',\r\n      },\r\n    };\r\n\r\n    return Object.keys(routes).map((route) => {\r\n      return (\r\n        <NavItem\r\n          route={route}\r\n          text={routes[route].toUpperCase()}\r\n          key={routes[route]}\r\n          extraStyling={navItemsStyle}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  const transparentStyle: SxStyleProp = {\r\n    backgroundColor: [theme.colors.navbar+'CC', 'transparent'],\r\n    backdropFilter: ['blur(4px)', undefined],\r\n  };\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    display: 'flex',\r\n    width: '100%',\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row' as 'row',\r\n    background: transparent ? 'transparent' : theme.colors.navbar,\r\n    transition: 'background-color .5s ease',\r\n    alignItems: 'center',\r\n    position: 'fixed',\r\n    zIndex: 10,\r\n    boxShadow: '0 1px 5px ' + theme.colors.footer,\r\n    flexWrap: 'wrap',\r\n  };\r\n\r\n  const navItemsWrapper: SxStyleProp = {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    order: 2,\r\n    transform: [\r\n      toggle ? 'translateY(0)' : 'translateY(-100%)',\r\n      toggle ? 'translateY(0)' : 'translateY(-100%)',\r\n      'translateY(0)',\r\n    ],\r\n    transition: '.5s',\r\n    overflow: 'hidden',\r\n    height: [toggle ? navItemsHeight : 0, toggle ? navItemsHeight : 0, 'auto'],\r\n    zIndex: 0,\r\n    width: ['100%', '100%', 'auto'],\r\n  };\r\n\r\n  const logoStyle: SxStyleProp = {\r\n    order: 0,\r\n    justifySelf: 'flex-start',\r\n    marginRight: 'auto',\r\n    marginLeft: ['5%', '10%'],\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n    height: '3.5rem',\r\n    zIndex: 1,\r\n  };\r\n\r\n  return (\r\n    <div\r\n      sx={transparent ? {...wrapperStyle, ...transparentStyle} : wrapperStyle}\r\n      ref={navRef}\r\n    >\r\n      <Link to=\"/\" sx={logoStyle}>\r\n        <img src={logo} alt=\"\" sx={logoStyle} />\r\n      </Link>\r\n      <Toggle toggle={toggle} onClick={() => setToggle((toggle) => !toggle)} />\r\n      <div sx={navItemsWrapper}>\r\n        <div\r\n          ref={navItemsRef}\r\n          children={getNavItems()}\r\n          sx={{\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            width: ['100%', '100%', 'auto'],\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","/** @jsx jsx */\r\nimport React, {useContext} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {IInfoContext, InfoContext} from '../utils/contexts';\r\nimport {Resources as ResourcesInterface} from '../utils/interfaces';\r\n\r\nexport interface ResourcesProps {\r\n  textStyling: SxStyleProp;\r\n}\r\n\r\n/**\r\n * For all the resources present in the Info object.\r\n * @returns a div containing all the resources, formatted.\r\n */\r\nexport const Resources: React.FC<ResourcesProps> = ({textStyling}) => {\r\n  const allResources: ResourcesInterface[] = useContext<IInfoContext>(\r\n    InfoContext,\r\n  ).resources;\r\n  console.log(allResources);\r\n\r\n  // Styles ---------------------------------------------------------\r\n  // TOOD: this is basically the same as FooterRoutes\r\n  // -- do smth about this? or is this good repeat/abstraction?\r\n  const mainWrapperStyle: SxStyleProp = {\r\n    px: '5%',\r\n  };\r\n  const headerWrapperStyle: SxStyleProp = {\r\n    width: '100%',\r\n    textAlign: 'left',\r\n    mb: '1.3em',\r\n  };\r\n  const headerTextStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: theme.fontSizes.footerBig,\r\n    color: theme.colors.text.light,\r\n  };\r\n  const resourceStyle: SxStyleProp = {\r\n    ...textStyling,\r\n\r\n    width: '50%',\r\n    ml: 0,\r\n    mr: 'auto',\r\n    my: 0,\r\n  };\r\n  const resourceContainerStyle: SxStyleProp = {\r\n    width: '100%',\r\n    margin: 'auto',\r\n\r\n    display: 'flex',\r\n    flexDirection: ['column', 'row'],\r\n  };\r\n  const listStyle: SxStyleProp = {\r\n    listStyleType: 'none',\r\n    pl: 0,\r\n    pr: '10%',\r\n    ml: 0,\r\n    my: 0,\r\n  };\r\n\r\n  // Functions -- ---------------------------------------------------\r\n  /**\r\n   * Retrieves all the resources and splits them, then formats them\r\n   * and returns the formatted ReactElement.\r\n   * @returns the formatted resource list.\r\n   */\r\n  const getAllResources = () => {\r\n    // Split the routes in half to format links correctly\r\n    const leftResources = allResources.slice(\r\n      0,\r\n      Math.ceil(allResources.length / 2),\r\n    );\r\n    const rightResources = allResources.slice(\r\n      Math.ceil(allResources.length / 2),\r\n    );\r\n\r\n    return (\r\n      <div className=\"row\" sx={resourceContainerStyle}>\r\n        <div sx={resourceStyle}>\r\n          {/* first column of links goes here */}\r\n          <ul sx={listStyle}>{getResourceColumn(leftResources)}</ul>\r\n        </div>\r\n        <div sx={resourceStyle}>\r\n          {/* second column of links goes here */}\r\n          <ul sx={listStyle}>{getResourceColumn(rightResources)}</ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Renders/returns a group of resources as a column.\r\n   * @param resources - A column of resources to be rendered.\r\n   * @returns the column of formatted resource elements.\r\n   */\r\n  const getResourceColumn = (resources: ResourcesInterface[]) => {\r\n    const linkStyle: SxStyleProp = {\r\n      px: 0,\r\n      py: '2px',\r\n      mx: 0,\r\n      color: theme.colors.text.light,\r\n\r\n      display: 'inline',\r\n      '&:hover': {\r\n        color: theme.colors.primary,\r\n        textDecoration: 'none',\r\n      },\r\n    };\r\n\r\n    return resources.map((resource) => {\r\n      return (\r\n        <li key={resource.resourceName}>\r\n          <a href={resource.resourceLink} sx={linkStyle}>\r\n            {resource.resourceName}\r\n          </a>\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={mainWrapperStyle}>\r\n      {/* the header*/}\r\n      <div sx={headerWrapperStyle}>\r\n        <h2 sx={headerTextStyle}>Resources</h2>\r\n      </div>\r\n      {getAllResources()}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {\r\n  FaGithub,\r\n  FaEnvelopeSquare,\r\n  FaFacebookSquare,\r\n  FaTwitterSquare,\r\n  FaInstagramSquare,\r\n} from 'react-icons/fa';\r\n\r\nimport {routes, NavItem, NavRoutes} from './Navigation';\r\nimport {Resources} from './Resources';\r\n\r\nimport {theme} from '../utils/theme';\r\n\r\n// Interfaces --\r\ninterface socialMediaContainer {\r\n  email: linkImagePair;\r\n  instagram?: linkImagePair;\r\n  facebook?: linkImagePair;\r\n  twitter?: linkImagePair;\r\n}\r\n\r\ninterface linkImagePair {\r\n  link: string;\r\n  image: string | ReactElement;\r\n}\r\n\r\n// The style for social media icons\r\nconst socialMediaStyle: SxStyleProp = {\r\n  transition: 'transform .2s ease',\r\n  '&:hover': {\r\n    transform: 'scale(1.1)',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\n// All the social media needed for the footer\r\n// If we need more, just add according to format!\r\nconst socialMediaList: socialMediaContainer = {\r\n  email: {\r\n    link: 'mailto:rhhsstuco.contact@gmail.com',\r\n    image: <FaEnvelopeSquare size={32} sx={socialMediaStyle} />,\r\n  },\r\n  instagram: {\r\n    link: 'https://www.instagram.com/rhhs_stuco',\r\n    image: <FaInstagramSquare size={32} sx={socialMediaStyle} />,\r\n  },\r\n  facebook: {\r\n    link: 'https://www.facebook.com/rhhsstuco/',\r\n    image: <FaFacebookSquare size={32} sx={socialMediaStyle} />,\r\n  },\r\n  twitter: {\r\n    link: 'https://twitter.com/rhhs_stuco',\r\n    image: <FaTwitterSquare size={32} sx={socialMediaStyle} />,\r\n  },\r\n};\r\n\r\n//=====================================================================\r\n// SocialMediaItem is for the individual social media buttons\r\ninterface SocialMediaProps {\r\n  name: string;\r\n  link: string;\r\n  pictureLink: string | ReactElement;\r\n}\r\n\r\nconst SocialMediaItem: React.FC<SocialMediaProps> = ({\r\n  name,\r\n  link,\r\n  pictureLink,\r\n}) => {\r\n  const linkStyle: SxStyleProp = {\r\n    paddingX: '0.5em', // rudimentary spacing between the pictures lol\r\n  };\r\n\r\n  const renderIcon = () => {\r\n    const imageStyle: SxStyleProp = {\r\n      borderRadius: '50%',\r\n      '&:hover': {},\r\n    };\r\n\r\n    const iconStyle = {\r\n      display: 'inline',\r\n      color: theme.colors.background.light,\r\n\r\n      height: '100%',\r\n      width: 'auto',\r\n\r\n      ...imageStyle,\r\n    };\r\n\r\n    if (typeof pictureLink == 'string') {\r\n      return <img sx={imageStyle} src={pictureLink} alt={name} />;\r\n    }\r\n\r\n    return <div sx={iconStyle}>{pictureLink}</div>;\r\n  };\r\n\r\n  return (\r\n    <a href={link} sx={linkStyle}>\r\n      {renderIcon()}\r\n    </a>\r\n  );\r\n};\r\n\r\n// Draw all the social media buttons provided\r\nconst getSocialMedia = (\r\n  socialMediaList: socialMediaContainer,\r\n): ReactElement[] => {\r\n  return Object.keys(socialMediaList).map((sitename) => {\r\n    return (\r\n      <SocialMediaItem\r\n        name={sitename}\r\n        link={socialMediaList[sitename].link}\r\n        pictureLink={socialMediaList[sitename].image}\r\n        key={sitename}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\n// ====================================================================\r\n// CopyrightItem is for the copyright text and source text\r\n\r\ninterface CopyrightItemProps {\r\n  textStyle: SxStyleProp;\r\n}\r\n\r\nconst CopyrightItem: React.FC<CopyrightItemProps> = ({textStyle}) => {\r\n  const linkStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    mb: '0.25em',\r\n\r\n    '&:hover': {\r\n      color: theme.colors.primary,\r\n      textDecoration: 'none',\r\n    },\r\n  };\r\n\r\n  const copyrightTextStyle: SxStyleProp = {\r\n    ...textStyle,\r\n    my: 'auto',\r\n    // Add space above copyright if rearranged\r\n    mt: ['1em', 0],\r\n  };\r\n  const imageStyle: SxStyleProp = {mr: '0.5em', mb: '0.25em'};\r\n\r\n  return (\r\n    <p sx={copyrightTextStyle}>\r\n      &copy; RHHS Student Council {new Date().getFullYear()}\r\n      &nbsp; |&nbsp;\r\n      <a\r\n        href=\"https://github.com/shari09/StuCo-Website-Redesigned\"\r\n        sx={linkStyle}\r\n      >\r\n        <FaGithub sx={imageStyle} size={20} />\r\n        Source\r\n      </a>\r\n    </p>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n\r\ninterface FooterRoutesProps {\r\n  routes: NavRoutes;\r\n  textStyle: SxStyleProp;\r\n}\r\n\r\n/**\r\n * Gets all footer routes, splits them in half, and renders the\r\n * routes in a formatted style.\r\n * @return all routes in a container element.\r\n */\r\nconst FooterRoutes: React.FC<FooterRoutesProps> = ({\r\n  routes,\r\n  textStyle,\r\n}): ReactElement => {\r\n  // Split the routes in half to format links correctly\r\n  const half: number = Math.ceil(Object.keys(routes).length / 2);\r\n  const leftRoutes: string[][] = Object.entries(routes).slice(\r\n    0,\r\n    half,\r\n  ) as string[][];\r\n  const rightRoutes: string[][] = Object.entries(routes).slice(\r\n    half,\r\n  ) as string[][];\r\n\r\n  // Styles ---------------------------------------------------------\r\n  const mainWrapperStyle: SxStyleProp = {\r\n    px: '5%',\r\n  };\r\n  const headerWrapperStyle: SxStyleProp = {\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    mb: '1.3em',\r\n  };\r\n  const headerTextStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: theme.fontSizes.footerBig,\r\n    color: theme.colors.text.light,\r\n  };\r\n\r\n  const routesStyle: SxStyleProp = {\r\n    ...textStyle,\r\n\r\n    // Push to the right or left depending on mobile or not\r\n    ml: 'auto',\r\n    mr: 0,\r\n    width: '50%',\r\n  };\r\n  const routeContainerStyle: SxStyleProp = {\r\n    width: '100%',\r\n    margin: 'auto',\r\n\r\n    display: 'flex',\r\n    flexDirection: ['column', 'row'],\r\n  };\r\n  const listStyle: SxStyleProp = {\r\n    textAlign: 'right',\r\n\r\n    listStyleType: 'none',\r\n    pl: '10%',\r\n    pr: 0,\r\n    mr: 0,\r\n    my: 0,\r\n  };\r\n  // Functions -- ---------------------------------------------------\r\n  /**\r\n   * Convert a list of routes to a list of actual NavItem elements.\r\n   * @param routes - All the routes in this list of links.\r\n   * @returns a list of NavItem elements to the desired route.\r\n   */\r\n  const getRouteItems = (routes: string[][]): ReactElement[] => {\r\n    const navStyle: SxStyleProp = {\r\n      px: 0,\r\n      py: '2px',\r\n      mx: 0,\r\n\r\n      display: 'inline',\r\n      '&:hover': {\r\n        color: theme.colors.primary,\r\n        textDecoration: 'none',\r\n      },\r\n    };\r\n\r\n    return routes.map((route) => {\r\n      return (\r\n        <li key={route[1]}>\r\n          <NavItem route={route[0]} text={route[1]} extraStyling={navStyle} />\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={mainWrapperStyle}>\r\n      {/* the header*/}\r\n      <div sx={headerWrapperStyle}>\r\n        <h2 sx={headerTextStyle}>Navigation</h2>\r\n      </div>\r\n\r\n      {/* the actual routes */}\r\n      <div className=\"row\" sx={routeContainerStyle}>\r\n        <div sx={routesStyle}>\r\n          {/* first column of links goes here */}\r\n          <ul sx={listStyle}>{getRouteItems(leftRoutes)}</ul>\r\n        </div>\r\n        <div sx={routesStyle}>\r\n          {/* second column of links goes here */}\r\n          <ul sx={listStyle}>{getRouteItems(rightRoutes)}</ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n\r\n//=====================================================================\r\n// The actual footer code and stuff\r\nexport const Footer: React.FC = () => {\r\n  // styling stuff --\r\n  const footerStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    backgroundColor: theme.colors.footer,\r\n    pt: '3.5em',\r\n    position: 'relative',\r\n\r\n    zIndex: 1,\r\n\r\n    width: '100%',\r\n    top: 'auto',\r\n    mt: 'auto',\r\n    mb: 0,\r\n    bottom: 0,\r\n  };\r\n  const textStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.footer,\r\n    color: theme.colors.text.light,\r\n\r\n    whiteSpace: ['nowrap', 'break-spaces'],\r\n  };\r\n  const topFooterStyle: SxStyleProp = {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n  };\r\n  const bottomFooterStyle: SxStyleProp = {\r\n    // Rearrange the footer if the screen is small enough.\r\n    display: 'flex',\r\n    flexDirection: ['column', 'row'],\r\n    alignItems: ['center', null],\r\n    textAlign: ['center', null],\r\n\r\n    width: '100%',\r\n    mx: 'auto',\r\n    mt: '2em',\r\n  };\r\n  const socialMediaContainerStyle: SxStyleProp = {\r\n    // push down the social media\r\n    mt: 0,\r\n    left: [0, '5%'],\r\n    width: ['100%', '50%'],\r\n    // somehow this aligns the icons with the copyright text??\r\n    bottom: '0.5em',\r\n\r\n    alignItems: ['center', 'row-start'],\r\n    textAlign: ['center', 'left'],\r\n  };\r\n  const copyrightContainerStyle: SxStyleProp = {\r\n    right: [0, '5%'],\r\n    width: ['100%', '50%'],\r\n    textAlign: ['center', 'right'],\r\n    mb: ['0.5em', 0],\r\n  };\r\n\r\n  // Return the footer code --\r\n  return (\r\n    // yes shari i know you hate bootstrap but im just using these\r\n    // names to name the divs. Kapeesh? Kapeesh.\r\n    <div sx={footerStyle}>\r\n      {/* top half of the footer */}\r\n      <div sx={topFooterStyle}>\r\n        <div sx={{width: '35%', position: 'relative', ml: '15%'}}>\r\n          <FooterRoutes routes={routes} textStyle={textStyle} />\r\n        </div>\r\n        <div sx={{width: '35%', position: 'relative', mr: '15%'}}>\r\n          <Resources textStyling={textStyle} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* bottom half of the footer */}\r\n      <div className=\"row\" sx={bottomFooterStyle}>\r\n        <div className=\"col\" sx={socialMediaContainerStyle}>\r\n          {getSocialMedia(socialMediaList)}\r\n        </div>\r\n\r\n        {/* {//TODO: this doesn't scale that well down :/// */}\r\n        <div className=\"col\" sx={copyrightContainerStyle}>\r\n          <CopyrightItem textStyle={textStyle} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, {useEffect, useContext} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport { ITransparentCtx, TransparentCtx } from '../utils/contexts';\r\n\r\nexport const ScrollToTop = withRouter(() => {\r\n  useEffect(() => {\r\n    window.scroll({top: 0, behavior: 'smooth'});\r\n  });\r\n  return <React.Fragment />;\r\n});\r\n\r\nexport default ScrollToTop;\r\n","import React from 'react';\r\nimport {theme} from '../utils/theme';\r\n\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport interface ThreeDotsLoaderProps {\r\n  width?: number;\r\n  height?: number;\r\n  color?: string;\r\n}\r\n\r\n// yes shari a second file dedicated to three dot loaders\r\nexport const ThreeDotsLoader: React.FC<ThreeDotsLoaderProps> = ({\r\n  width,\r\n  height,\r\n  color,\r\n}) => {\r\n  return (\r\n    <Loader\r\n      type=\"ThreeDots\"\r\n      color={color ? color : theme.colors.secondary}\r\n      width={width}\r\n      height={height}\r\n    />\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {ThreeDotsLoader} from './ThreeDotsLoader';\r\n\r\nimport {theme} from '../utils/theme';\r\n\r\n// Interfaces --\r\nexport interface LoadingSquareProps {\r\n  loaderWidth?: number;\r\n  loaderHeight?: number;\r\n  loaderColor?: string;\r\n  isTransparent?: boolean;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\nexport interface LoadingScreenProps {\r\n  /** If this component is currently being mounted or being unmounted. */\r\n  isMounted: boolean;\r\n  /** How fast this component should unmount, in ms. */\r\n  unmountSpeed: number;\r\n}\r\n\r\n/**\r\n * Renders a loading square, designed to be a square placeholder for\r\n * images that have yet to be loaded.\r\n * @returns a square with a loader.\r\n */\r\nexport const LoadingSquare: React.FC<LoadingSquareProps> = ({\r\n  loaderHeight,\r\n  loaderWidth,\r\n  loaderColor,\r\n  isTransparent,\r\n  extraStyling,\r\n}) => {\r\n  const loadingSquareStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: '100%',\r\n    backgroundColor: isTransparent ? 'transparent' : theme.colors.background.dark,\r\n\r\n    display: 'flex',\r\n    alignItems: ' center',\r\n    textAlign: 'center',\r\n\r\n    ...extraStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={loadingSquareStyle}>\r\n      <div sx={{display: 'inline', margin: 'auto'}}>\r\n        <ThreeDotsLoader\r\n          width={loaderWidth}\r\n          height={loaderHeight}\r\n          color={loaderColor ? loaderColor : theme.colors.text.light}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Renders a loading screen, intended for indicating that the site\r\n * content is still being fetched.\r\n */\r\nexport const LoadingScreen: React.FC<LoadingScreenProps> = ({\r\n  isMounted,\r\n  unmountSpeed,\r\n}) => {\r\n  const wrapperStyle: SxStyleProp = {\r\n    width: '100vw',\r\n    height: '100vh',\r\n\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  };\r\n  const titleTextStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: theme.fontSizes.heading.primary,\r\n    color: theme.colors.text.darkSlate,\r\n    margin: 'auto',\r\n  };\r\n  const topDivStyle: SxStyleProp = {\r\n    display: 'inline-block',\r\n    mb: 0,\r\n    mt: 'auto',\r\n  };\r\n  const bottomDivStyle: SxStyleProp = {\r\n    display: 'inline-block',\r\n    mt: 0,\r\n    mb: 'auto',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      sx={{\r\n        ...wrapperStyle,\r\n        transition: isMounted\r\n          ? 'none'\r\n          : 'opacity ' + (unmountSpeed / 1000).toString() + 's ease-in',\r\n        opacity: isMounted ? 1 : 0,\r\n      }}\r\n    >\r\n      <div sx={topDivStyle}>\r\n        <h1 sx={titleTextStyle}>Loading Site Content...</h1>\r\n      </div>\r\n\r\n      <div sx={bottomDivStyle}>\r\n        <ThreeDotsLoader />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import {useState, useEffect, useRef, useContext, useCallback} from 'react';\r\nimport { ISetTransparentCtx, SetTransparentCtx } from './contexts';\r\n\r\n/**\r\n * Creates a timed delay for an unmounting component so that unmounting\r\n * animations and transitions are able to occur.\r\n * @param shouldBeMounted - Whether the component you are checking should\r\n * or should not be mounted.\r\n * @param delayTime - The total amount of time to delay the unmount,\r\n * in ms.\r\n * @returns a boolean, true if the component should finally be unmounted\r\n * (ie. the delay has finished), and false otherwise.\r\n */\r\nexport const useUnmountingDelay = (\r\n  shouldBeMounted: boolean,\r\n  delayTime: number,\r\n) => {\r\n  const [shouldRender, setShouldRender] = useState<boolean>(shouldBeMounted);\r\n\r\n  useEffect(() => {\r\n    let timerID: number;\r\n\r\n    if (shouldBeMounted) {\r\n      setShouldRender(true);\r\n    } else {\r\n      // Set a timer for a component once it should no longer be mounted.\r\n      timerID = window.setTimeout(() => setShouldRender(false), delayTime);\r\n    }\r\n\r\n    // Clear the old timer from memory\r\n    return () => {\r\n      window.clearTimeout(timerID);\r\n    };\r\n  }, [shouldBeMounted, delayTime, shouldRender]);\r\n\r\n  return shouldRender;\r\n};\r\n\r\n\r\n\r\nexport const usePrevious = (value: any) => {\r\n  const ref = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n  return ref.current;\r\n};\r\n\r\n\r\n\r\n/**\r\n * OK, I've spent forever on this because of all the re-rendering\r\n * the react does that causes it unable to remove event listeners properly\r\n * this entire thing would've been avoided if gh pages was smarter\r\n * so I can use BrowserRoute instead of HashRoute which means\r\n * that I can use history and check for changes on routes and \r\n * act in response to the changes rather than having to keep a global\r\n * context myself that causes a zillion re-renders >:(\r\n * @param yOffset the yOffset for when the navbar changes from transparent to have colour\r\n */\r\nexport const useToggleNavColour = (yOffset: number) => {\r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  const scrollEventHandler = useRef<() => void>(null);\r\n\r\n  useEffect(() => {\r\n    if (scrollEventHandler.current) {\r\n      console.log('why is this running');\r\n      window.removeEventListener('scroll', scrollEventHandler.current, true);\r\n      // return;\r\n    }\r\n    scrollEventHandler.current = () => {\r\n      const top = document.body.scrollTop || document.documentElement.scrollTop;\r\n      setTransparent(top < yOffset);\r\n    };\r\n    console.log('scroll listener added');\r\n    window.addEventListener('scroll', scrollEventHandler.current, true);\r\n  }, []);\r\n\r\n  \r\n  return () => {\r\n    console.log('scroll listener unmount');\r\n    window.removeEventListener('scroll', scrollEventHandler.current, true);\r\n  };\r\n};","/** @jsx jsx */\r\nimport React, {useState, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\n\r\ninterface Props {\r\n  date: Date;\r\n}\r\n\r\ninterface FormattedTime {\r\n  days: number;\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n}\r\n\r\ninterface TimeUnitI {\r\n  number: number;\r\n  text: string;\r\n}\r\n\r\nexport const CountDownTimer: React.FC<Props> = ({date}) => {\r\n  const [timer, setTimer] = useState<number>();\r\n  const [formattedTime, setFormattedTime] = useState<FormattedTime>();\r\n\r\n  useEffect(() => {\r\n    if (!timer) {\r\n      setTimer(date.getTime() - new Date().getTime());\r\n      return;\r\n    }\r\n    setFormattedTime(getFormattedTime(timer));\r\n    const id = window.setTimeout(() => {\r\n      setTimer(timer - 1000);\r\n    }, 1000);\r\n    return () => window.clearTimeout(id);\r\n  }, [timer, date]);\r\n\r\n  const getFormattedTime = (timeInMilli: number) => {\r\n    const days = Math.floor(timeInMilli / (24 * 60 * 60 * 1000));\r\n    timeInMilli = timeInMilli % (24 * 60 * 60 * 1000);\r\n    const hours = Math.floor(timeInMilli / (60 * 60 * 1000));\r\n    timeInMilli = timeInMilli % (60 * 60 * 1000);\r\n    const minutes = Math.floor(timeInMilli / (60 * 1000));\r\n    timeInMilli = timeInMilli % (60 * 1000);\r\n    const seconds = Math.floor(timeInMilli / 1000);\r\n\r\n    return {\r\n      days: days,\r\n      hours: hours,\r\n      minutes: minutes,\r\n      seconds: seconds,\r\n    };\r\n  };\r\n\r\n  if (!formattedTime) {\r\n    return <div />;\r\n  }\r\n\r\n  const style: SxStyleProp = {\r\n    top: '40%',\r\n    left: '7%',\r\n    position: ['static', 'absolute'],\r\n    borderColor: theme.colors.background.light,\r\n    borderWidth: [0, 2],\r\n    borderStyle: 'solid',\r\n    color: theme.colors.text.light,\r\n    textAlign: 'center',\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: 20,\r\n    '&:hover': {\r\n      textDecoration: 'none',\r\n      color: theme.colors.text.light,\r\n    },\r\n    px: 20,\r\n    py: [1, 2],\r\n\r\n    //mobile\r\n    display: ['flex', 'inline'],\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    order: 0,\r\n    mt: ['20%', 0],\r\n  };\r\n\r\n  const TimeUnit: React.FC<TimeUnitI> = ({number, text}) => {\r\n    const seconds = 'sec';\r\n    const numDigit = number < 100 ? 2 : 3;\r\n    const textSize = text === seconds ? 15 : 20;\r\n    const numSize = text === seconds ? 50 : 80;\r\n    return (\r\n      <span sx={{mx: 20}}>\r\n        <span sx={{fontSize: numSize}}>\r\n          {number.toString().padStart(numDigit, '0')}\r\n        </span>\r\n        <span sx={{fontSize: textSize}}>{text}</span>\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div sx={style}>\r\n      <TimeUnit number={formattedTime.days} text=\"days\" />\r\n      <TimeUnit number={formattedTime.hours} text=\"hrs\" />\r\n      <TimeUnit number={formattedTime.minutes} text=\"mins\" />\r\n      <TimeUnit number={formattedTime.seconds} text=\"sec\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountDownTimer;\r\n","/** @jsx jsx */\r\nimport React from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\n\r\nexport interface HeadingProps {\r\n  text: string;\r\n  alignment: 'left' | 'center';\r\n  underline?: boolean;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\n/**\r\n * A styled heading\r\n */\r\nexport const Heading: React.FC<HeadingProps> = ({\r\n  text,\r\n  alignment,\r\n  underline = true,\r\n  extraStyling,\r\n}) => {\r\n  const wrapperStyle: SxStyleProp = {\r\n    textAlign: alignment,\r\n  };\r\n\r\n  const textStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: theme.fontSizes.heading.primary,\r\n    color: theme.colors.primary,\r\n    fontWeight: 'normal',\r\n  };\r\n\r\n  const lineStyle: SxStyleProp = {\r\n    background: theme.colors.primary,\r\n    borderRadius: 10,\r\n    height: 7,\r\n    width: ['100%', '25%'],\r\n    margin: alignment === 'left' ? undefined : 'auto',\r\n  };\r\n\r\n  return (\r\n    <div sx={{...wrapperStyle, ...extraStyling}}>\r\n      <div sx={textStyle}>{text}</div>\r\n      {underline ? <div sx={lineStyle} /> : undefined}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Heading;\r\n","/** @jsx jsx */\r\nimport React, {useState, useRef, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\ninterface Props {\r\n  title: string | React.ReactElement;\r\n  titleStyle?: SxStyleProp;\r\n  childrenStyle?: SxStyleProp;\r\n  collapsed?: boolean;\r\n}\r\n\r\n/**\r\n * ok sift i'm writing comments now so stop judging my uncommented code >:((\r\n * @description\r\n * You can put any children inside Collapsable components and it will render them\r\n * in the collapsible list/tree format\r\n *\r\n * @example\r\n * <Collapsable title='hello'>\r\n *   You can have text\r\n *   <OrComponenents sx={withStyle} onClick={andFunctions}/>\r\n * </Collapsable>\r\n *\r\n * //title can be a component as well\r\n * const myTitle = <span><p>My twitter page</p><TwitterIcon/></span>;\r\n *\r\n * <Collapsable title={myTitle}>\r\n *   //children\r\n * </Collapsable>\r\n */\r\nexport const Collapsable: React.FC<Props> = ({\r\n  children,\r\n  title,\r\n  titleStyle,\r\n  collapsed = true,\r\n  childrenStyle,\r\n}) => {\r\n  const [childrenCollapsed, setChildrenCollapsed] = useState<boolean>(\r\n    collapsed,\r\n  );\r\n  const [childrenHeight, setChildrenHeight] = useState<number>(0);\r\n  const childrenRef = useRef<HTMLDivElement>(null);\r\n  const prevHeight = useRef<number>(0);\r\n\r\n  useEffect(() => {\r\n\r\n    //if the children has children and they resize, normally it won't re-render\r\n    //which is why the oberserver is added\r\n    const ro = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        prevHeight.current = childrenHeight;\r\n        const {height} = entry.contentRect;\r\n        setChildrenHeight(height);\r\n      });\r\n    });\r\n    ro.observe(childrenRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    textOverflow: 'ellipsis',\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'visible',\r\n    verticalAlign: 'middle',\r\n    color: theme.colors.text.light,\r\n    fill: theme.colors.text.light,\r\n    height: 'auto',\r\n    padding: '0.3em',\r\n    width: 'auto',\r\n  };\r\n\r\n  /**\r\n   * gets height difference when resized\r\n   */\r\n  const getHeightDiff = () => {\r\n    const diff = Math.abs(childrenHeight - prevHeight.current);\r\n    if (diff === 0) return childrenHeight;\r\n    return diff;\r\n  };\r\n\r\n  const transitionTime = `${getHeightDiff() * 0.01}s`;\r\n\r\n  const childrenWrapperStyle: SxStyleProp = {\r\n    ml: '20%',\r\n    pr: 14,\r\n    borderLeftWidth: 2,\r\n    borderLeftColor: theme.colors.text.light,\r\n    borderLeftStyle: 'dashed',\r\n    overflowY: 'hidden',\r\n    height: childrenCollapsed ? 0 : childrenHeight,\r\n    transitionDuration: transitionTime,\r\n  };\r\n\r\n  const defaultTitleStyle: SxStyleProp = {\r\n    width: 'auto',\r\n\r\n    '&:hover': {\r\n      cursor: React.Children.count(children) > 0 ? 'pointer' : 'default',\r\n      color: [\r\n        theme.colors.text.light,\r\n        React.Children.count(children) > 0\r\n          ? theme.colors.footer\r\n          : theme.colors.text.light,\r\n      ],\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <span\r\n        sx={{...defaultTitleStyle, ...titleStyle}}\r\n        onClick={() => {\r\n          if (React.Children.count(children) === 0) return;\r\n          setChildrenCollapsed((childrenCollapsed) => !childrenCollapsed);\r\n        }}\r\n      >\r\n        {title}\r\n      </span>\r\n      <div\r\n        sx={{...childrenWrapperStyle, ...childrenStyle}}\r\n      >\r\n        <div ref={childrenRef} children={children} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Collapsable;\r\n","import {SxStyleProp} from 'theme-ui';\r\n\r\nexport const slideUp: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    transform: 'translateY(100%)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    transform: 'translateY(0)',\r\n  },\r\n};\r\n\r\nexport const slideBackDown: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    transform: 'translateY(0)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    transform: 'translateY(100%)',\r\n  },\r\n};\r\n\r\nexport const slideDown: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    transform: 'translateY(-100%)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    transform: 'translateY(0)',\r\n  },\r\n};\r\n\r\nexport const slideLeft: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    transform: 'translateX(-100%)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    transform: 'translateX(0)',\r\n  },\r\n};\r\n\r\nexport const slideRight: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    transform: 'translateX(100%)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    transform: 'translateX(0)',\r\n  },\r\n};\r\n\r\nexport const slideOutRight: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 1,\r\n    transform: 'translateX(0)',\r\n  },\r\n  '100%': {\r\n    opacity: 0,\r\n    transform: 'translateX(100%)',\r\n  },\r\n};\r\n\r\nexport const slideOutLeft: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 1,\r\n    transform: 'translateX(0)',\r\n  },\r\n  '100%': {\r\n    opacity: 0,\r\n    transform: 'translateX(-100%)',\r\n  },\r\n};\r\n\r\nexport const fadeIn: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n  },\r\n};\r\n\r\nexport const fadeOut: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 1,\r\n  },\r\n  '100%': {\r\n    opacity: 0,\r\n  },\r\n};\r\n\r\nexport const fadeInPartially: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n  },\r\n  '100%': {\r\n    opacity: 0.5,\r\n  },\r\n};\r\n\r\nexport const popIn: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    width: 0,\r\n    height: 0,\r\n    transform: 'translate3d(50%, 50%, 0)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    width: '100%',\r\n    height: '100%',\r\n    transform: 'translate3d(0, 0, 0)',\r\n  },\r\n};\r\n\r\nexport const spin: SxStyleProp = {\r\n  '0%': {\r\n    transform: 'rotate(0deg)',\r\n  },\r\n  '100%': {\r\n    transform: 'rotate(359deg)',\r\n  },\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useState, useEffect, useRef, useMemo} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport {slideUp, slideBackDown, fadeIn} from '../utils/animation';\r\n\r\nexport interface Photo {\r\n  url: string;\r\n  description: string;\r\n}\r\n\r\ninterface Props {\r\n  photos: Photo[];\r\n  photoDimension: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n}\r\n\r\ninterface CenterPhotoProps {\r\n  url: string;\r\n  description: string;\r\n  photoDimension: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n  lockImage: () => void;\r\n  unlockImage: () => void;\r\n}\r\n\r\ninterface GrayImageProps {\r\n  url: string;\r\n  photoDimension: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n  onClick: () => void;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\n/**\r\n * The grayed out photos behind the main photo.\r\n */\r\nconst GrayImage: React.FC<GrayImageProps> = ({\r\n  url,\r\n  photoDimension,\r\n  onClick,\r\n  extraStyling,\r\n}) => {\r\n  //scaled in relation to the main photo in the middle\r\n  const scale = 0.8;\r\n  const style: SxStyleProp = {\r\n    width: photoDimension.width * scale,\r\n    height: photoDimension.height * scale,\r\n    objectFit: 'cover',\r\n  };\r\n\r\n  const overlay: SxStyleProp = {\r\n    backgroundColor: theme.colors.imageGrayOverlay,\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: 0,\r\n  };\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    display: 'inline-block',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n    top: '50%',\r\n    transform: 'translate(0, -50%)',\r\n    ...extraStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle} onClick={onClick}>\r\n      <img sx={style} src={url} />\r\n      <div sx={overlay} />\r\n    </div>\r\n  );\r\n};\r\n\r\n//=====================================================\r\n\r\n/**\r\n * The main photo in the middle\r\n */\r\nconst CenterImage: React.FC<CenterPhotoProps> = ({\r\n  url,\r\n  description,\r\n  photoDimension,\r\n  lockImage,\r\n  unlockImage,\r\n}) => {\r\n  const [wrapperWidth, setWrapperWidth] = useState<number>(null);\r\n  const wrapperRef = useRef<HTMLImageElement>(null);\r\n\r\n  useEffect(() => {\r\n    setWrapperWidth(wrapperRef.current.getBoundingClientRect().width);\r\n  }, []);\r\n\r\n  const popupScale = 1.3;\r\n  const wrapperStyle: SxStyleProp = {\r\n    boxShadow: '1vw 1vh .7em gray',\r\n    display: 'inline-block',\r\n    position: 'relative',\r\n    mx: 'auto',\r\n    zIndex: 2,\r\n    overflow: 'hidden',\r\n    '&:hover div': {\r\n      animation: 'slideUp .5s ease-out',\r\n      transform: 'translateY(0)',\r\n    },\r\n    '&:hover img': {\r\n      width: [wrapperWidth, photoDimension.width * popupScale],\r\n      height: [photoDimension.height * popupScale],\r\n      transitionDuration: '.5s',\r\n    },\r\n    backgroundColor: 'transparent',\r\n    transitionDuration: '.5s',\r\n    '@keyframes fadeIn': fadeIn,\r\n    '@keyframes slideUp': slideUp,\r\n    '@keyframes slideBackDown': slideBackDown,\r\n  };\r\n\r\n  const descriptionStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.imageOverlayForText,\r\n    padding: 20,\r\n    py: '10%',\r\n    fontSize: theme.fontSizes.bodySmall,\r\n    fontFamily: theme.fonts.body,\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    width: '100%',\r\n    textAlign: 'start',\r\n    transform: 'translateY(100%)',\r\n    animation: 'slideBackDown .3s ease-out',\r\n  };\r\n\r\n  const imageStyle: SxStyleProp = {\r\n    objectFit: 'cover',\r\n    width: photoDimension.width,\r\n    height: photoDimension.height,\r\n    animationFillMode: 'forwards',\r\n    animationName: 'fadeIn',\r\n    animationDuration: '1s',\r\n    animationTimingFunction: 'linear',\r\n    transitionDuration: '.3s',\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* sketchy code just to get the width */}\r\n      <div ref={wrapperRef} sx={{width: '100%', position: 'absolute'}}/>\r\n      <div\r\n        sx={wrapperStyle}\r\n        onMouseOver={lockImage}\r\n        onMouseLeave={unlockImage}\r\n        onFocus={lockImage}\r\n        \r\n      >\r\n        <img src={url} sx={imageStyle} key={url} />\r\n        <div sx={descriptionStyle}>{description}</div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\n//=====================================================\r\n\r\n/**\r\n * In case someone wants to reuse this\r\n *\r\n * @description\r\n * A basic photo slide deck that includes one main photo,\r\n *  and two grayed out photos at the sides.\r\n * You can hover over the main photo, it locks the image in place from rotation,\r\n * and the description of the image pops up\r\n *\r\n * @example\r\n *\r\n * const photos = [{\r\n *   url: 'https://img.example.com',\r\n *   description: 'sample image',\r\n * }];\r\n *\r\n * const photoDimension = {\r\n *   width: 100,\r\n *   height: 100,\r\n * };\r\n * <PhotoSlideDeck photos={photos} photoDimension={photoDimension}/>\r\n *\r\n */\r\nexport const PhotoSlideDeck: React.FC<Props> = ({photos, photoDimension}) => {\r\n  const [curPhoto, setCurPhoto] = useState<number>(0);\r\n  const timerId = useRef<number[]>([]);\r\n\r\n  const interval = 3000;\r\n  const intervalAfterLock = interval / 3;\r\n\r\n  useEffect(() => {\r\n    startRotation();\r\n    return clearTimerIds;\r\n  }, []);\r\n\r\n  const getPrevIdx = useMemo(() => (curIdx: number) => {\r\n    let newIdx = curIdx - 1;\r\n    if (newIdx < 0) newIdx = photos.length - 1;\r\n    return newIdx;\r\n  }, [curPhoto]);\r\n\r\n  const getNextIdx = useMemo(() => (curIdx: number) => {\r\n    let newIdx = (curIdx + 1) % photos.length;\r\n    return newIdx;\r\n  }, [curPhoto]);\r\n\r\n  const lockImage = () => {\r\n    clearTimerIds();\r\n  };\r\n\r\n  /**\r\n   * Start the rotation of photos and set the rotating interval\r\n   */\r\n  const startRotation = () => {\r\n    const id = window.setInterval(() => {\r\n      setCurPhoto(getNextIdx);\r\n    }, interval);\r\n    timerId.current.push(id);\r\n  };\r\n\r\n  const unlockImage = () => {\r\n    const id = window.setTimeout(() => {\r\n      setCurPhoto(getNextIdx);\r\n      startRotation();\r\n    }, intervalAfterLock);\r\n    timerId.current.push(id);\r\n  };\r\n\r\n  const resetTimer = () => {\r\n    clearTimerIds()\r\n    startRotation();\r\n  };\r\n\r\n  const clearTimerIds = () => {\r\n    timerId.current.forEach(window.clearInterval);\r\n  };\r\n\r\n  const style: SxStyleProp = {\r\n    textAlign: 'center',\r\n    mt: '5%',\r\n    display: 'flex',\r\n    position: 'relative',\r\n  };\r\n\r\n  return (\r\n    <div sx={style}>\r\n      <GrayImage\r\n        url={photos[getPrevIdx(curPhoto)].url}\r\n        photoDimension={photoDimension}\r\n        onClick={() => {\r\n          setCurPhoto(getPrevIdx);\r\n          resetTimer();\r\n        }}\r\n        extraStyling={{left: 0}}\r\n      />\r\n      <CenterImage\r\n        url={photos[curPhoto].url}\r\n        description={photos[curPhoto].description}\r\n        photoDimension={photoDimension}\r\n        lockImage={lockImage}\r\n        unlockImage={unlockImage}\r\n      />\r\n      <GrayImage\r\n        url={photos[getNextIdx(curPhoto)].url}\r\n        photoDimension={photoDimension}\r\n        onClick={() => {\r\n          setCurPhoto(getNextIdx);\r\n          resetTimer();\r\n        }}\r\n        extraStyling={{right: 0}}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoSlideDeck;\r\n","export interface rgbItem {\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n  a?: number;\r\n}\r\n\r\n// yes shari i need these jsdocs for the function tooltips\r\n/**\r\n * Cpmverts a hex string into an rgb object. Only works with\r\n * RRGGBB hexadecimals.\r\n * @param hex - the 6 byte hex string to convert to rgb.\r\n * @return an obhect with the r, g, b properties, according to\r\n * the hex string.\r\n */\r\nexport const hexToRgb = (hex: string): rgbItem => {\r\n  // Eliminate any non-hex things\r\n  hex = hex.replace(/[^0-9A-F]/gi, '');\r\n\r\n  // Convert to a 6 byte num that we'll fiddle with\r\n  let hexNum: number = parseInt(hex, 16);\r\n\r\n  // Using bitwise operations to parse RGB value by bitwise shifting\r\n  // to the correct colour byte group, and bitwise anding it with 255 to\r\n  // get the correct rgb value.\r\n  // using: https://stackoverflow.com/a/11508164\r\n  return {\r\n    r: (hexNum >> 16) & 255,\r\n    g: (hexNum >> 8) & 255,\r\n    b: hexNum & 255,\r\n  };\r\n};\r\n\r\n/**\r\n * Converts an RRGGBB hex string with a specified alpha into an rgba object.\r\n * @param hex - the 6 byte hex string without an alpha part\r\n * @param alpha - the desired alpha value, between 0.0 - 1.0\r\n * @returns an object with the r, g, b, and a properties/\r\n */\r\nexport const hexToRgba = (hex: string, alpha: number): rgbItem => {\r\n  return {\r\n    ...hexToRgb(hex),\r\n    a: alpha,\r\n  };\r\n};\r\n\r\n/**\r\n * Gets a formatted url of an image with proper resizing based\r\n * on the width and height input. The API used scales the original\r\n * aspect ratio of the image until one of the dimensions are met.\r\n * @param imageId - the image's id in the gallery folder.\r\n * @param width - an integer with the object's desired width.\r\n * @param height - an integer with the object's desired height.\r\n * @returns a formatted URL to the image with proper dimensions.\r\n */\r\nexport const getImageUrl = (\r\n  imageId: string,\r\n  width: number,\r\n  height: number,\r\n): string => {\r\n  return `https://drive.google.com/thumbnail?id=${imageId}&sz=w${Math.round(\r\n    width,\r\n  )}-h${Math.round(height)}`;\r\n};\r\n\r\n/**\r\n * Takes an array and splits it into n arrays.\r\n * @template T - the type in the array.\r\n * @param arr - the array to be split.\r\n * @param n - the amount of sub arrays desired.\r\n * @returns an array containing the subarrays.\r\n */\r\nexport function splitArray<T>(arr: T[], n: number): T[][] {\r\n  const array: T[] = arr.slice(); // so we don't destroy the original\r\n  const result: T[][] = [];\r\n  while (array.length > 0) {\r\n    /*W\r\n    e can keep splicing away sections of array.length / n and keep\r\n    subtracting n by 1 to get n equal sized subarrays. Why? Cause MATH\r\n    */\r\n    result.push(array.splice(0, Math.ceil(array.length / n--)));\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport const randNum = (min: number, max: number) =>\r\n  Math.round((Math.random() * (max - min) + min) * 100) / 100;\r\n\r\nexport const randInt = (min: number, max: number) =>\r\n  Math.floor(randNum(min, max));\r\n\r\n\r\nexport const hexToRgbArr = (hex) => {\r\n  if (hex[0] === '#') hex = hex.slice(1);\r\n  const rgb = [\r\n    parseInt(hex.slice(0, 2), 16),\r\n    parseInt(hex.slice(2, 4), 16),\r\n    parseInt(hex.slice(4, 6), 16),\r\n  ];\r\n  return rgb;\r\n};\r\n\r\n/**\r\n * Stops users from scrolling the main body page, and saves the\r\n * original scroll location. Great for overlays.\r\n * @param topPos - The current window's scroll from the top.\r\n */\r\nexport const disallowScrolling = (topPos: number) => {\r\n  document.body.style.position = 'sticky';\r\n  document.body.style.overflowY = 'hidden';\r\n  document.body.style.top = `-${topPos}px`;\r\n};\r\n\r\n/**\r\n * Allows users to scroll the main body page again, from their last\r\n * saved window scroll position.\r\n */\r\nexport const allowScrolling = () => {\r\n  const topY = document.body.style.top;\r\n\r\n  document.body.style.position = '';\r\n  document.body.style.top = 'auto';\r\n  document.body.style.overflowY = 'initial';\r\n\r\n  // return to saved position, or top if it doesn't exist\r\n  window.scrollTo(0, -parseInt(topY || '0'));\r\n};\r\n\r\n/**\r\n * Detects and returns a user's swipe direction, or if it was pressed.\r\n * @param oldPos - The starting position of the user's tap.\r\n * @param newPos - The position where the user last held their finger.\r\n * @returns a string with either the user's swipe direction or if they\r\n * simply pressed instead.\r\n */\r\nexport const detectSwipeDirection = (\r\n  oldPos: {x: number; y: number},\r\n  newPos: {x: number; y: number},\r\n): 'left' | 'right' | 'up' | 'down' | 'press' => {\r\n  const xDiff = oldPos.x - newPos.x;\r\n  const yDiff = oldPos.y - newPos.y;\r\n\r\n  // checking for pressing\r\n  if (xDiff > -15 && xDiff < 15 && yDiff > -15 && yDiff < 15) {\r\n    return 'press';\r\n  }\r\n  // find which difference is most significant\r\n  if (Math.abs(xDiff) > Math.abs(yDiff)) {\r\n    if (xDiff > 0) {\r\n      return 'left';\r\n    } else {\r\n      return 'right';\r\n    }\r\n  } else {\r\n    if (yDiff > 0) {\r\n      return 'up';\r\n    } else {\r\n      return 'down';\r\n    }\r\n  }\r\n};\r\n","/**@jsx jsx */\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from './theme';\r\n\r\nexport class RandomDot {\r\n  private size: number;\r\n  private left: number;\r\n  private top: number;\r\n  \r\n  constructor(x: number, y: number, width: number, height: number) {\r\n    this.size = Math.random()*9;\r\n    this.left = Math.random()*width+x;\r\n    this.top = Math.random()*height+y;\r\n  }\r\n  \r\n  public getComponent = () => {\r\n    const dotStyle: SxStyleProp = {\r\n      backgroundColor: theme.colors.yellow,\r\n      borderRadius: 10,\r\n      width: this.size,\r\n      height: this.size,\r\n      left: this.left,\r\n      top: this.top,\r\n      position: 'absolute',\r\n    };\r\n    return <div sx={dotStyle}/>\r\n  };\r\n}","/** @jsx jsx */\r\nimport React, {useContext, useState, useRef, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {Link} from 'react-router-dom';\r\nimport {MdControlPoint} from 'react-icons/md';\r\nimport {GiClick} from 'react-icons/gi';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport {theme, FIRST_BREAKPOINT} from '../utils/theme';\r\nimport {\r\n  InfoContext,\r\n  IInfoContext,\r\n  ITransparentCtx,\r\n  TransparentCtx,\r\n  ISetTransparentCtx,\r\n  SetTransparentCtx,\r\n} from '../utils/contexts';\r\nimport {CountDownTimer} from '../components/CountDownTimer';\r\nimport {Heading} from '../components/Heading';\r\nimport {Collapsable} from '../components/Collapsable';\r\nimport {PhotoSlideDeck, Photo} from '../components/PhotoSlideDeck';\r\nimport {getImageUrl, hexToRgbArr} from '../utils/functions';\r\nimport {RandomDot} from '../utils/RandomDot';\r\nimport {useToggleNavColour} from '../utils/hooks';\r\n\r\n/**\r\n * The home screen, big parallax background plus the timer\r\n */\r\nconst Main: React.FC = () => {\r\n  const countdownEvent = useContext<IInfoContext>(InfoContext).countdown[0];\r\n  const {} = useContext<ITransparentCtx>(TransparentCtx);\r\n\r\n  if (!countdownEvent) {\r\n    return <div />;\r\n  }\r\n\r\n  // const bgTint =\r\n\r\n  const style: SxStyleProp = {\r\n    width: '100%',\r\n    height: '100vh',\r\n    backgroundSize: 'cover',\r\n    backgroundImage:\r\n      `linear-gradient(rgba(${hexToRgbArr(theme.colors.navbar)}, 0.8),` +\r\n      `rgba(${hexToRgbArr(theme.colors.navbar)}, 0.4)),` +\r\n      `url(\"./assets/home-background.png\") `,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  };\r\n\r\n  const buttonStyle: SxStyleProp = {\r\n    top: '62%',\r\n    left: '7%',\r\n    width: 'fit-content',\r\n    mx: 'auto',\r\n    mt: '1em',\r\n    position: ['static', 'absolute'],\r\n    // backgroundColor: ['transparent', theme.colors.background.accent],\r\n    color: theme.colors.text.light,\r\n    textAlign: 'center',\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: [20, 30],\r\n    '&:hover': {\r\n      textDecoration: 'none',\r\n      color: theme.colors.text.light,\r\n      backgroundColor: theme.colors.background.overlay,\r\n    },\r\n    fontVariantCaps: 'titling-caps',\r\n    px: 4,\r\n    order: 1,\r\n\r\n    //mobile\r\n    borderColor: theme.colors.background.light,\r\n    borderWidth: [1, 2],\r\n    borderStyle: 'solid',\r\n  };\r\n\r\n  return (\r\n    <div sx={style}>\r\n      <CountDownTimer date={new Date(countdownEvent.date)} />\r\n      <Link to=\"events\" sx={buttonStyle}>\r\n        <div sx={{my: 2}}>{countdownEvent.eventName.toUpperCase()}</div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\n//=============================================================\r\n\r\n/**\r\n * The green board that has dots in the background\r\n * sketchiest code\r\n */\r\nconst BackgroundWithDots: React.FC = (props) => {\r\n  const [randomDots, setRandomDots] = useState<RandomDot[]>([]);\r\n  const [numDots, setNumDots] = useState<number>(null);\r\n\r\n  //for getting the width\r\n  const componentRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    //used to re-render the dots upon resizing, because it may be a long list\r\n    const ro = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        const height = entry.contentRect.height;\r\n        generateRandomDots(height);\r\n      });\r\n    });\r\n    ro.observe(componentRef.current);\r\n    return () => ro.disconnect();\r\n  }, [randomDots]);\r\n\r\n  /**\r\n   * Gets random dots for the background at\r\n   * *x ∈ [0, 1/3(width)] ∪ [2/3(width), width], y ∈ [0, height]*\r\n   */\r\n  const generateRandomDots = (height: number) => {\r\n    const width = componentRef.current.getBoundingClientRect().width;\r\n    const dotsPerSideHeightInterval = 40;\r\n    setNumDots((height / dotsPerSideHeightInterval) * 2);\r\n    const numNewDots =\r\n      height / dotsPerSideHeightInterval - randomDots.length / 2;\r\n\r\n    for (let i = 0; i < numNewDots; i++) {\r\n      setRandomDots((oldArr) => {\r\n        const clone = [...oldArr];\r\n        clone.push(\r\n          new RandomDot(\r\n            width - width / 3,\r\n            height / 20,\r\n            width / 3,\r\n            height - height / 10,\r\n          ),\r\n        );\r\n        clone.push(\r\n          new RandomDot(0, height / 20, width / 3, height - height / 10),\r\n        );\r\n        return clone;\r\n      });\r\n    }\r\n  };\r\n\r\n  const style: SxStyleProp = {\r\n    backgroundColor: theme.colors.secondary,\r\n    borderRadius: 30,\r\n    mt: 30,\r\n    position: 'relative',\r\n    pb: 60,\r\n    pt: 20,\r\n    display: 'flex',\r\n  };\r\n\r\n  return (\r\n    <div sx={style} ref={componentRef}>\r\n      {window.innerWidth > FIRST_BREAKPOINT\r\n        ? randomDots.map((dot) => dot.getComponent()).slice(0, numDots)\r\n        : undefined}\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\n//=============================================================\r\n\r\nconst UpcomingBoard: React.FC = () => {\r\n  const {upcomingMiniEvents} = useContext<IInfoContext>(InfoContext);\r\n\r\n  const style: SxStyleProp = {\r\n    pt: theme.bodyPadding.pt,\r\n    pb: theme.bodyPadding.pb,\r\n    px: theme.bodyPadding.px,\r\n  };\r\n\r\n  /**\r\n   * Gets the collapsable list for all upcoming events\r\n   */\r\n  const getEventsList = () => {\r\n    const style: SxStyleProp = {\r\n      fontSize: theme.fontSizes.bodyBig,\r\n      fontFamily: theme.fonts.body,\r\n    };\r\n\r\n    const descriptionStyle: SxStyleProp = {\r\n      textAlign: 'left',\r\n      pl: '1em',\r\n      fontSize: theme.fontSizes.body.map((n) => n + 2),\r\n      py: '0.5em',\r\n    };\r\n\r\n    return upcomingMiniEvents.map((event) => {\r\n      const iconStyle: SxStyleProp = {\r\n        color: theme.colors.footer,\r\n        ml: '0.5em',\r\n        // '&:hover': {\r\n        //   color: theme.colors.footer,\r\n        // },\r\n      };\r\n\r\n      const linkStyle: SxStyleProp = {\r\n        color: theme.colors.text.light,\r\n        '&:hover': {\r\n          textDecoration: 'none',\r\n          color: theme.colors.footer,\r\n        },\r\n      };\r\n\r\n      const title = (\r\n        <React.Fragment>\r\n          <MdControlPoint sx={{mr: '1em'}} />\r\n          {event.link ? (\r\n            <a href={event.link} sx={linkStyle}>\r\n              {event.name}\r\n              {/* <GiClick sx={iconStyle} /> */}\r\n            </a>\r\n          ) : (\r\n            event.name\r\n          )}\r\n        </React.Fragment>\r\n      );\r\n\r\n      if (!event.description)\r\n        return <Collapsable title={title} titleStyle={style} />;\r\n      return (\r\n        <Collapsable\r\n          title={title}\r\n          titleStyle={style}\r\n          childrenStyle={{ml: ['20%', '15em']}}\r\n        >\r\n          <div sx={descriptionStyle}>{event.description}</div>\r\n        </Collapsable>\r\n      );\r\n    });\r\n  };\r\n\r\n  /**\r\n   * The placeholder value for if there are no upcoming events\r\n   */\r\n  const getPlaceHolder = () => {\r\n    const style: SxStyleProp = {\r\n      fontSize: theme.fontSizes.bodyBig,\r\n      textAlign: 'center',\r\n      color: theme.colors.text.light,\r\n      py: 5,\r\n    };\r\n\r\n    return <div sx={style}>Nothing Yet!</div>;\r\n  };\r\n\r\n  const eventListWrapper: SxStyleProp = {\r\n    margin: 'auto',\r\n  };\r\n\r\n  if (!upcomingMiniEvents) {\r\n    return <div />;\r\n  }\r\n\r\n  return (\r\n    <div sx={style}>\r\n      <Heading alignment=\"center\" text=\"Upcoming\" />\r\n      <BackgroundWithDots>\r\n        {upcomingMiniEvents.length > 0 ? (\r\n          <div sx={eventListWrapper}>{getEventsList()}</div>\r\n        ) : (\r\n          getPlaceHolder()\r\n        )}\r\n      </BackgroundWithDots>\r\n    </div>\r\n  );\r\n};\r\n\r\n//=============================================================\r\n\r\n/**\r\n * The recents gallery\r\n */\r\nconst Recent: React.FC = () => {\r\n  const {recents} = useContext<IInfoContext>(InfoContext);\r\n  const [width, setWidth] = useState<number>(0);\r\n  const thisComponentRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!thisComponentRef.current) return;\r\n    setWidth(thisComponentRef.current.getBoundingClientRect().width);\r\n  }, []);\r\n\r\n  if (!recents) {\r\n    return <div></div>;\r\n  }\r\n\r\n  const style: SxStyleProp = {\r\n    backgroundColor: theme.colors.background.overlay,\r\n    px: theme.bodyPadding.px,\r\n    pt: theme.bodyPadding.pt,\r\n    pb: theme.bodyPadding.pb,\r\n  };\r\n\r\n  //scale in relation to viewport width\r\n  const scale = width > FIRST_BREAKPOINT ? 0.38 : 0.75;\r\n\r\n  const photos: Photo[] = recents.map((event) => {\r\n    return {\r\n      url: getImageUrl(event.photoId, Math.round(width / scale), 1000),\r\n      description: event.description,\r\n    };\r\n  });\r\n\r\n  //target photo dimension\r\n  //photos are 1.5:1 aspect ratio\r\n  const photoDimension = {\r\n    width: width * scale,\r\n    height: (width * scale) / 1.5,\r\n  };\r\n\r\n  const line: SxStyleProp = {\r\n    backgroundColor: theme.colors.primary,\r\n    height: '0.2em',\r\n    width: ['80%', '20%'],\r\n    borderRadius: 3,\r\n    mt: ['1em', '1.5em'],\r\n    mx: 'auto',\r\n  };\r\n  return (\r\n    <div sx={style} ref={thisComponentRef}>\r\n      <Heading text=\"Recents\" alignment=\"center\" />\r\n      <PhotoSlideDeck photos={photos} photoDimension={photoDimension} />\r\n      <div sx={line} />\r\n    </div>\r\n  );\r\n};\r\n\r\n//=============================================================\r\n\r\nexport const Home: React.FC = () => {\r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  const toggleNavUnsub = useToggleNavColour(window.innerHeight);\r\n  console.log('mount');\r\n  useEffect(() => {\r\n    setTransparent(true);\r\n    return toggleNavUnsub;\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Main />\r\n      <UpcomingBoard />\r\n      <Recent />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","/** @jsx jsx */\r\nimport React, {ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport {hexToRgba, rgbItem} from '../utils/functions';\r\n\r\nexport interface TransRectProps {\r\n  lengthX: string | number; //string for '2em', etc\r\n  lengthY?: string | number;\r\n  minLengthY?: string | number; // if you need the rect to expand but have a min\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\n// Default background colour for IE kids (ie no one)\r\nconst backRgba: rgbItem = hexToRgba(\r\n  theme.colors.secondary,\r\n  0.5,\r\n);\r\n\r\nexport const TranslucentRectangle: React.FC<TransRectProps> = ({\r\n  lengthX,\r\n  lengthY,\r\n  minLengthY,\r\n  extraStyling,\r\n  children,\r\n}): ReactElement => {\r\n  const rectStyle: SxStyleProp = {\r\n    width: lengthX,\r\n    height: lengthY,\r\n    minHeight: minLengthY,\r\n    // So IE doesnt kill itself when trying to load\r\n    backgroundColor: backRgba.hasOwnProperty('a')\r\n      ? `rgba(${backRgba.r}, ${backRgba.b}, ${backRgba.g}, ${backRgba.a})`\r\n      : `rgba(backRgba.r, backRgba.b, backRgba.g)`,\r\n    // If you want HEX RRGGBBAA put it in extraStyling\r\n    ...extraStyling,\r\n  };\r\n\r\n  return <div sx={rectStyle}>{children}</div>;\r\n};\r\n","/** @jsx jsx */\r\nimport React, {ReactElement, useState, useEffect, useCallback} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {FaArrowUp} from 'react-icons/fa';\r\n\r\nimport {useUnmountingDelay} from '../utils/hooks';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {fadeInPartially} from '../utils/animation';\r\n\r\nexport const ScrollToTopButton: React.FC = () => {\r\n  const [showScrollButton, setShowScrollButton] = useState<boolean>(false);\r\n  // for the fadeout\r\n  const shouldRenderButton = useUnmountingDelay(showScrollButton, 500);\r\n\r\n  const handleScroll = useCallback(() => {\r\n    if (!showScrollButton && window.pageYOffset > 500) {\r\n      setShowScrollButton(true);\r\n    } else if (showScrollButton && window.pageYOffset <= 500) {\r\n      setShowScrollButton(false);\r\n    }\r\n  }, [showScrollButton]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('scroll', handleScroll, false);\r\n\r\n    return () => document.removeEventListener('scroll', handleScroll, false);\r\n  }, [handleScroll]);\r\n\r\n  /**\r\n   * Scrolls to the top of the page.\r\n   */\r\n  const scrollToTop = () => {\r\n    window.scrollTo({top: 0, behavior: 'smooth'});\r\n  };\r\n\r\n  /**\r\n   * Renders a formatted scroll to top button. Assumes that checks were\r\n   * done beforehand to make sure this component should exist.\r\n   */\r\n  const renderScrollButton = (): ReactElement => {\r\n    const buttonStyle: SxStyleProp = {\r\n      position: 'fixed',\r\n      bottom: '5%',\r\n      right: '5%',\r\n\r\n      width: ['40px', '50px', '60px'],\r\n      height: ['40px', '50px', '60px'],\r\n      borderRadius: '50%',\r\n\r\n      '@keyframes fadeIn': fadeInPartially,\r\n      animationName: 'fadeIn',\r\n      animationDuration: '0.5s',\r\n\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n\r\n      backgroundColor: theme.colors.secondary,\r\n      boxShadow: '3px 3px 23px -3px rgba(0,0,0,0.75)',\r\n\r\n      transition: 'opacity 0.5s ease, background-color 0.5s ease',\r\n      opacity: showScrollButton ? 0.5 : 0,\r\n\r\n      zIndex: 10,\r\n\r\n      '&:hover': {\r\n        opacity: 1,\r\n        backgroundColor: theme.colors.primary,\r\n        cursor: 'pointer',\r\n      },\r\n    };\r\n\r\n    const iconStyle: SxStyleProp = {\r\n      margin: 'auto',\r\n      width: ['25px', '35px', '45px'],\r\n      height: 'auto',\r\n      // height: ['25px', '35px', '45px'],\r\n    };\r\n\r\n    return (\r\n      <div sx={buttonStyle} onClick={scrollToTop}>\r\n        <FaArrowUp color={theme.colors.text.light} sx={iconStyle} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return shouldRenderButton ? renderScrollButton() : <React.Fragment />;\r\n};\r\n","/** @jsx jsx */\r\nimport React, {\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useRef,\r\n  ReactElement,\r\n} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {Heading} from '../components/Heading';\r\nimport {TranslucentRectangle} from '../components/TranslucentRectangle';\r\nimport {LoadingSquare} from '../components/LoaderComponents';\r\nimport {ScrollToTopButton} from '../components/ScrollToTopButton';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {IInfoContext, InfoContext, ITransparentCtx, TransparentCtx, ISetTransparentCtx, SetTransparentCtx} from '../utils/contexts';\r\nimport {Event} from '../utils/interfaces';\r\nimport {getImageUrl} from '../utils/functions';\r\nimport {useUnmountingDelay} from '../utils/hooks';\r\nimport {fadeOut, fadeIn} from '../utils/animation';\r\n\r\n// Interfaces --\r\ninterface EventItemProps {\r\n  height: string;\r\n  width: string;\r\n  event: Event;\r\n  textLocation: 'left' | 'right';\r\n  rectStyling?: SxStyleProp;\r\n}\r\n\r\ninterface EventHeadingProps {\r\n  text: string;\r\n  textLocation: 'left' | 'right';\r\n  extraHeaderStyling?: SxStyleProp;\r\n  extraTextStyling?: SxStyleProp;\r\n}\r\n\r\ninterface EventPhotoProps {\r\n  photoID: string;\r\n  width: string;\r\n  height: number;\r\n  photoLocation: string;\r\n}\r\n\r\ninterface EventInfoItemProps {\r\n  width: string;\r\n  textLocation: 'left' | 'right';\r\n  eventDetails: EventDetails;\r\n}\r\n\r\ninterface EventButtonProps {\r\n  buttonText: string;\r\n  buttonLink: string;\r\n  extraButtonStyling?: SxStyleProp;\r\n}\r\n\r\nexport interface EventDetails {\r\n  description: string;\r\n  date: string;\r\n  buttonText?: string;\r\n  buttonLink?: string;\r\n}\r\n\r\n// ============================================================\r\n// EventHeading -- for the main header containing the event name.\r\nconst EventHeading: React.FC<EventHeadingProps> = ({\r\n  text,\r\n  textLocation,\r\n  extraHeaderStyling,\r\n  extraTextStyling,\r\n}) => {\r\n  const wrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    mt: '3%',\r\n    mb: '1%',\r\n    py: '1%',\r\n    width: ['95%', '90%', '80%'],\r\n    height: 'auto',\r\n\r\n    // position this based on text location\r\n    ml: textLocation === 'left' ? 'auto' : 0,\r\n    mr: textLocation === 'right' ? 'auto' : 0,\r\n    pr: textLocation === 'right' ? '2em' : 0,\r\n    pl: textLocation === 'left' ? '2em' : 0,\r\n    zIndex: 3,\r\n\r\n    textAlign: textLocation,\r\n\r\n    backgroundColor: theme.colors.primary,\r\n\r\n    ...extraHeaderStyling,\r\n  };\r\n  const titleTextStyle: SxStyleProp = {\r\n    display: 'inline',\r\n    position: 'relative',\r\n    fontSize: theme.fontSizes.heading.event,\r\n    fontFamily: theme.fonts.body,\r\n    color: theme.colors.text.light,\r\n\r\n    margin: 'auto',\r\n\r\n    ...extraTextStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <p sx={titleTextStyle}>{text}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// EventPhoto -- for the main img that shows up for the event.\r\n// TODO: consistent resizing?\r\nconst EventPhoto: React.FC<EventPhotoProps> = ({\r\n  photoID,\r\n  width,\r\n  height,\r\n  photoLocation,\r\n}) => {\r\n  const [imgWidth, setImgWidth] = useState<number>(0);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const renderLoadingSquare = useUnmountingDelay(loading, 1000);\r\n  const imageRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Get the width of the div that contains the image, so that we can\r\n  // size the image properly.\r\n  useEffect(() => {\r\n    if (!imageRef.current) return;\r\n\r\n    setImgWidth(Math.round(imageRef.current.getBoundingClientRect().width));\r\n  }, [imageRef]);\r\n\r\n  // Styles --\r\n  const wrapperStyle: SxStyleProp = {\r\n    // The wrapper that holds both the image and the rect for now\r\n\r\n    position: 'absolute',\r\n    top: '5%',\r\n    right: photoLocation === 'right' ? 0 : 'auto',\r\n    left: photoLocation === 'left' ? 0 : 'auto',\r\n\r\n    width: width,\r\n    maxWidth: width,\r\n    height: height,\r\n    maxHeight: '100%', // make sure the image doesn't break the page\r\n\r\n    zIndex: 5, // draw over the title\r\n\r\n    transition: 'transform .2s, .5s ease',\r\n    '&:hover': {\r\n      transform: 'scale(1.025)',\r\n      opacity: 0.95,\r\n    },\r\n  };\r\n  const imageStyle: SxStyleProp = {\r\n    display: loading ? 'none' : 'block',\r\n    '@keyframes fade-in': fadeIn,\r\n    animation: 'fade-in 1s linear',\r\n\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    height: '100%',\r\n  };\r\n  const rectStyling: SxStyleProp = {\r\n    // For extra styling of the TransparentRectangle\r\n\r\n    position: 'absolute',\r\n    backgroundColor: theme.colors.navbar + '66',\r\n    maxHeight: '100%', // make sure the image doesn't break the page\r\n    width: '100%',\r\n    zIndex: 2,\r\n\r\n    top: '3%',\r\n    right: photoLocation === 'right' ? '3%' : 'auto',\r\n    left: photoLocation === 'left' ? '3%' : 'auto',\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Handles image loading and sets loading state to false.\r\n   */\r\n  const handleLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  /**\r\n   * Determines whether to render a LoadingSquare or not.\r\n   * @returns either a loading square or nothing.\r\n   */\r\n  const displayLoadingSquare = (): ReactElement | void => {\r\n    const loadingSquareStyle: SxStyleProp = {\r\n      '@keyframes fade-out': fadeOut,\r\n      animation: loading ? 'none' : 'fade-out 1s linear',\r\n    };\r\n\r\n    return <LoadingSquare extraStyling={loadingSquareStyle} />;\r\n  };\r\n\r\n  return (\r\n    // yes shari i know that the header isnt exactly right but\r\n    // ill fix that later i guess :)\r\n    <div sx={wrapperStyle} ref={imageRef}>\r\n      {renderLoadingSquare ? displayLoadingSquare() : undefined}\r\n      <img\r\n        src={getImageUrl(photoID, 5000, height)}\r\n        alt=\"\"\r\n        sx={imageStyle}\r\n        onLoad={handleLoading}\r\n      />\r\n      <TranslucentRectangle\r\n        lengthX={imgWidth}\r\n        lengthY={height}\r\n        extraStyling={rectStyling}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// EventButton -- for any buttons that are needed for the event element.\r\nconst EventButton: React.FC<EventButtonProps> = ({\r\n  buttonText,\r\n  buttonLink,\r\n  extraButtonStyling,\r\n}) => {\r\n  // Assumes button text and button link is valid\r\n  const wrapperStyle: SxStyleProp = {\r\n    display: 'inline-block',\r\n    backgroundColor: theme.colors.primary,\r\n\r\n    textAlign: 'center',\r\n\r\n    px: '2%',\r\n    py: '1%',\r\n    mx: '5%',\r\n    mt: '2%',\r\n    mb: '0.5%',\r\n\r\n    transition: 'transform .2s, .5s ease',\r\n    '&:hover': {\r\n      transform: 'scale(1.025)',\r\n      cursor: 'pointer',\r\n    },\r\n\r\n    ...extraButtonStyling,\r\n  };\r\n  const buttonStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.body,\r\n    whiteSpace: 'nowrap',\r\n\r\n    '&:hover': {\r\n      color: theme.colors.text.light,\r\n      textDecoration: 'none',\r\n    },\r\n  };\r\n\r\n  /**\r\n   * Renders the contents of the button, depending on whether\r\n   * a link was provided or not.\r\n   */\r\n  const renderButtonContents = () => {\r\n    if (buttonLink) {\r\n      return (\r\n        <a href={buttonLink} sx={buttonStyle}>\r\n          {buttonText}\r\n        </a>\r\n      );\r\n    }\r\n\r\n    return <span sx={buttonStyle}> {buttonText}</span>;\r\n  };\r\n\r\n  return <div sx={wrapperStyle}>{renderButtonContents()}</div>;\r\n};\r\n\r\n// ============================================================\r\n// EventInfoItem -- for the description and button\r\nconst EventInfoItem: React.FC<EventInfoItemProps> = ({\r\n  width,\r\n  textLocation,\r\n  eventDetails,\r\n}) => {\r\n  // Styles for the buttons\r\n  const textWrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n\r\n    width: width,\r\n    maxWidth: width,\r\n\r\n    // Draw based on orientation\r\n    ml: textLocation === 'left' ? 0 : 'auto',\r\n    mr: textLocation === 'right' ? 0 : 'auto',\r\n    textAlign: textLocation === 'right' ? 'left' : 'right',\r\n  };\r\n  const descriptionStyle: SxStyleProp = {\r\n    position: 'relative',\r\n\r\n    display: 'inline-block',\r\n    px: '5%',\r\n\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.event,\r\n    color: theme.colors.text.darkGray,\r\n\r\n    wordWrap: 'normal',\r\n    lineHeight: 1.6,\r\n  };\r\n  const dateStyle: SxStyleProp = {\r\n    ...descriptionStyle,\r\n\r\n    color: theme.colors.secondary,\r\n    fontSize: theme.fontSizes.event.map((size) => size + 2),\r\n    fontWeight: 'bold',\r\n    pb: '1%',\r\n  };\r\n  const buttonContainerStyle: SxStyleProp = {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: textLocation === 'right' ? 'flex-start' : 'flex-end',\r\n  };\r\n\r\n  /**\r\n   * Checks to see if a button should be rendered in the first place,\r\n   * based on presence of button text or not.\r\n   * @returns either an empty element or a button.\r\n   */\r\n  const renderButton = (): ReactElement => {\r\n    if (eventDetails.buttonText) {\r\n      return (\r\n        <EventButton\r\n          buttonText={eventDetails.buttonText}\r\n          buttonLink={eventDetails.buttonLink}\r\n        />\r\n      );\r\n    }\r\n\r\n    return <div></div>;\r\n  };\r\n\r\n  return (\r\n    <div sx={textWrapperStyle}>\r\n      <p sx={dateStyle}>{eventDetails.date}</p>\r\n\r\n      <p sx={descriptionStyle}>{eventDetails.description}</p>\r\n      <div sx={buttonContainerStyle}>\r\n        {/* yes shari, this will work with multiple buttons if needed */}\r\n        {renderButton()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// EventItem -- for holding the actual event information -----\r\nconst EventItem: React.FC<EventItemProps> = ({\r\n  height,\r\n  width,\r\n  event,\r\n  textLocation,\r\n  rectStyling,\r\n}) => {\r\n  const [imgHeight, setImgHeight] = useState<number>(0);\r\n  const eventItemRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Get the height of the curernt div containing the event\r\n  // item, so that the photo can be this size too.\r\n  useEffect(() => {\r\n    if (!eventItemRef.current) return;\r\n\r\n    setImgHeight(\r\n      Math.round(eventItemRef.current.getBoundingClientRect().height),\r\n    );\r\n  }, [eventItemRef]);\r\n\r\n  // All text details for the current event\r\n  const currentEventDetails: EventDetails = {\r\n    description: event.description,\r\n    date: event.date,\r\n    buttonText: event.buttonText,\r\n    buttonLink: event.buttonLink,\r\n  };\r\n\r\n  // Sty;es fpr every event items\r\n  const wrapperStyle: SxStyleProp = {\r\n    py: '3%',\r\n    my: ['2%', '1%', 0],\r\n  };\r\n  const rectangleBarrierStyling: SxStyleProp = {\r\n    my: '-0.5em', // pulling the rectangles closer together\r\n    pb: '2%',\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n\r\n    minHeight: ['35vh', '45vh', '55vh', height],\r\n\r\n    ...rectStyling,\r\n  };\r\n\r\n  /**\r\n   * Determines if a photo should be rendered, based on presence\r\n   * of a photo ID.\r\n   * @returns either an empty element, or an event photo.\r\n   */\r\n  const renderPhoto = (): ReactElement => {\r\n    if (event.photoId) {\r\n      return (\r\n        <EventPhoto\r\n          photoID={event.photoId}\r\n          width=\"35%\"\r\n          height={imgHeight}\r\n          photoLocation={textLocation === 'left' ? 'right' : 'left'}\r\n        />\r\n      );\r\n    }\r\n\r\n    return <div></div>;\r\n  };\r\n\r\n  // All events have a heading and description and possibly\r\n  // a button (or buttons) to a link and a photo.\r\n  return (\r\n    <div sx={wrapperStyle} ref={eventItemRef}>\r\n      <TranslucentRectangle\r\n        lengthX={width}\r\n        extraStyling={rectangleBarrierStyling}\r\n      >\r\n        <EventHeading text={event.eventName} textLocation={textLocation} />\r\n        <EventInfoItem\r\n          width={event.photoId ? '65%' : '90%'}\r\n          textLocation={textLocation}\r\n          eventDetails={currentEventDetails}\r\n        />\r\n        {renderPhoto()}\r\n      </TranslucentRectangle>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// Events -- renders the page of all events.\r\nexport const Events: React.FC = () => {\r\n  const eventInfo: Event[] = useContext<IInfoContext>(InfoContext).events;\r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  useEffect(() => setTransparent(false), []);\r\n  // Styles for the page\r\n  const wrapperStyle: SxStyleProp = {\r\n    // the main page div\r\n\r\n    width: '100%',\r\n    maxWidth: '100%',\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.light,\r\n  };\r\n  const innerWrapperStyle: SxStyleProp = {\r\n    // the div that contains everything\r\n\r\n    top: '20vh',\r\n    position: 'relative',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    mb: '14em',\r\n  };\r\n  const headingWrapperStyle: SxStyleProp = {\r\n    // the header div\r\n\r\n    left: '5%',\r\n    maxWidth: '90%', // to make sure the page doesn't scroll to the right\r\n    position: 'relative',\r\n  };\r\n\r\n  // Get rid of horizontal scroll bar caused by hovering a picture\r\n  useEffect(() => {\r\n    document.body.style.overflowX = 'hidden';\r\n\r\n    return () => (document.body.style.overflowX = 'initial');\r\n  });\r\n\r\n  /**\r\n   * Retrieves all events in a formatted manner based on what number\r\n   * the event is.\r\n   * @returns a list containing all the EventItem elements.\r\n   */\r\n  const getAllEvents = (): ReactElement[] => {\r\n    return eventInfo.map((event, index) => {\r\n      const extraRectStyling: SxStyleProp = {\r\n        backgroundColor:\r\n          index % 2 === 1 ? theme.colors.background.overlay : 'transparent',\r\n      };\r\n\r\n      return (\r\n        <div key={index} sx={{position: 'relative', display: 'inline'}}>\r\n          <EventItem\r\n            width=\"100%\"\r\n            height=\"65vh\"\r\n            event={event}\r\n            textLocation={index % 2 === 1 ? 'left' : 'right'}\r\n            rectStyling={extraRectStyling}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      {/* initializing scroll to top button */}\r\n      <ScrollToTopButton />\r\n\r\n      <div sx={innerWrapperStyle}>\r\n        <div sx={headingWrapperStyle}>\r\n          <Heading text=\"Events\" alignment=\"left\" />\r\n        </div>\r\n        {getAllEvents()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useState, useRef, useEffect, ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {TranslucentRectangle} from './TranslucentRectangle';\r\nimport {LoadingSquare} from './LoaderComponents';\r\n\r\nimport {Club} from '../utils/interfaces';\r\nimport {getImageUrl, allowScrolling} from '../utils/functions';\r\nimport {theme} from '../utils/theme';\r\nimport {popIn} from '../utils/animation';\r\n// yes shari in case you couldnt tell from the code and the comments\r\n// i was really tired while coding this\r\n\r\n// Interfaces --\r\nexport interface ClubPopupProps {\r\n  closeHandler: () => void;\r\n  clubInfo: Club;\r\n}\r\n\r\ninterface ClubDescriptionItemProps {\r\n  clubname: string;\r\n  description: string;\r\n}\r\n\r\ninterface ClubInfoItemProps {\r\n  clubContactInfo: ClubContactInfo;\r\n}\r\n\r\ninterface ClubPhotoProps {\r\n  photoId: string;\r\n  width: number;\r\n}\r\n\r\ninterface ClubContactInfo {\r\n  // this can be expanded if we need more values\r\n  meetingDate: FormattedValue;\r\n  meetingFreq: FormattedValue;\r\n  meetingLoc: FormattedValue;\r\n  email?: FormattedValue;\r\n  instagram?: FormattedValue;\r\n}\r\n\r\ninterface FormattedValue {\r\n  formattedTitle: string; // the text that is displayed as the property name\r\n  value: string | ReactElement; // for possible links lol\r\n}\r\n\r\n// ============================================================\r\n// Dimensions -- edit them all here!\r\n\r\n// The club descrption box\r\nconst ClubDescriptionDimensions = {\r\n  top: ['27.5%', '22.5%', '17.5%', '15%'],\r\n  left: ['3%', '5%', '5%', '10%'],\r\n  width: ['40%', '35%', '30%', '25%'],\r\n  height: ['45%', '55%', '65%', '70%'],\r\n};\r\n\r\n// The bottom right club info box\r\nconst ClubInfoItemDimensions = {\r\n  bottom: ['24%', '16%', '16%', '8%'],\r\n  right: ['2.5%', '10%', '12%', '20%'],\r\n  width: ['45%', '35%', '35%', '25%'],\r\n};\r\n\r\n// The background photo\r\nconst ClubPhotoDimensions = {\r\n  top: ['32.5%', '27.5%', '22.5%', '20%'],\r\n  left: ['5%', '15%', '20%', '25%'],\r\n  width: ['90%', '70%', '60%', '50%'],\r\n  height: ['35%', '45%', '55%', '60%'],\r\n};\r\n\r\n// ============================================================\r\n\r\n// ============================================================\r\n// ClubDescriptionItem - for the sidebar with the club name and description\r\nconst ClubDescriptionItem: React.FC<ClubDescriptionItemProps> = ({\r\n  clubname,\r\n  description,\r\n}): ReactElement => {\r\n  // Styles for the text and stuff\r\n  const wrapperStyle: SxStyleProp = {\r\n    // The full large side rectangle\r\n\r\n    // all hail absolute positioning -- because my sanity has\r\n    // been gone for a very long time\r\n    position: 'absolute',\r\n    width: ClubDescriptionDimensions.width,\r\n    left: ClubDescriptionDimensions.left,\r\n    height: ClubDescriptionDimensions.height, // TODO: fix extreme resizing cases\r\n    top: ClubDescriptionDimensions.top,\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    textAlign: 'center',\r\n\r\n    backgroundColor: theme.colors.background.light,\r\n  };\r\n  const titleWrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '45%',\r\n\r\n    // aligning the title text\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textAlign: 'center',\r\n\r\n    backgroundColor: theme.colors.secondary,\r\n    // using clipPath to make the cool slanted rectangle\r\n    // most modern browsers should support this so im sure its fine...\r\n    clipPath: 'polygon(0 0, 100% 0, 100% 100%, 0 80%)',\r\n  };\r\n  const descriptionWrapperStyle: SxStyleProp = {\r\n    minHeight: '55%',\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n  };\r\n  const titleStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: theme.fontSizes.heading.event,\r\n    color: theme.colors.text.light,\r\n\r\n    margin: 'auto',\r\n  };\r\n  const descriptionStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.event,\r\n    color: theme.colors.text.darkSlate,\r\n\r\n    // text positioning and formatting yay\r\n    px: '5%',\r\n    margin: 'auto',\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <div sx={titleWrapperStyle}>\r\n        <h3 sx={titleStyle}>{clubname}</h3>\r\n      </div>\r\n      <div sx={descriptionWrapperStyle}>\r\n        <p sx={descriptionStyle}>{description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// ClubInfoItem -- for the bottom right bar with the rest of the club info\r\nconst ClubInfoItem: React.FC<ClubInfoItemProps> = ({\r\n  clubContactInfo,\r\n}): ReactElement => {\r\n  // Styles necessary\r\n  const wrapperStyle: SxStyleProp = {\r\n    position: 'absolute', // all hail absolute positioning\r\n    bottom: ClubInfoItemDimensions.bottom,\r\n    right: ClubInfoItemDimensions.right,\r\n    width: ClubInfoItemDimensions.width,\r\n\r\n    // if we need a min height (results in no vertical centering if\r\n    // text is too small)\r\n    // TODO: fix this i guess sometime later\r\n    // minHeight: '25%',\r\n\r\n    borderRadius: '12px',\r\n    backgroundColor: theme.colors.background.light,\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    textAlign: 'center',\r\n  };\r\n  const textContainerStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '100%',\r\n    my: '4%', // the extra 1% for 5% margin is supplied by the textboxes\r\n  };\r\n\r\n  /**\r\n   * Retrieves all the supplied contact information and formats it for\r\n   * the small contact rectangle.\r\n   * @returns a list of formatted contact information elements.\r\n   */\r\n  const getAllContactInfo = (): ReactElement[] => {\r\n    const contactInfoWrapperStyle: SxStyleProp = {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      width: '100%',\r\n      height: '100%',\r\n\r\n      my: '1%',\r\n      flex: '1', // SHOULD vertically fill...\r\n    };\r\n    const textStyle: SxStyleProp = {\r\n      fontFamily: theme.fonts.body,\r\n      fontSize: theme.fontSizes.event,\r\n      color: theme.colors.text.darkSlate,\r\n\r\n      marginY: 'auto',\r\n      wordBreak: 'break-word',\r\n      lineHeight: 1.2,\r\n    };\r\n    const colStyle: SxStyleProp = {\r\n      position: 'relative',\r\n      display: 'inline-block',\r\n    };\r\n    const leftColStyle: SxStyleProp = {\r\n      textAlign: 'left',\r\n      ml: '5%',\r\n      flex: '1',\r\n    };\r\n    const rightColStyle: SxStyleProp = {\r\n      textAlign: 'right',\r\n      mr: '5%',\r\n      flex: '2',\r\n    };\r\n\r\n    return Object.keys(clubContactInfo).map((info) => {\r\n      return (\r\n        // the text row\r\n        <div sx={contactInfoWrapperStyle} key={info}>\r\n          {/* left column of text */}\r\n          <div\r\n            sx={{\r\n              ...colStyle,\r\n              ...leftColStyle,\r\n            }}\r\n          >\r\n            <p sx={textStyle}>{clubContactInfo[info].formattedTitle}</p>\r\n          </div>\r\n\r\n          {/* right column of text */}\r\n          <div\r\n            sx={{\r\n              ...colStyle,\r\n              ...rightColStyle,\r\n            }}\r\n          >\r\n            <p sx={textStyle}>{clubContactInfo[info].value}</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <div sx={textContainerStyle}>{getAllContactInfo()}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// ClubPhoto -- for the background club photo and the translucent rectangle\r\nconst ClubPhoto: React.FC<ClubPhotoProps> = ({\r\n  photoId,\r\n  width,\r\n}): ReactElement => {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  // Image styles --\r\n\r\n  const photoStyle: SxStyleProp = {\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    height: '100%',\r\n  };\r\n  const rectStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    top: '28%',\r\n    left: '14%',\r\n\r\n    backgroundColor: theme.colors.secondary + '66',\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Handles image loading and sets loading state to false.\r\n   */\r\n  const handleLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  /**\r\n   * Determines whether to render a LoadingSquare or not.\r\n   * @returns either a loading square or nothing.\r\n   */\r\n  const displayLoadingSquare = (): ReactElement | void => {\r\n    if (loading) {\r\n      return (\r\n        <LoadingSquare extraStyling={{backgroundColor: theme.colors.navbar}} />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {displayLoadingSquare()}\r\n      <img\r\n        src={getImageUrl(photoId, width, 5000)}\r\n        alt=\"\"\r\n        sx={photoStyle}\r\n        onLoad={handleLoading}\r\n      />\r\n      <TranslucentRectangle\r\n        lengthX=\"100%\"\r\n        lengthY=\"100%\"\r\n        extraStyling={rectStyle}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n\r\n// ============================================================\r\n// ClubPopup -- for the actual main club info popup\r\nexport const ClubPopup: React.FC<ClubPopupProps> = ({\r\n  closeHandler,\r\n  clubInfo,\r\n}): ReactElement => {\r\n  const [width, setWidth] = useState<number>(0);\r\n  const clubPhotoRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!clubPhotoRef.current) return;\r\n\r\n    setWidth(Math.round(clubPhotoRef.current.getBoundingClientRect().width));\r\n  }, [clubPhotoRef]);\r\n\r\n  // Yay styles\r\n  const overlayStyle: SxStyleProp = {\r\n    width: '100vw',\r\n    height: '100vh',\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: theme.colors.background.darkOverlay,\r\n    opacity: 0.8,\r\n    zIndex: 15,\r\n    backdropFilter: 'blur(10px)',\r\n  };\r\n\r\n  const mainWrapperStyle: SxStyleProp = {\r\n    position: 'fixed',\r\n    width: '100vw',\r\n    height: '100vh',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n\r\n    zIndex: 17, // draw over everything\r\n\r\n    '@keyframes popIn': popIn,\r\n    animationName: 'popIn',\r\n    animationDuration: '1s',\r\n  };\r\n  const clickEventContainerStyle: SxStyleProp = {\r\n    width: '100%',\r\n    height: '100%',\r\n  };\r\n  const photoContainerStyle: SxStyleProp = {\r\n    position: 'absolute', // all hail absolute positioning\r\n    margin: 'auto',\r\n    top: ClubPhotoDimensions.top,\r\n    left: ClubPhotoDimensions.left,\r\n    width: ClubPhotoDimensions.width,\r\n    height: ClubPhotoDimensions.height,\r\n  };\r\n\r\n  // All the club important contact information for the contact\r\n  // info rectangle.\r\n  // TODO: make instagram and email a link lol\r\n  const clubContactInfo: ClubContactInfo = {\r\n    meetingDate: {\r\n      formattedTitle: 'Meetings:',\r\n      value: clubInfo.meetingDay,\r\n    },\r\n    meetingFreq: {\r\n      formattedTitle: 'Freq:',\r\n      value: clubInfo.meetingFrequency,\r\n    },\r\n    meetingLoc: {\r\n      formattedTitle: 'Location:',\r\n      value: clubInfo.meetingLocation,\r\n    },\r\n    email: {formattedTitle: 'Email:', value: clubInfo.email},\r\n    instagram: {formattedTitle: 'Instagram', value: clubInfo.instagram},\r\n  };\r\n\r\n  /**\r\n   * Handles the closing of the popup by determining whether to\r\n   * call the close handler or not based on where was clicked.\r\n   * @param e\r\n   */\r\n  const handleClosingParent = (\r\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\r\n  ): void => {\r\n    // Since child elements can propagate onClick events too, we\r\n    // make sure the element that called e was the parent element\r\n    // (ie. e.currentTarget, since e is binded to the parent element).\r\n    if (e.target === e.currentTarget) {\r\n      allowScrolling();\r\n      closeHandler();\r\n    }\r\n  };\r\n\r\n  return (\r\n    // sets the height, width, and position\r\n    <React.Fragment>\r\n      <div sx={overlayStyle} />\r\n      <div sx={mainWrapperStyle}>\r\n        {/* handles the click event to close the popup */}\r\n        <div sx={clickEventContainerStyle} onClick={handleClosingParent}>\r\n          {/* the background photo */}\r\n          <div sx={photoContainerStyle} ref={clubPhotoRef}>\r\n            <ClubPhoto photoId={clubInfo.photoId} width={width} />\r\n          </div>\r\n\r\n          {/* club information */}\r\n          <ClubDescriptionItem\r\n            clubname={clubInfo.name}\r\n            description={clubInfo.description}\r\n          />\r\n          <ClubInfoItem clubContactInfo={clubContactInfo} />\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useContext, useRef, useEffect, useState} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {BsThreeDots, BsSearch} from 'react-icons/bs';\r\nimport {FaTimes} from 'react-icons/fa';\r\n\r\nimport {Heading} from '../components/Heading';\r\nimport {Collapsable} from '../components/Collapsable';\r\n\r\nimport {theme, FIRST_BREAKPOINT} from '../utils/theme';\r\nimport {IInfoContext, InfoContext, ITransparentCtx, TransparentCtx, ISetTransparentCtx, SetTransparentCtx} from '../utils/contexts';\r\nimport {\r\n  getImageUrl,\r\n  disallowScrolling,\r\n  randNum,\r\n  randInt,\r\n} from '../utils/functions';\r\nimport {Club} from '../utils/interfaces';\r\n\r\nimport clubBackground from '../assets/clubBackground.png';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport {ClubPopup} from '../components/ClubPopup';\r\nimport { useToggleNavColour } from '../utils/hooks';\r\n\r\n//x1, y1 - top middle\r\n//x2, y2 - bottom left\r\n//x3, y3 - bottom right\r\nclass BgTriangleProp {\r\n  private x1: string;\r\n  private y1: string;\r\n  private x2: string;\r\n  private y2: string;\r\n  private x3: string;\r\n  private y3: string;\r\n  private style: SxStyleProp = {};\r\n\r\n  constructor(x1, y1, x2, y2, x3, y3, style: SxStyleProp) {\r\n    this.x1 = x1;\r\n    this.x2 = x2;\r\n    this.x3 = x3;\r\n    this.y1 = y1;\r\n    this.y2 = y2;\r\n    this.y3 = y3;\r\n    this.style = style;\r\n  }\r\n\r\n  public getStyle = () => this.style;\r\n\r\n  public getClipPath = () => {\r\n    return `polygon(${this.x1} ${this.y1}, ${this.x2} ${this.y2}, ${this.x3} ${this.y3})`;\r\n  };\r\n}\r\n\r\nexport const Clubs: React.FC = () => {\r\n  const {clubs, clubHighlights} = useContext<IInfoContext>(InfoContext);\r\n  const [height, setHeight] = useState<number>(0);\r\n  const [query, setQuery] = useState<string>('');\r\n  const [isPopup, setIsPopup] = useState<boolean>(false);\r\n  const [popupClub, setPopupClub] = useState<Club>(null);\r\n  const pageRef = useRef<HTMLDivElement>(null);\r\n  const bgRectWidth = useRef<number[]>([]);\r\n  const bgTriangleProp = useRef<BgTriangleProp[]>([]);\r\n\r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  useEffect(() => setTransparent(false), []);\r\n  \r\n  useEffect(() => {\r\n    const ro = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        setHeight(entry.target.clientHeight);\r\n      });\r\n    });\r\n    ro.observe(pageRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  if (!clubs || !clubHighlights) {\r\n    return <React.Fragment />;\r\n  }\r\n\r\n  /**\r\n   * Gets the list of clubs\r\n   */\r\n  const getClubList = () => {\r\n    const categories = {};\r\n    clubs.forEach((club) => {\r\n      if (categories[club.category]) {\r\n        categories[club.category].push(club);\r\n      } else {\r\n        categories[club.category] = [club];\r\n      }\r\n    });\r\n\r\n    const getClubs = (category) => {\r\n      return categories[category].map((club) => {\r\n        return (\r\n          <div\r\n            onClick={() => {\r\n              setPopupClub(club);\r\n              setIsPopup(true);\r\n            }}\r\n          >\r\n            {club.name}\r\n          </div>\r\n        );\r\n      });\r\n    };\r\n\r\n    return Object.keys(categories).map((category, index) => {\r\n      const titleStyle: SxStyleProp = {\r\n        color: theme.colors.text.darkGray,\r\n        borderColor: theme.colors.text.darkGray,\r\n        fontSize: theme.fontSizes.bodyBig,\r\n        fontFamily: theme.fonts.body,\r\n        '&:hover': {\r\n          color: theme.colors.text.darkGray,\r\n          cursor: 'pointer',\r\n        },\r\n      };\r\n      const childrenStyle: SxStyleProp = {\r\n        color: theme.colors.text.darkSlate,\r\n        borderColor: theme.colors.text.darkSlate,\r\n        ml: '80%',\r\n        pl: '1em',\r\n        fontSize: theme.fontSizes.bodySmall,\r\n        width: '100%',\r\n        '&:hover': {\r\n          cursor: 'pointer',\r\n        },\r\n      };\r\n      const titleWrapper: SxStyleProp = {\r\n        textAlign: 'right',\r\n      };\r\n      const titleComponent = (\r\n        <div sx={titleWrapper}>\r\n          {category} <BsThreeDots />\r\n        </div>\r\n      );\r\n\r\n      return (\r\n        <Collapsable\r\n          title={titleComponent}\r\n          titleStyle={titleStyle}\r\n          childrenStyle={childrenStyle}\r\n          collapsed={index === 0 ? false : true}\r\n        >\r\n          {getClubs(category)}\r\n        </Collapsable>\r\n      );\r\n    });\r\n  };\r\n\r\n  //=================================================\r\n  //querying\r\n  const getSearchResult = (searchStr: string) => {\r\n    return clubs.filter((club) => {\r\n      if (!club.name) return false;\r\n      return club.name.toLowerCase().includes(searchStr.toLowerCase());\r\n    });\r\n  };\r\n\r\n  const displaySearchResults = () => {\r\n    const wrapperStyle: SxStyleProp = {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      mx: 'auto',\r\n    };\r\n    const style: SxStyleProp = {\r\n      color: theme.colors.text.darkGray,\r\n      borderColor: theme.colors.text.darkGray,\r\n      fontSize: theme.fontSizes.bodyBig,\r\n      fontFamily: theme.fonts.body,\r\n      padding: '0.3em',\r\n      zIndex: 2,\r\n      display: 'block',\r\n      margin: 'auto',\r\n      '&:hover': {\r\n        cursor: 'pointer',\r\n      },\r\n    };\r\n    const results = getSearchResult(query).map((club) => {\r\n      return (\r\n        <div\r\n          sx={style}\r\n          onClick={() => {\r\n            setPopupClub(club);\r\n            setIsPopup(true);\r\n          }}\r\n        >\r\n          {club.name}\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return <div sx={wrapperStyle}>{results}</div>;\r\n  };\r\n\r\n  //=================================================\r\n  //background decorations\r\n  const getTransluteRects = () => {\r\n    const getStyle = (i) => {\r\n      const style: SxStyleProp = {\r\n        position: 'absolute',\r\n        height: ['50%', '20%'],\r\n        top: (i + 1) * 200,\r\n        width: ['90%', '70%', `${bgRectWidth.current[i]}%`],\r\n        backgroundColor: theme.colors.background.overlay,\r\n        right: `${0}%`,\r\n        zIndex: 0,\r\n      };\r\n      return style;\r\n    };\r\n\r\n    return Array.from(new Array(Math.floor(height / 250)).keys()).map((i) => {\r\n      if (!bgRectWidth.current[i]) bgRectWidth.current.push(randNum(5, 55));\r\n      return <div sx={getStyle(i)} />;\r\n    });\r\n  };\r\n\r\n  const getTriangleImages = () => {\r\n    const getStyle = (i: number) => {\r\n      const imageUrl = getImageUrl(\r\n        clubHighlights[i % clubHighlights.length].photoId,\r\n        400,\r\n        400,\r\n      );\r\n      const style: SxStyleProp = {\r\n        zIndex: 0,\r\n        backgroundColor: theme.colors.secondary,\r\n        backgroundImage: `url(${imageUrl})`,\r\n        clipPath: bgTriangleProp.current[i].getClipPath(),\r\n        ml: 'auto',\r\n        ...bgTriangleProp.current[i].getStyle(),\r\n        backgroundSize: 'cover',\r\n      };\r\n      return style;\r\n    };\r\n\r\n    const triangles = Array.from(\r\n      new Array(Math.floor(height / 250)).keys(),\r\n    ).map((i) => {\r\n      if (!bgTriangleProp.current[i]) {\r\n        bgTriangleProp.current.push(\r\n          new BgTriangleProp(\r\n            `${randInt(40, 55)}%`,\r\n            0,\r\n            0,\r\n            `${randInt(60, 100)}%`,\r\n            '100%',\r\n            `${randInt(30, 100)}%`,\r\n            {\r\n              width: `${randInt(7, 15)}vmax`,\r\n              height: `${randInt(7, 15)}vmax`,\r\n              mr: `${randInt(20, 50)}%`,\r\n              my: `${randInt(2, 7)}%`,\r\n            },\r\n          ),\r\n        );\r\n      }\r\n      return <div sx={getStyle(i)} />;\r\n    });\r\n\r\n    const wrapper: SxStyleProp = {\r\n      width: ['30%', '40%'],\r\n      top: '40%',\r\n      right: 0,\r\n      position: 'absolute',\r\n      zIndex: 0,\r\n    };\r\n\r\n    return <div sx={wrapper}>{triangles}</div>;\r\n  };\r\n\r\n  const renderClubPopup = () => {\r\n    if (isPopup && popupClub) {\r\n      disallowScrolling(window.scrollY);\r\n      return (\r\n        <ClubPopup\r\n          closeHandler={() => setIsPopup(false)}\r\n          clubInfo={popupClub}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  //=================================================\r\n  //styles\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.light,\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    ...theme.bodyPadding,\r\n    pb: '20vh',\r\n    overflow: 'hidden',\r\n    flexDirection: ['column', 'row'],\r\n    position: 'relative',\r\n  };\r\n\r\n  const clubListWrapper: SxStyleProp = {\r\n    display: 'block',\r\n    ml: [0, '10%', '30%'],\r\n    zIndex: 2,\r\n    mr: ['50%', 0],\r\n  };\r\n  const lineStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.secondary,\r\n    height: 2,\r\n    width: '100%',\r\n    borderRadius: 2,\r\n    my: '0.5em',\r\n  };\r\n\r\n  const backgroundImgStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    top: height * 0.4,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    width: '100%',\r\n    height: height * 0.6,\r\n    zIndex: 1,\r\n  };\r\n\r\n  const searchBoxStyle: SxStyleProp = {\r\n    height: '1.3em',\r\n    borderRadius: 15,\r\n    borderColor: theme.colors.navbar,\r\n    borderWidth: 1,\r\n    width: '100%',\r\n    py: '1em',\r\n    px: '0.5em',\r\n    fontSize: theme.fontSizes.bodySmall.map((n) => n + 5),\r\n    fontFamily: theme.fonts.body,\r\n    '&:focus': {\r\n      borderWidth: 1.5,\r\n      outline: 'none',\r\n    },\r\n  };\r\n\r\n  const searchBoxWrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    width: ['100%', '40%', '20%'],\r\n    ml: [0, 'auto'],\r\n    mt: ['2em', 'auto'],\r\n    mb: ['1em', 'auto'],\r\n    fontSize: theme.fontSizes.bodySmall.map((n) => n + 5),\r\n  };\r\n  const iconStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    right: '0.5em',\r\n    top: '0.5em',\r\n  };\r\n\r\n  const headingStyle: SxStyleProp = {\r\n    display: 'inline',\r\n    mt: ['20%', 'auto'],\r\n    mb: [0, 'auto'],\r\n  };\r\n\r\n  //==============================================================\r\n  //render\r\n\r\n  const isFirstBreakpoint = window.innerWidth > FIRST_BREAKPOINT;\r\n\r\n  return (\r\n    <div sx={wrapperStyle} ref={pageRef}>\r\n      <img src={clubBackground} sx={backgroundImgStyle} />\r\n      {getTransluteRects()}\r\n\r\n      <Heading\r\n        text=\"Clubs\"\r\n        alignment={isFirstBreakpoint ? 'left' : 'center'}\r\n        underline={false}\r\n        extraStyling={headingStyle}\r\n      />\r\n\r\n      <div sx={searchBoxWrapperStyle}>\r\n        <input\r\n          sx={searchBoxStyle}\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          placeholder=\"Club name\"\r\n        />\r\n        {query === '' ? (\r\n          <BsSearch sx={iconStyle} />\r\n        ) : (\r\n          <FaTimes sx={iconStyle} onClick={() => setQuery('')} />\r\n        )}\r\n      </div>\r\n\r\n      <div sx={lineStyle} />\r\n      {query === '' ? (\r\n        <div sx={clubListWrapper}>{getClubList()}</div>\r\n      ) : (\r\n        displaySearchResults()\r\n      )}\r\n\r\n      {isFirstBreakpoint ? getTriangleImages() : undefined}\r\n\r\n      {renderClubPopup()}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useState, useContext, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n// while it's under construction\r\nimport {FaWrench} from 'react-icons/fa';\r\n\r\nimport {spin} from '../utils/animation';\r\nimport {theme} from '../utils/theme';\r\nimport { ITransparentCtx, TransparentCtx, ISetTransparentCtx, SetTransparentCtx } from '../utils/contexts';\r\nimport { useToggleNavColour } from '../utils/hooks';\r\n\r\nexport interface CalendarProps {}\r\n\r\nexport const Calendar: React.FC<CalendarProps> = () => {\r\n  const [spinAmount, setSpinAmount] = useState(1);\r\n  \r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  const toggleNavUnsub = useToggleNavColour(window.innerHeight/5);\r\n\r\n  useEffect(() => {\r\n    setTransparent(true);\r\n    return toggleNavUnsub;\r\n  }, []);\r\n  // Styles for the page\r\n  const wrapperStyle: SxStyleProp = {\r\n    // the main page div\r\n\r\n    width: '100%',\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.dark,\r\n  };\r\n  const innerWrapperStyle: SxStyleProp = {\r\n    // the div that contains everything\r\n\r\n    top: '20vh',\r\n    position: 'relative',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    pb: '14em',\r\n\r\n    textAlign: 'center',\r\n  };\r\n  const iframeContainerStyle: SxStyleProp = {\r\n    width: '100%',\r\n    textAlign: 'center',\r\n  };\r\n\r\n  const handleClick = () => {\r\n    if (spinAmount < 9) {\r\n      setSpinAmount(spinAmount + 1);\r\n    }\r\n  };\r\n\r\n  const renderSpannerImage = () => {\r\n    return (\r\n      <FaWrench\r\n        size={50}\r\n        sx={{\r\n          position: 'relative',\r\n          maxWidth: [25, 50],\r\n          mb: '2%',\r\n          color: theme.colors.text.light,\r\n          '@keyframes spin': spin,\r\n\r\n          animation:\r\n            spinAmount === 0\r\n              ? 'none'\r\n              : 'spin ' +\r\n                (2.2 - 0.2 * spinAmount).toString() +\r\n                's linear infinite',\r\n        }}\r\n        onClick={handleClick}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <div sx={innerWrapperStyle}>\r\n        <div sx={iframeContainerStyle}>\r\n          <iframe\r\n            src=\"https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23FFFFFF&src=gapps.yrdsb.ca_3kml71rdv1af34phpclvo9ps50%40group.calendar.google.com&color=%23333333&ctz=America%2FToronto\"\r\n            width=\"80%\"\r\n            height=\"600px\"\r\n          ></iframe>\r\n          <div\r\n            sx={{\r\n              mt: '5%',\r\n              mx: 'auto',\r\n              width: '90%',\r\n            }}\r\n          >\r\n            {renderSpannerImage()}\r\n          </div>\r\n          <p\r\n            sx={{\r\n              fontFamily: theme.fonts.body,\r\n              fontSize: theme.fontSizes.body,\r\n              color: theme.colors.text.light,\r\n            }}\r\n          >\r\n            A more lively calendar is under development! For now, though, enjoy\r\n            this embedded one! (should be good enough for before school...)\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useContext, useState, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {LoadingSquare} from '../components/LoaderComponents';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {LabelledPhotos} from '../utils/interfaces';\r\nimport {InfoContext, IInfoContext, ITransparentCtx, TransparentCtx, ISetTransparentCtx, SetTransparentCtx} from '../utils/contexts';\r\nimport { useToggleNavColour } from '../utils/hooks';\r\n\r\nexport const Map: React.FC = () => {\r\n  const [loadingFirstImage, setLoadingFirstImage] = useState<boolean>(true);\r\n  const [loadingSecondImage, setLoadingSecondImage] = useState<boolean>(true);\r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  const toggleNavUnsub = useToggleNavColour(window.innerHeight/3);\r\n\r\n  useEffect(() => {\r\n    setTransparent(true);\r\n    return toggleNavUnsub;\r\n  }, []);\r\n  \r\n  const allLabelledPhotos: LabelledPhotos[] = useContext<IInfoContext>(\r\n    InfoContext,\r\n  ).labelledPhotos;\r\n\r\n  // filter out and find the first and second floor photo\r\n  const firstFloorPhoto = `https://drive.google.com/uc?export=view&id=${\r\n    allLabelledPhotos.find((a) => a.photoLabel === 'School First Floor').photoId\r\n  }`;\r\n  const secondFloorPhoto = `https://drive.google.com/uc?export=view&id=${\r\n    allLabelledPhotos.find((a) => a.photoLabel === 'School Second Floor')\r\n      .photoId\r\n  }`;\r\n\r\n  // styles\r\n  const backgroundStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.background.dark,\r\n    width: '100%',\r\n    minHeight: '100vh',\r\n    textAlign: 'center',\r\n  };\r\n  const divStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    top: '10vh',\r\n    width: '100%',\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    textAlign: 'center',\r\n  };\r\n  const imageDivStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    // push image up\r\n    mt: '10%',\r\n\r\n    // center the image\r\n    ml: 'auto',\r\n    mr: 'auto',\r\n\r\n    // change this if the image should be a diff size\r\n    width: '95%',\r\n    height: 'auto',\r\n  };\r\n  const imageStyle: SxStyleProp = {\r\n    width: '100%',\r\n    // leave this to preserve aspect ratio\r\n    height: 'auto',\r\n  };\r\n\r\n  /**\r\n   * Handles an image loading by setting the specified isLoading\r\n   * function to false.\r\n   * @param setLoadingFunction - The React setState function to be called\r\n   * once a load event occurs.\r\n   */\r\n  const handleLoad = (\r\n    setLoadingFunction: React.Dispatch<React.SetStateAction<boolean>>,\r\n  ) => {\r\n    setLoadingFunction(false);\r\n  };\r\n\r\n  return (\r\n    <div sx={backgroundStyle}>\r\n      <div sx={divStyle}>\r\n        <div sx={imageDivStyle}>\r\n          {loadingFirstImage ? (\r\n            <LoadingSquare isTransparent={true} />\r\n          ) : undefined}\r\n          <img\r\n            src={firstFloorPhoto}\r\n            alt=\"The school's first floor.\"\r\n            sx={imageStyle}\r\n            onLoad={() => handleLoad(setLoadingFirstImage)}\r\n          />\r\n        </div>\r\n\r\n        {/* mb to push up footer */}\r\n        <div sx={{...imageDivStyle, mb: ['8em', '14em']}}>\r\n          {loadingSecondImage ? (\r\n            <LoadingSquare isTransparent={true} />\r\n          ) : undefined}\r\n          <img\r\n            src={secondFloorPhoto}\r\n            alt=\"The school's second floor.\"\r\n            sx={imageStyle}\r\n            onLoad={() => handleLoad(setLoadingSecondImage)}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  useRef,\r\n  ReactElement,\r\n} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {getImageUrl} from '../utils/functions';\r\n\r\nexport interface ViewerPhotoProps {\r\n  photoId: string;\r\n  loadHandler: () => void;\r\n  // With the new provided dimensions, it is now easier to get\r\n  // the orientation of the current photo by simply comparing the\r\n  // original dimensions.\r\n  /** The original dimensions of the photo. These dimensions must be present. */\r\n  originalDimensions: {width: number; height: number};\r\n}\r\n\r\n//=====================================================================\r\n// ViewerPhoto is for the main big photo in the PhotoViewer.\r\nexport const ViewerPhoto: React.FC<ViewerPhotoProps> = ({\r\n  photoId,\r\n  loadHandler,\r\n  originalDimensions,\r\n}): ReactElement => {\r\n  const [mainImageLimit, setMainImageLimit] = useState<number>(0);\r\n  const [orientation, setOrientation] = useState<string>(null);\r\n  const mainImageRefDiv = useRef<HTMLDivElement>(null);\r\n\r\n  // Determine the orientation of the photo at the get go to cut\r\n  // down on rerenders and loading wrong images\r\n  /**\r\n   * Determines the orientation of the current photo.\r\n   */\r\n  const determineOrientation = useCallback((): void => {\r\n    const h = originalDimensions.height;\r\n    const w = originalDimensions.width;\r\n\r\n    h > w ? setOrientation('portrait') : setOrientation('landscape');\r\n  }, [originalDimensions]);\r\n\r\n  useEffect(() => {\r\n    determineOrientation();\r\n  }, [photoId, determineOrientation]);\r\n\r\n  useEffect(() => {\r\n    if (!mainImageRefDiv.current) return;\r\n\r\n    // Adjusting the image size when fetched based on orientation of image\r\n    if (!orientation || orientation === 'portrait') {\r\n      setMainImageLimit(\r\n        Math.round(mainImageRefDiv.current.getBoundingClientRect().width),\r\n      );\r\n    } else {\r\n      setMainImageLimit(\r\n        Math.round(mainImageRefDiv.current.getBoundingClientRect().height),\r\n      );\r\n    }\r\n  }, [mainImageRefDiv, orientation]);\r\n\r\n  // Fun styles --\r\n  const mainImageContainerStyle: SxStyleProp = {\r\n    // positioning\r\n    position: 'relative',\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n\r\n    mx: 'auto',\r\n    zIndex: 15, // to draw over the overlay\r\n\r\n    // adjusting the size\r\n    width: orientation === 'landscape' ? '80%' : '35%',\r\n    height: '100%',\r\n\r\n    '@media only screen and (max-width: 800px)': {\r\n      height: orientation === 'landscape' ? '35%' : '75%',\r\n      width: '100%',\r\n      margin: 'auto',\r\n    },\r\n  };\r\n  const mainImageStyle: SxStyleProp = {\r\n    // positioning\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    height: '100%',\r\n\r\n    // to center the image\r\n    ml: 'auto',\r\n    mr: 'auto',\r\n    mt: 'auto',\r\n    mb: 'auto',\r\n\r\n    // small fade animation while hovering\r\n    transition: '.5s ease',\r\n    '&:hover': {\r\n      opacity: 0.9,\r\n    },\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Fetches and returns a url to a specified drive photo with\r\n   * formatted width and height. The exact dimensions of the photo\r\n   * fetched are dependant on the orientation of said photo.\r\n   * @param photoId - the drive id for the photo.\r\n   * @returns a url to the specified photo.\r\n   */\r\n  const fetchMainImageUrl = (photoId: string): string => {\r\n    return orientation === 'landscape'\r\n      ? getImageUrl(photoId, 5000, mainImageLimit)\r\n      : getImageUrl(photoId, mainImageLimit, 5000);\r\n  };\r\n\r\n  /**\r\n   * Performs the various loading functions that are related to\r\n   * this image loading.\r\n   */\r\n  const performLoadActivities = (): void => {\r\n    loadHandler();\r\n  };\r\n\r\n  // Returning the viewer code --\r\n  return (\r\n    <div sx={mainImageContainerStyle} ref={mainImageRefDiv}>\r\n      <img\r\n        id=\"main-photo\"\r\n        src={fetchMainImageUrl(photoId)}\r\n        alt=\"\"\r\n        sx={mainImageStyle}\r\n        onLoad={performLoadActivities}\r\n        onError={() => {\r\n          console.log('failed to load main image');\r\n          loadHandler();\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\n\r\nexport interface ViewerButtonProps {\r\n  /** Image source, supports either an URL or a ReactElement (usually a react-icon) */\r\n  imageSrc: string | ReactElement;\r\n  actionHandler: () => void;\r\n  extraButtonStyling?: SxStyleProp;\r\n}\r\n\r\n// ViewerButton is for the... buttons that are in the viewer. (wow)\r\nexport const ViewerButton: React.FC<ViewerButtonProps> = ({\r\n  imageSrc,\r\n  actionHandler,\r\n  extraButtonStyling,\r\n}): ReactElement => {\r\n  const buttonContainerStyle: SxStyleProp = {\r\n    position: 'relative',\r\n\r\n    mx: '3%',\r\n\r\n    width: ['50px', '45px', '50px', '55px'],\r\n    height: ['50px', '45px', '50px', '55px'],\r\n\r\n    borderRadius: '50%',\r\n\r\n    backgroundColor: theme.colors.background.darkest,\r\n    color: theme.colors.text.light,\r\n    zIndex: 15, // draw buttons on top of overlay\r\n\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textAlign: 'center',\r\n    justifyContent: 'center',\r\n\r\n    // If imgsrc is a string it can simply be used as background image\r\n    backgroundImage:\r\n      typeof imageSrc === 'string' ? 'url(' + imageSrc + ')' : 'none',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n\r\n    // small fade animation while hovering\r\n    transition: 'transform .2s, .5s ease',\r\n    '&:hover': {\r\n      transform: 'scale(1.2)',\r\n      cursor: 'pointer',\r\n      opacity: 0.8,\r\n    },\r\n\r\n    ...extraButtonStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={buttonContainerStyle} onClick={actionHandler}>\r\n      {!(typeof imageSrc === 'string') ? imageSrc : undefined}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\nimport {theme} from '../utils/theme';\n\nimport Loader from 'react-loader-spinner';\n\nexport interface CircleSpinnerProps {\n  width?: number;\n  height?: number;\n  color?: string;\n}\n\n// yes shari i decided to import a library just for spinners\nexport const CircleSpinner: React.FC<CircleSpinnerProps> = ({\n  width,\n  height,\n  color,\n}) => {\n  return (\n    <Loader\n      type=\"TailSpin\"\n      color={color ? color : theme.colors.secondary}\n      width={width}\n      height={height}\n    />\n  );\n};\n","/** @jsx jsx */\r\nimport React, {\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  ReactElement,\r\n  useCallback,\r\n} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {FaTimes, FaArrowRight, FaArrowLeft} from 'react-icons/fa';\r\n\r\nimport {ViewerPhoto} from './ViewerPhoto';\r\nimport {ViewerButton} from './ViewerButton';\r\nimport {CircleSpinner} from './CircleSpinner';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {\r\n  getImageUrl,\r\n  detectSwipeDirection,\r\n  allowScrolling,\r\n} from '../utils/functions';\r\n// todo: minor, but make naming consistant i guess\r\nimport {Photo as PhotoInfo} from '../utils/interfaces';\r\n\r\n// yes shari since this function was messy i tried out a new\r\n// commenting style\r\n\r\n// Interfaces --\r\nexport interface Photo {\r\n  photoUrl: string;\r\n  photoNum: number;\r\n\r\n  /** The photo dimensions provided in the spreadsheet. */\r\n  originalPhotoDimensions?: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n\r\n  /** The new requested dimensions for this photo. */\r\n  newPhotoDimensions?: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n}\r\n\r\nexport interface PhotoViewerProps {\r\n  photos: PhotoInfo[];\r\n  startIndex: number;\r\n  closeHandler: () => void;\r\n}\r\n\r\n//=====================================================================\r\n// PhotoViewer is a gallery viewer of photos. Resolutions of photos\r\n// with the same orientation are the same.\r\nconst PhotoViewer: React.FC<PhotoViewerProps> = ({\r\n  photos,\r\n  startIndex,\r\n  closeHandler,\r\n}): ReactElement => {\r\n  //-------------------------------------------------------------------\r\n  // React Hook Initialization --\r\n  //-------------------------------------------------------------------\r\n  const [index, setIndex] = useState<number>(startIndex);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [overlayWidth, setOverlayWidth] = useState<number>(0);\r\n  const overlayReferenceDiv = useRef<HTMLDivElement>(null);\r\n\r\n  const xTouchLoc = useRef<number>(-1);\r\n  const yTouchLoc = useRef<number>(-1);\r\n\r\n  // Setting up overlay width for proper background image sizing\r\n  useEffect(() => {\r\n    if (!overlayReferenceDiv.current) return;\r\n\r\n    setOverlayWidth(\r\n      Math.round(\r\n        overlayReferenceDiv.current.getBoundingClientRect().width + 1000,\r\n      ),\r\n    );\r\n  }, [overlayReferenceDiv]);\r\n\r\n  /**\r\n   * Increases the current image index.\r\n   */\r\n  const incrementIdx = useCallback(() => {\r\n    setIndex((index + 1) % photos.length);\r\n\r\n    setLoading(true);\r\n  }, [photos, index]);\r\n\r\n  /**\r\n   * Decreases the current image index.\r\n   */\r\n  const decrementIdx = useCallback(() => {\r\n    setIndex(index - 1 < 0 ? photos.length - 1 : index - 1);\r\n\r\n    setLoading(true);\r\n  }, [photos, index]);\r\n\r\n  /**\r\n   * Handles this viewer's cleanup functions, like re-enabling scrolling\r\n   * and closing the viewer.\r\n   */\r\n  const handleClosing = useCallback((): void => {\r\n    allowScrolling();\r\n    closeHandler();\r\n  }, [closeHandler]);\r\n\r\n  // A memoized callback function to interact with keyboard\r\n  // functionality -- only needs to be created once.\r\n  /**\r\n   * Determines the action to be taken depending on what key was pressed.\r\n   * @param event - The event object emitted upon keyDown.\r\n   */\r\n  const reactToKeystrokes = useCallback(\r\n    (event: KeyboardEvent) => {\r\n      switch (event.keyCode) {\r\n        case 27: // esc key\r\n          handleClosing();\r\n          break;\r\n        case 39: // right arrow key\r\n          incrementIdx();\r\n          break;\r\n        case 37: // left arrow key\r\n          decrementIdx();\r\n          break;\r\n      }\r\n    },\r\n    [handleClosing, incrementIdx, decrementIdx],\r\n  );\r\n\r\n  /**\r\n   * Handles touchstart events for devices, and determines whether\r\n   * to later react to this event or not.\r\n   */\r\n  const initializeTouch = useCallback((event: TouchEvent) => {\r\n    const touchLocations = event.touches;\r\n\r\n    if (touchLocations.length === 1 && touchLocations[0]) {\r\n      // If the tap starts at the picture, just ignore.\r\n      // (for adjusting zoom level, perhaps).\r\n      if ((event.target as Element).id != 'main-photo') {\r\n        xTouchLoc.current = touchLocations[0].clientX;\r\n        yTouchLoc.current = touchLocations[0].clientY;\r\n      }\r\n\r\n      /* \r\n    If you put a second finger down, there will be a very small\r\n    amount of time where an event with only one touch property \r\n    propegates before the proper 2 touch property event propegates,\r\n    and that can cause unwanted scrolling/shuffling.\r\n\r\n    We solve this by simply listening to any events with more than\r\n    one touch event, and reset the x and y location if we detect any.\r\n    Now we know that any touch events that pass these checks are\r\n    from a single finger.\r\n    */\r\n    } else if (touchLocations.length > 1) {\r\n      xTouchLoc.current = -1;\r\n      yTouchLoc.current = -1;\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * Handles a touchend event, implying that a swipe has occured.\r\n   * Reacts to said swipe and performs any tasks as a result from that\r\n   * swipe.\r\n   */\r\n  const reactToSwipe = useCallback(\r\n    (event: TouchEvent) => {\r\n      // Make sure we are actually supposed to react to this event.\r\n      if (xTouchLoc.current === -1 || yTouchLoc.current === -1) return;\r\n\r\n      const xOld = xTouchLoc.current;\r\n      const yOld = yTouchLoc.current;\r\n      // Reset location\r\n      xTouchLoc.current = -1;\r\n      yTouchLoc.current = -1;\r\n\r\n      // If this doesn't exist, do nothing.\r\n      if (!event.changedTouches[0]) return;\r\n\r\n      const xMove = event.changedTouches[0].clientX;\r\n      const yMove = event.changedTouches[0].clientY;\r\n\r\n      switch (detectSwipeDirection({x: xOld, y: yOld}, {x: xMove, y: yMove})) {\r\n        case 'down': // swipe down == going up\r\n          decrementIdx();\r\n          break;\r\n        case 'up': // swipe up == going down\r\n          incrementIdx();\r\n          break;\r\n      }\r\n    },\r\n    [decrementIdx, incrementIdx],\r\n  );\r\n\r\n  // Setting up keyboard functionality\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', reactToKeystrokes, false);\r\n    document.addEventListener('touchstart', initializeTouch, false);\r\n    document.addEventListener('touchend', reactToSwipe, false);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', reactToKeystrokes, false);\r\n      document.removeEventListener('touchstart', initializeTouch, false);\r\n      document.removeEventListener('touchend', reactToSwipe, false);\r\n    };\r\n  }, [reactToKeystrokes, initializeTouch, reactToSwipe]);\r\n\r\n  //-------------------------------------------------------------------\r\n  // Functions --\r\n  //-------------------------------------------------------------------\r\n  /**\r\n   * Generates a larger version of the specified image, usable as a full\r\n   * page background.\r\n   * @param photoId - the drive id of the photo.\r\n   * @returns a url to the enlarged photo.\r\n   */\r\n  const fetchOverlayImageUrl = (photoId: string): string => {\r\n    return getImageUrl(photoId, overlayWidth, 5000);\r\n  };\r\n\r\n  /**\r\n   * Determines if this viewer's loading state should be changed\r\n   * or not, based on if all the images loaded or not.\r\n   */\r\n  const handleLoadingState = (): void => {\r\n    if (checkIfImagesLoaded(overlayReferenceDiv.current)) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handles when the overlay loads.\r\n   */\r\n  const handleOverlayLoadingState = (): void => {\r\n    handleLoadingState();\r\n  };\r\n\r\n  /**\r\n   * Checks a provided html div's img children and sees if they loaded\r\n   * in or not.\r\n   * @param refDiv - the html div that contains all the imgs\r\n   * @returns true if all the imgs have loaded, false otherwise.\r\n   */\r\n  const checkIfImagesLoaded = (refDiv: HTMLDivElement): boolean => {\r\n    const imgElements = refDiv.querySelectorAll('img');\r\n\r\n    for (const img of imgElements) {\r\n      if (!img.complete) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Renders an X button intended for exiting the viewer.\r\n   * @returns an X button which exits the viewer upon click.\r\n   */\r\n  const renderExitButton = (): ReactElement => {\r\n    const buttonStyling: SxStyleProp = {\r\n      position: 'absolute',\r\n      top: '5%',\r\n      right: '3%',\r\n      mx: '0%',\r\n\r\n      '@media only screen and (max-width: 800px)': {\r\n        transform: 'rotate(720deg)', // extremely very important :)))\r\n        right: '5%',\r\n      },\r\n    };\r\n    return (\r\n      <ViewerButton\r\n        imageSrc={<FaTimes sx={arrowStyle} />}\r\n        actionHandler={handleClosing}\r\n        extraButtonStyling={buttonStyling}\r\n      />\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Renders a spinner if the images are currently loading in.\r\n   * @returns a circle spinner if images are loading, nothing otherwise.\r\n   */\r\n  const renderSpinner = (): ReactElement | void => {\r\n    if (loading) {\r\n      return (\r\n        <div\r\n          sx={{\r\n            position: 'relative',\r\n            height: '100vh',\r\n            width: '100vw',\r\n            display: 'flex',\r\n            textAlign: 'center',\r\n            alignItems: 'center',\r\n            zIndex: 20, // big big index to overlay over everything\r\n          }}\r\n        >\r\n          <div sx={{display: 'inline-block', mx: 'auto'}}>\r\n            <CircleSpinner />\r\n          </div>\r\n          {renderExitButton()}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------------\r\n  // Styles for the components --\r\n  //-------------------------------------------------------------------\r\n  const overlayStyle: SxStyleProp = {\r\n    // for the actual picture in the overlay\r\n\r\n    objectFit: 'cover',\r\n    opacity: '0.9',\r\n    height: '100%',\r\n    width: '100%',\r\n\r\n    display: loading ? 'none' : 'block',\r\n\r\n    // blur the image (note: edge and ie will die, but who cares lmao)\r\n    filter: 'blur(8px) brightness(0.5)',\r\n  };\r\n  const overlayContainerStyle: SxStyleProp = {\r\n    // the div containing the overlay picture\r\n\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    zIndex: 12, // make this higher priority than main wrapper\r\n\r\n    backgroundColor: theme.colors.background.black,\r\n  };\r\n  const mainWrapperStyle: SxStyleProp = {\r\n    // the main wrapper for everything in this viewer\r\n\r\n    position: 'fixed',\r\n    height: '100vh',\r\n    width: '100vw',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    zIndex: 11, // cause nav is 10 :/\r\n\r\n    textAlign: 'center',\r\n\r\n    overscrollBehavior: 'contain',\r\n  };\r\n  const contentWrapperStyle: SxStyleProp = {\r\n    // The wrapper for all the interactable things in this viewer\r\n\r\n    position: 'relative',\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    textAlign: 'center',\r\n    alignItems: 'center',\r\n\r\n    '@media only screen and (max-width: 800px)': {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      textAlign: 'center',\r\n      alignItems: 'center',\r\n    },\r\n  };\r\n  const arrowStyle: SxStyleProp = {\r\n    margin: 'auto',\r\n    padding: '2.5px',\r\n    width: ['35px', '30px', '35px', '40px'],\r\n    height: ['35px', '30px', '35px', '40px'],\r\n  };\r\n  const bothButtonStyle: SxStyleProp = {\r\n    // rotate to look like an up or down arrow\r\n    transform: 'rotate(90deg)',\r\n    position: 'fixed',\r\n    mx: 'auto',\r\n\r\n    // Overwrite previous hover code to keep consistant rotation\r\n    '&:hover': {\r\n      transform: 'rotate(90deg) scale(1.2)',\r\n      cursor: 'pointer',\r\n      opacity: 0.8,\r\n    },\r\n  };\r\n  const leftButtonStyle: SxStyleProp = {\r\n    '@media only screen and (max-width: 800px)': {\r\n      top: '5%',\r\n\r\n      ...bothButtonStyle,\r\n    },\r\n  };\r\n  const rightButtonStyle: SxStyleProp = {\r\n    '@media only screen and (max-width: 800px)': {\r\n      bottom: '5%',\r\n\r\n      ...bothButtonStyle,\r\n    },\r\n  };\r\n\r\n  //-------------------------------------------------------------------\r\n  // The actual viewer code --\r\n  //-------------------------------------------------------------------\r\n  return (\r\n    // the wrapper that wraps everything\r\n    <div sx={mainWrapperStyle} ref={overlayReferenceDiv}>\r\n      {/* the overlay */}\r\n      <div sx={overlayContainerStyle} onClick={handleClosing}>\r\n        <img\r\n          src={fetchOverlayImageUrl(photos[index].photoId)}\r\n          alt=\"\"\r\n          sx={overlayStyle}\r\n          onLoad={handleOverlayLoadingState}\r\n          onError={() => {\r\n            console.log('failed to load overlay');\r\n            handleLoadingState();\r\n          }}\r\n        />\r\n      </div>\r\n      {/* drawing the spinner if images don't load */}\r\n      {renderSpinner()}\r\n      {/* the content wrapper */}\r\n      <div sx={contentWrapperStyle}>\r\n        <ViewerButton\r\n          imageSrc={<FaArrowLeft sx={arrowStyle} />}\r\n          actionHandler={decrementIdx}\r\n          extraButtonStyling={leftButtonStyle}\r\n        />\r\n\r\n        <ViewerPhoto\r\n          photoId={photos[index].photoId}\r\n          loadHandler={handleLoadingState}\r\n          originalDimensions={{\r\n            width: parseInt(photos[index].width),\r\n            height: parseInt(photos[index].height),\r\n          }}\r\n        />\r\n\r\n        <ViewerButton\r\n          imageSrc={<FaArrowRight sx={arrowStyle} />}\r\n          actionHandler={incrementIdx}\r\n          extraButtonStyling={rightButtonStyle}\r\n        />\r\n\r\n        {renderExitButton()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoViewer;\r\n","/** @jsx jsx */\r\nimport React, {\r\n  useContext,\r\n  useRef,\r\n  useEffect,\r\n  useState,\r\n  ReactElement,\r\n} from 'react';\r\nimport {jsx, SxStyleProp, Flex} from 'theme-ui';\r\n\r\nimport {Heading} from '../components/Heading';\r\nimport PhotoViewer, {Photo} from '../components/PhotoViewer';\r\nimport {CircleSpinner} from '../components/CircleSpinner';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {IInfoContext, InfoContext, ITransparentCtx, TransparentCtx, ISetTransparentCtx, SetTransparentCtx} from '../utils/contexts';\r\nimport {getImageUrl, splitArray, disallowScrolling} from '../utils/functions';\r\n// todo: minor, but make naming consistant i guess\r\nimport {Photo as PhotoInfo} from '../utils/interfaces';\r\nimport { useToggleNavColour } from '../utils/hooks';\r\n\r\n// note: all the images are in their widthScale:heightScale ratio\r\n/** The width scale for the column photo width. */\r\nconst widthScale: number = 1;\r\n/** The height scale for the column photo height. */\r\nconst heightScale: number = 1.25;\r\n\r\n// Interfaces --\r\nexport interface GalleryPhotoProps {\r\n  photo: Photo;\r\n  initializeDisplay: (index: number) => void;\r\n  extraPhotoStyle?: SxStyleProp;\r\n}\r\n\r\n//=====================================================================\r\n// GalleryPhoto element handles the actual img element.\r\n// this assumes that each img will be placed in an appropriately sized\r\n// div or element\r\nexport const GalleryPhoto: React.FC<GalleryPhotoProps> = ({\r\n  photo,\r\n  initializeDisplay,\r\n  extraPhotoStyle,\r\n}): ReactElement => {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  // Styles --\r\n  const photoStyle: SxStyleProp = {\r\n    maxWidth: '100%',\r\n    mx: 'auto',\r\n    objectFit: 'cover',\r\n    width: photo.newPhotoDimensions.width,\r\n    height: photo.newPhotoDimensions.height,\r\n\r\n    display: loading ? 'none' : 'block',\r\n\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Does the cleanup once the image is loaded.\r\n   */\r\n  const finishLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  /**\r\n   * Initializes the photo viewer.\r\n   */\r\n  const displayViewer = (): void => {\r\n    initializeDisplay(photo.photoNum);\r\n  };\r\n\r\n  /**\r\n   * Performs specified click actions upon a click event. This includes\r\n   * disabling the scrolling and displaying the viewer.\r\n   */\r\n  const handleClickEvent = () => {\r\n    disallowScrolling(window.scrollY);\r\n    displayViewer();\r\n  };\r\n\r\n  /**\r\n   * Returns a formatted loading spinner\r\n   */\r\n  const displayLoadSpinner = (): ReactElement | void => {\r\n    if (loading) {\r\n      return (\r\n        <div sx={{display: 'inline-block', my: '50%'}}>\r\n          <CircleSpinner />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {displayLoadSpinner()}\r\n      <img\r\n        src={photo.photoUrl}\r\n        alt=\"\"\r\n        onClick={handleClickEvent}\r\n        onLoad={finishLoading}\r\n        sx={{...photoStyle, ...extraPhotoStyle}}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Gallery element -- displays the actual gallery page\r\nexport const Gallery: React.FC = (): ReactElement => {\r\n  const galleryPhotos: PhotoInfo[] = useContext<IInfoContext>(InfoContext)\r\n    .gallery;\r\n\r\n  // the width and height are both used for the column photos\r\n  const [width, setWidth] = useState<number>(0);\r\n  const [height, setHeight] = useState<number>(0);\r\n  /** Used to find the size for the column photos. */\r\n  const referenceDiv = useRef<HTMLDivElement>(null);\r\n  const [viewIndex, setViewIndex] = useState<number>(0);\r\n  const [showViewer, setShowViewer] = useState<boolean>(false);\r\n\r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  useEffect(() => setTransparent(false), []);\r\n\r\n  // Set width and height to the left column's width\r\n  useEffect(() => {\r\n    if (!referenceDiv.current) return;\r\n\r\n    setWidth(\r\n      Math.round(\r\n        referenceDiv.current.getBoundingClientRect().width * widthScale,\r\n      ),\r\n    );\r\n    setHeight(\r\n      Math.round(\r\n        referenceDiv.current.getBoundingClientRect().width * heightScale,\r\n      ),\r\n    );\r\n  }, [referenceDiv]);\r\n\r\n  /*\r\n  yes shari, this long explanation is definitely necessary\r\n\r\n  We take the galleryPhotos in PhotoInfo interface format and convert\r\n  each array of 'photos' into our custom Photo interface, which\r\n  contains a proper url, number, and both original and requested\r\n  dimensions for future use.\r\n\r\n  Consecutive pictures are ordered column down, so if we had 9\r\n  images, the order would become:\r\n    1 4 7\r\n    2 5 8\r\n    3 6 9\r\n  but that shouldn't matter because gallery should really only have a\r\n  random assortment of images anyways, so we don't need to preserve\r\n  order... right?\r\n\r\n  We use galleryPhotos as all photos, as we need the id for the\r\n  photo to get resized version.\r\n  //TODO: maybe we can provide photoViewer the resized images...\r\n  */\r\n  let currentImageNumber = -1; // this seems scuffed\r\n  const [leftPhotos, centerPhotos, rightPhotos]: Photo[][] = splitArray<\r\n    PhotoInfo\r\n  >(galleryPhotos, 3).map((photoGroup) => {\r\n    return photoGroup.map((photo) => {\r\n      currentImageNumber++;\r\n      return {\r\n        photoUrl: getImageUrl(photo.photoId, 1000, height),\r\n        photoNum: currentImageNumber,\r\n        originalPhotoDimensions: {\r\n          width: parseInt(photo.width),\r\n          height: parseInt(photo.height),\r\n        },\r\n        newPhotoDimensions: {\r\n          width: width,\r\n          height: height,\r\n        },\r\n      };\r\n    });\r\n  });\r\n\r\n  // Styles related to the photos and the galleries --\r\n  const extraPhotoStyle: SxStyleProp = {};\r\n  const photoColumnContainerStyle: SxStyleProp = {\r\n    '@media only screen and (max-width: 500px)': {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      textAlign: 'center',\r\n    },\r\n  };\r\n  const allGalleryStyle: SxStyleProp = {\r\n    textAlign: 'center',\r\n    maxWidth: '32%',\r\n    width: '32%',\r\n    position: 'relative',\r\n\r\n    // Pushing away the footer\r\n    mb: '5em',\r\n\r\n    '@media only screen and (max-width: 500px)': {\r\n      width: '95%',\r\n      maxWidth: '95%',\r\n\r\n      my: 0,\r\n      left: 'auto',\r\n      right: 'auto',\r\n      mx: 'auto',\r\n    },\r\n  };\r\n  const leftGalleryStyle: SxStyleProp = {\r\n    left: '2%',\r\n\r\n    ml: 0,\r\n    mr: 'auto',\r\n  };\r\n  const rightGalleryStyle: SxStyleProp = {\r\n    right: '2%',\r\n\r\n    mr: 0,\r\n    ml: 'auto',\r\n  };\r\n  const centerGalleryStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    mt: '-5em',\r\n  };\r\n\r\n  /**\r\n   * Retrieves a column of photos and returns the formatted column.\r\n   * @param photoColumn - the list of photos in this column.\r\n   * @param extraPhotoStyle - any extra styling for the\r\n   * photos in this column.\r\n   * @returns the formatted column of photos.\r\n   */\r\n  const getGalleryColumn = (\r\n    photoColumn: Photo[],\r\n    extraPhotoStyle: SxStyleProp,\r\n  ): ReactElement[] => {\r\n    if (!photoColumn) return [<div key=\"0\"></div>];\r\n\r\n    const photoContainerStyle: SxStyleProp = {\r\n      // Space the images\r\n      mb: '5%',\r\n      width: '100%',\r\n\r\n      // fade and move animations here so both border and image have it\r\n      transition: 'transform .2s, .2s ease',\r\n      '&:hover': {\r\n        transform: 'scale(1.02)',\r\n        opacity: 0.6,\r\n        cursor: 'pointer',\r\n      },\r\n    };\r\n\r\n    return photoColumn.map((photo) => {\r\n      return (\r\n        <div sx={photoContainerStyle} key={photo.photoNum}>\r\n          <GalleryPhoto\r\n            photo={photo}\r\n            extraPhotoStyle={extraPhotoStyle}\r\n            initializeDisplay={startDisplay}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  // Functions regarding the displaying of the photo viewer --\r\n  /**\r\n   * Initializes the photo viewer.\r\n   * @param startIndex - the photo index which the viewer should begin at.\r\n   */\r\n  const startDisplay = (startIndex: number) => {\r\n    setViewIndex(startIndex);\r\n\r\n    toggleViewer();\r\n  };\r\n\r\n  /**\r\n   * Toggles the show viewer state on or off.\r\n   */\r\n  const toggleViewer = () => {\r\n    setShowViewer(!showViewer);\r\n  };\r\n\r\n  /**\r\n   * Actually displays the photo viewer, if it should be shown.\r\n   * @returns the photo viewer at the right image if it should be shown,\r\n   * or nothing otherwise.\r\n   */\r\n  const displayViewer = (): ReactElement | void => {\r\n    if (showViewer) {\r\n      return (\r\n        <PhotoViewer\r\n          photos={galleryPhotos}\r\n          startIndex={viewIndex}\r\n          closeHandler={toggleViewer}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  // The rest of the custom styles needed for this page --\r\n  const wrapperStyle: SxStyleProp = {\r\n    // the main page div\r\n\r\n    width: '100%',\r\n    maxWidth: '100%',\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.light,\r\n  };\r\n  const innerWrapperStyle: SxStyleProp = {\r\n    // the div that contains everything\r\n\r\n    top: '20vh',\r\n    position: 'relative',\r\n    width: '100%',\r\n    maxWidth: '100%',\r\n    px: '5%',\r\n    mb: '14em', // pushing away the footer\r\n  };\r\n  const headingWrapperStyle: SxStyleProp = {\r\n    // the header div\r\n\r\n    maxWidth: '90%', // to make sure the page doesn't scroll to the right\r\n    position: 'relative',\r\n    mb: '8em',\r\n  };\r\n\r\n  // Returning the formatted page\r\n  // yes shari i know even more grid classnames but its finee\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      {displayViewer()}\r\n      <div sx={innerWrapperStyle}>\r\n        <div sx={headingWrapperStyle}>\r\n          <Heading text=\"Gallery\" alignment=\"left\" />\r\n        </div>\r\n        {/* yes shari i could use flexbox here to achieve the same\r\n        effect and stay on your good side just bear with me for\r\n        now ok :)) */}\r\n        <div className=\"row\" sx={photoColumnContainerStyle}>\r\n          {/* We only need one div to be reference div since\r\n          all images are same size anyways. */}\r\n          <div\r\n            className=\"col\"\r\n            ref={referenceDiv}\r\n            sx={{...leftGalleryStyle, ...allGalleryStyle}}\r\n          >\r\n            {/* first column of photos */}\r\n            {getGalleryColumn(leftPhotos, extraPhotoStyle)}\r\n          </div>\r\n          <div className=\"col\" sx={{...centerGalleryStyle, ...allGalleryStyle}}>\r\n            {/* second column of photos */}\r\n            {getGalleryColumn(centerPhotos, extraPhotoStyle)}\r\n          </div>\r\n          <div className=\"col\" sx={{...rightGalleryStyle, ...allGalleryStyle}}>\r\n            {/* you won't believe... third column of photos! */}\r\n            {getGalleryColumn(rightPhotos, extraPhotoStyle)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useContext, ReactElement, useState, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {Heading} from '../components/Heading';\r\nimport {TranslucentRectangle} from '../components/TranslucentRectangle';\r\nimport {ScrollToTopButton} from '../components/ScrollToTopButton';\r\n\r\nimport {fadeIn} from '../utils/animation';\r\nimport {theme} from '../utils/theme';\r\nimport {IInfoContext, InfoContext, ITransparentCtx, TransparentCtx, ISetTransparentCtx, SetTransparentCtx} from '../utils/contexts';\r\nimport {FAQ as FAQInterface} from '../utils/interfaces';\r\nimport { useToggleNavColour } from '../utils/hooks';\r\n\r\n// Interfaces --\r\nexport interface FAQProp {\r\n  question: string;\r\n  answer: string;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\nexport interface QuestionProp {\r\n  question: string;\r\n  loadHandler: () => void;\r\n  extraStyling?: SxStyleProp;\r\n  imageExtraStyling?: SxStyleProp; // for scaling\r\n}\r\n\r\nexport interface ResponseProp {\r\n  response: string;\r\n  textExtraStyling?: SxStyleProp;\r\n  rectExtraStyling?: SxStyleProp;\r\n}\r\n\r\n//TODO: yes shari i will add padding later\r\n//=====================================================================\r\n// To hold the speech bubble and question\r\nconst QuestionItem: React.FC<QuestionProp> = ({\r\n  question,\r\n  loadHandler,\r\n  extraStyling,\r\n  imageExtraStyling,\r\n}): ReactElement => {\r\n  // Yay more styles!!\r\n  const outerContainerDiv: SxStyleProp = {\r\n    // 'Holds' the inner wrapper, and behaves like a top margin\r\n    width: '100%',\r\n\r\n    ...extraStyling,\r\n  };\r\n  const innerWrapperDiv: SxStyleProp = {\r\n    top: '3.5em',\r\n    maxWidth: '95vw', // to make sure the page doesn't scroll to the right\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    textAlign: 'center',\r\n\r\n    ...extraStyling,\r\n  };\r\n  const textWrapperDiv: SxStyleProp = {\r\n    display: 'flex',\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: '100%',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n  };\r\n  const titleTextStyle: SxStyleProp = {\r\n    fontSize: theme.fontSizes.body,\r\n    fontFamily: theme.fonts.heading,\r\n    color: theme.colors.text.light,\r\n    wordWrap: 'normal',\r\n    textAlign: 'center',\r\n    margin: 'auto',\r\n  };\r\n  const imageStyle = {\r\n    maxWidth: '90vw',\r\n    display: 'inline-block',\r\n    ...imageExtraStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={outerContainerDiv}>\r\n      <div sx={innerWrapperDiv}>\r\n        <img\r\n          src=\"./assets/speech_bubble.svg\"\r\n          alt=\"\"\r\n          sx={imageStyle}\r\n          onLoad={loadHandler}\r\n        />\r\n        <div sx={textWrapperDiv}>\r\n          <p sx={titleTextStyle}>{question}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n// ResponseItem holds the response div and rect\r\nconst ResponseItem: React.FC<ResponseProp> = ({\r\n  response,\r\n  textExtraStyling,\r\n  rectExtraStyling,\r\n}): ReactElement => {\r\n  const textWrapperDiv: SxStyleProp = {\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n\r\n    // TODO: mt is based off width which i find extremely stupid so\r\n    // fix this and make it better\r\n    // to push the wrapper down a bit and make description text readable\r\n    mt: ['20%', '15%', '10%'],\r\n    width: '90%',\r\n  };\r\n  const responseTextStyle: SxStyleProp = {\r\n    position: 'relative',\r\n\r\n    color: theme.colors.text.darkSlate,\r\n    fontSize: theme.fontSizes.body,\r\n    fontFamily: theme.fonts.body,\r\n    wordWrap: 'normal',\r\n    lineHeight: 1.6,\r\n  };\r\n  const rectStyling: SxStyleProp = {\r\n    minHeight: ['25vh', '30vh', '40vh'],\r\n\r\n    ...textExtraStyling,\r\n    ...rectExtraStyling,\r\n  };\r\n\r\n  return (\r\n    // yes shari i know the rectangles aren't EXACTLY the way it is on\r\n    // the planning xd but this is good enoughhh. it serves its purpose\r\n    // and i can reuse it!!\r\n    <TranslucentRectangle lengthX=\"60em\" extraStyling={rectStyling}>\r\n      <div sx={textWrapperDiv}>\r\n        <p sx={{...responseTextStyle, ...textExtraStyling}}>{response}</p>\r\n      </div>\r\n    </TranslucentRectangle>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n\r\ninterface FAQItemProps {\r\n  faqQuestion: FAQInterface;\r\n  questionNumber: number;\r\n}\r\n\r\nconst FAQItem: React.FC<FAQItemProps> = ({\r\n  faqQuestion,\r\n  questionNumber,\r\n}): ReactElement => {\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n  let styling: SxStyleProp;\r\n  let imageStyling: SxStyleProp | undefined;\r\n\r\n  if (questionNumber % 2 === 0) {\r\n    // Left side of the page\r\n    styling = {\r\n      ml: 0,\r\n      mr: 'auto',\r\n      textAlign: 'left',\r\n      left: '5%',\r\n    };\r\n  } else {\r\n    // Right side of the page\r\n    styling = {\r\n      ml: 'auto',\r\n      mr: 0,\r\n      textAlign: 'right',\r\n      right: '5%',\r\n    };\r\n    // For flipping the image\r\n    imageStyling = {transform: 'scaleX(-1)'};\r\n  }\r\n\r\n  // Styling the funky transparent rectangle\r\n  const rectStyling: SxStyleProp = {\r\n    maxWidth: '95vw',\r\n    backgroundColor:\r\n      questionNumber % 3 === 0\r\n        ? theme.colors.background.overlay\r\n        : 'transparent',\r\n  };\r\n  const wrapperDiv = {\r\n    width: '100%',\r\n\r\n    '@keyframes fade-in': fadeIn,\r\n    animation: isLoading ? 'none' : 'fade-in 1s linear',\r\n    display: isLoading ? 'none' : 'block',\r\n  };\r\n\r\n  /**\r\n   * Handles an image's load event by setting isLoading to false.\r\n   */\r\n  const handleLoad = () => {\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <li key={questionNumber} sx={{mb: '-2em'}}>\r\n      <div sx={wrapperDiv}>\r\n        <QuestionItem\r\n          question={faqQuestion.question}\r\n          loadHandler={handleLoad}\r\n          extraStyling={styling}\r\n          imageExtraStyling={imageStyling}\r\n        />\r\n        <ResponseItem\r\n          response={faqQuestion.answer}\r\n          textExtraStyling={styling}\r\n          rectExtraStyling={rectStyling}\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n\r\n//=====================================================================\r\n// FAQ -- renders the FAQ page\r\nexport const FAQ: React.FC = (): ReactElement => {\r\n  const faqQuestions: FAQInterface[] = useContext<IInfoContext>(InfoContext)\r\n    .faq;\r\n\r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  useEffect(() => setTransparent(false), []);\r\n\r\n  // Custom styles!!! --\r\n  const wrapperStyle: SxStyleProp = {\r\n    // the main page div\r\n\r\n    width: '100%',\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.light,\r\n  };\r\n  const innerWrapperStyle: SxStyleProp = {\r\n    // the div that contains everything\r\n\r\n    top: '20vh',\r\n    position: 'relative',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    mb: '14em', // pushing away the footer\r\n  };\r\n  const headingWrapperStyle: SxStyleProp = {\r\n    // the header div\r\n\r\n    left: '5%',\r\n    maxWidth: '90%', // to make sure the page doesn't scroll to the right\r\n    position: 'relative',\r\n  };\r\n\r\n  /**\r\n   * Retrieves and formats all the seperate question answers\r\n   * @param faqQuestions - all questions in the faq.\r\n   * @returns a list of ReactElements with the questions.\r\n   */\r\n  const getFaqItems = (faqQuestions: FAQInterface[]) => {\r\n    if (!faqQuestions) {\r\n      return <div></div>;\r\n    }\r\n\r\n    return faqQuestions.map((question, i) => {\r\n      return <FAQItem faqQuestion={question} questionNumber={i} />;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      {/* initializing scroll to top button */}\r\n      <ScrollToTopButton />\r\n\r\n      {/* the faq */}\r\n      <div sx={innerWrapperStyle}>\r\n        <div sx={headingWrapperStyle}>\r\n          <Heading text=\"FAQ\" alignment=\"left\" />\r\n        </div>\r\n        <div\r\n          sx={{\r\n            flex: 'initial',\r\n          }}\r\n        >\r\n          <ul sx={{listStyleType: 'none', px: 0, py: 0, mx: 0, my: 0}}>\r\n            {/* // Getting the list of question-response stuff */}\r\n            {getFaqItems(faqQuestions)}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useState, useRef, useEffect, ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {CircleSpinner} from './CircleSpinner';\r\nimport AboutUsSpeechBubble from '../assets/speech bubble.png';\r\nimport AboutUsSpeechBubbleMobile from '../assets/speechBubbleMobile.png';\r\nimport {theme, SECOND_BREAKPOINT} from '../utils/theme';\r\nimport {fadeIn} from '../utils/animation';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\ninterface Props {\r\n  quoteSets: QuoteSet[];\r\n}\r\n\r\nexport interface QuoteSet {\r\n  imageUrl: string;\r\n  quote: string;\r\n  closing: string;\r\n}\r\n\r\nexport interface ShownBubbleProps {\r\n  imageUrl: string;\r\n  quote: string;\r\n  closing: string;\r\n  extraStyling?: SxStyleProp;\r\n  lockImage: () => void;\r\n  unlockImage: () => void;\r\n}\r\n\r\ninterface GrayBubbleProps {\r\n  imageUrl: string;\r\n  size: number | string;\r\n  onClick: () => void;\r\n}\r\n\r\nconst vmax = Math.max(window.innerWidth, window.innerHeight);\r\nconst isSecondBreakpoint = window.innerWidth > SECOND_BREAKPOINT;\r\nconst imgSize = isSecondBreakpoint ? vmax * 0.17 : window.innerWidth * 0.4;\r\n\r\nconst GrayBubble: React.FC<GrayBubbleProps> = ({imageUrl, onClick, size}) => {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [sizeInNum, setSizeInNum] = useState<number>(null);\r\n  const sizeRef = useRef<number | string>(size);\r\n  const imgRef = useRef<HTMLImageElement>(null);\r\n  const marginRef = useRef({\r\n    mt: Math.random() * 10 + 1,\r\n    ml: Math.random() * 10 + 1,\r\n    mr: Math.random() * 10 + 1,\r\n    mb: Math.random() * 10 + 1,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setSizeInNum(imgRef.current.clientHeight);\r\n  }, []);\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    overflow: 'hidden',\r\n    borderRadius: '50%',\r\n    zIndex: 2,\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n    ...marginRef.current,\r\n  };\r\n\r\n  const overlayStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.imageDarkGrayOverlay,\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n  };\r\n\r\n  const imageStyle: SxStyleProp = {\r\n    objectFit: 'cover',\r\n    width: sizeRef.current,\r\n    height: sizeRef.current,\r\n    transitionDuration: '.2s',\r\n  };\r\n\r\n  /**\r\n   * Determines whether or not to render a loading spinner based on\r\n   * the image's load status.\r\n   * @returns either a loading spinner, or nothing.\r\n   */\r\n  const displayLoadSpinner = (): JSX.Element => {\r\n    const spinnerWrapper: SxStyleProp = {\r\n      position: 'absolute', // don't skew the circles\r\n      width: '100%',\r\n      height: '100%',\r\n\r\n      textAlign: 'center',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    };\r\n    return (\r\n      <div sx={spinnerWrapper}>\r\n        <div sx={{display: 'inline', margin: 'auto'}}>\r\n          <CircleSpinner\r\n            height={sizeInNum}\r\n            width={sizeInNum}\r\n            color={theme.colors.text.light}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle} onClick={onClick}>\r\n      {loading ? displayLoadSpinner() : undefined}\r\n      <img\r\n        src={imageUrl}\r\n        alt=\"\"\r\n        ref={imgRef}\r\n        sx={imageStyle}\r\n        onLoad={() => setLoading(false)}\r\n      />\r\n      <div sx={overlayStyle} />\r\n    </div>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n\r\nconst ShownBubble: React.FC<ShownBubbleProps> = ({\r\n  imageUrl,\r\n  quote,\r\n  closing,\r\n  extraStyling,\r\n  lockImage,\r\n  unlockImage,\r\n}) => {\r\n  const [bubbleHeight, setBubbleHeight] = useState<number>(null);\r\n  const quoteWrapperRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const ro = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        const {height} = entry.target.getBoundingClientRect();\r\n        console.log(height);\r\n        setBubbleHeight(height);\r\n      });\r\n    });\r\n\r\n    ro.observe(quoteWrapperRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  const imageWrapper: SxStyleProp = {\r\n    borderRadius: '50%',\r\n    overflow: 'hidden',\r\n    display: 'inline-block',\r\n    '&:hover': {\r\n      transform: 'scale(1.15)',\r\n    },\r\n    transition: '.2s',\r\n  };\r\n\r\n  const imageStyle: SxStyleProp = {\r\n    objectFit: 'cover',\r\n    width: imgSize,\r\n    height: imgSize,\r\n    animationName: 'fadeIn',\r\n    '@keyframes fadeIn': fadeIn,\r\n    animationDuration: '.5s',\r\n  };\r\n\r\n  const bubbleAndQuoteWrapperStyle: SxStyleProp = {\r\n    transform: [\r\n      `translate3d(0, -${imgSize * 0.35}px, 0)`,\r\n      `translate3d(0, -${imgSize * 0.2}px, 0)`,\r\n      `translate3d(-${imgSize * 2.25}px, -${imgSize * 0.45}px, 0)`,\r\n    ],\r\n    textAlign: 'center',\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.bodySmall,\r\n    color: theme.colors.text.darkSlate,\r\n    position: 'relative',\r\n    zIndex: 4,\r\n  };\r\n\r\n  const quoteWrapperStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    pt: ['3em', '4em'],\r\n    px: ['2em', '4em'],\r\n    pb: '1em',\r\n    justifyContent: 'space-between',\r\n    height: 'fit-content',\r\n    minHeight: ['30vh', '40vh', imgSize * 1.5],\r\n  };\r\n\r\n  const quoteStyle: SxStyleProp = {\r\n    width: '100%',\r\n    lineHeight: '2em',\r\n    order: 0,\r\n  };\r\n\r\n  const closingStyle: SxStyleProp = {\r\n    textAlign: 'right',\r\n    width: '100%',\r\n    px: '4em',\r\n    order: 1,\r\n    mt: ['3em', '3em', 'auto'],\r\n    mb: ['0.5em', '2em', '2em'],\r\n  };\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    // width: ['100%', 'auto'],\r\n  };\r\n\r\n  //speech bubble ratio 1.7:1\r\n  const speechBubbleStyle: SxStyleProp = {\r\n    width: ['100%', '100%', imgSize * 2.5],\r\n    height: bubbleHeight,\r\n  };\r\n\r\n  return (\r\n    <div sx={{...wrapperStyle, ...extraStyling}}>\r\n      <div sx={imageWrapper}>\r\n        <img\r\n          src={imageUrl}\r\n          alt=\"\"\r\n          sx={imageStyle}\r\n          key={imageUrl}\r\n          onMouseOver={lockImage}\r\n          onMouseLeave={unlockImage}\r\n        />\r\n      </div>\r\n      <div sx={bubbleAndQuoteWrapperStyle}>\r\n        <img\r\n          sx={speechBubbleStyle}\r\n          alt=\"\"\r\n          src={\r\n            isSecondBreakpoint ? AboutUsSpeechBubble : AboutUsSpeechBubbleMobile\r\n          }\r\n        />\r\n        <div sx={quoteWrapperStyle} ref={quoteWrapperRef}>\r\n          <p sx={quoteStyle}>{quote}</p>\r\n          <p sx={closingStyle}>{closing}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n//======================================================================\r\n\r\nexport const RotatingQuotes: React.FC<Props> = ({\r\n  quoteSets: originalQuoteSets,\r\n}) => {\r\n  const [quoteSets, setQuoteSets] = useState<QuoteSet[]>(originalQuoteSets);\r\n  const timerIds = useRef<number[]>([]);\r\n\r\n  const interval = 5000;\r\n  const intervalAfterLock = interval / 3;\r\n\r\n  useEffect(() => {\r\n    startRotation();\r\n    return clearTimerIds;\r\n  }, []);\r\n\r\n  const clearTimerIds = () => timerIds.current.forEach(window.clearInterval);\r\n\r\n  const startRotation = () => {\r\n    clearTimerIds();\r\n    const id = window.setInterval(() => {\r\n      setQuoteSets((oldSet) => {\r\n        oldSet.unshift(oldSet.pop());\r\n        return [...oldSet];\r\n      });\r\n    }, interval);\r\n    timerIds.current.push(id);\r\n  };\r\n\r\n  const lockImage = () => {\r\n    clearTimerIds();\r\n  };\r\n\r\n  const unlockImage = () => {\r\n    window.setTimeout(() => {\r\n      setQuoteSets((oldSet) => {\r\n        oldSet.unshift(oldSet.pop());\r\n        return [...oldSet];\r\n      });\r\n      startRotation();\r\n    }, intervalAfterLock);\r\n  };\r\n\r\n  const resetTimer = () => {\r\n    clearTimerIds();\r\n    startRotation();\r\n  };\r\n\r\n  const getGrayBubbles = () => {\r\n    const grayBubbles = [];\r\n    for (let i = 1; i < quoteSets.length; i++) {\r\n      grayBubbles.push(\r\n        <GrayBubble\r\n          imageUrl={quoteSets[i].imageUrl}\r\n          onClick={() => {\r\n            setQuoteSets((oldSet) => {\r\n              const clone = [...oldSet];\r\n              [clone[i], clone[0]] = [clone[0], clone[i]];\r\n              return [...clone];\r\n            });\r\n            resetTimer();\r\n          }}\r\n          size={Math.random() * 10 + 7 + 'vmin'}\r\n        />,\r\n      );\r\n    }\r\n\r\n    return grayBubbles;\r\n  };\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    display: 'flex',\r\n    ml: '5%',\r\n    flex: 2,\r\n    flexDirection: ['column', 'column', 'row'],\r\n    textAlign: ['right', 'right', 'left'],\r\n  };\r\n\r\n  const shownBubbleStyle: SxStyleProp = {\r\n    mt: [0, 0, '25vh'],\r\n  };\r\n\r\n  const grayBubbleWrapper: SxStyleProp = {\r\n    position: ['static', 'static', 'absolute'],\r\n    right: 0,\r\n    width: ['100%', '100%', vmax * 0.25],\r\n    textAlign: ['center', 'center', 'left'],\r\n  };\r\n\r\n  //index 0 will always be the main photo\r\n  //the array will loop through pop and unshift\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <ShownBubble\r\n        extraStyling={shownBubbleStyle}\r\n        imageUrl={quoteSets[0].imageUrl}\r\n        quote={quoteSets[0].quote}\r\n        closing={quoteSets[0].closing}\r\n        lockImage={lockImage}\r\n        unlockImage={unlockImage}\r\n      />\r\n      <div sx={grayBubbleWrapper}>{getGrayBubbles()}</div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useContext, useState, useRef, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport {RotatingQuotes, QuoteSet} from '../components/RotatingQuotes';\r\nimport {InfoContext, IInfoContext, ITransparentCtx, TransparentCtx, ISetTransparentCtx, SetTransparentCtx} from '../utils/contexts';\r\nimport BottomPageDecor from '../assets/BottomPageDecor.svg';\r\nimport {getImageUrl} from '../utils/functions';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport { fadeIn } from '../utils/animation';\r\nimport { useToggleNavColour } from '../utils/hooks';\r\n\r\nconst Paragraph: React.FC = () => {\r\n  const {aboutStuco} = useContext<IInfoContext>(InfoContext);\r\n\r\n  if (!aboutStuco) {\r\n    return <React.Fragment />;\r\n  }\r\n\r\n  const headingStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    fontSize: theme.fontSizes.heading.primary,\r\n    fontFamily: theme.fonts.heading,\r\n    width: ['100%', '100%', '35vw'],\r\n    lineHeight: '1.3em',\r\n  };\r\n\r\n  const lineStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.secondary,\r\n    width: ['100%', '100%', '25vw'],\r\n    borderRadius: 2,\r\n    height: '.3em',\r\n    my: '1em',\r\n  };\r\n\r\n  const bodyStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.bodySmall,\r\n    width: ['100%', '100%', '45vw'],\r\n    lineHeight: '2.2em',\r\n  };\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    display: 'inline-block',\r\n    mt: ['10vh', '10vh', 0],\r\n    mb: ['5vh', '5vh', 0],\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <div sx={headingStyle}>{aboutStuco[0].stucoTagline}</div>\r\n      <div sx={lineStyle} />\r\n      <div sx={bodyStyle}>{aboutStuco[0].stucoDescription}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\n//======================================================================\r\n\r\nexport const AboutUs: React.FC = () => {\r\n  const {members} = useContext<IInfoContext>(InfoContext);\r\n  const [height, setHeight] = useState<number>(0);\r\n  const bodyRef = useRef<HTMLDivElement>(null);\r\n  const decorRef = useRef<HTMLDivElement>(null);\r\n\r\n  const {setTransparent} = useContext<ISetTransparentCtx>(SetTransparentCtx);\r\n  const toggleNavUnsub = useToggleNavColour(window.innerHeight/5);\r\n\r\n  useEffect(() => {\r\n    setTransparent(true);\r\n    return toggleNavUnsub;\r\n  }, []);\r\n\r\n  const translateScale = 0.4;\r\n\r\n  useEffect(() => {\r\n    const ro = new ResizeObserver((entries) => {\r\n      const pageHeight = bodyRef.current.getBoundingClientRect().height;\r\n      const decorHeight = decorRef.current.getBoundingClientRect().height;\r\n      setHeight(pageHeight + decorHeight * (1 - translateScale));\r\n    });\r\n    ro.observe(bodyRef.current);\r\n    ro.observe(decorRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  if (!members) {\r\n    return <React.Fragment />;\r\n  }\r\n\r\n  const wrapper: SxStyleProp = {\r\n    backgroundColor: theme.colors.background.dark,\r\n    minHeight: '100vh',\r\n    height: height === 0 ? undefined : height,\r\n    pb: '20vh',\r\n  };\r\n\r\n  const bodyStyle: SxStyleProp = {\r\n    px: theme.bodyPadding.px,\r\n    pt: '10%',\r\n    display: 'flex',\r\n    flexDirection: ['column', 'column', 'row'],\r\n    flexWrap: 'nowrap',\r\n  };\r\n\r\n  const bottomDecorStyle: SxStyleProp = {\r\n    width: '100%',\r\n    height: '100%',\r\n  };\r\n\r\n  const decorWrapper: SxStyleProp = {\r\n    // position: 'absolute',\r\n    transform: `translateY(-${translateScale * 100}%)`,\r\n  };\r\n\r\n  const getQuoteSet = () => {\r\n    return members.map((member) => {\r\n      const quoteSet: QuoteSet = {\r\n        quote: member.quote,\r\n        closing: member.name + ' - ' + member.position,\r\n        imageUrl: getImageUrl(member.photoId, 400, 400),\r\n      };\r\n      return quoteSet;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapper}>\r\n      <div sx={bodyStyle} ref={bodyRef}>\r\n        <Paragraph />\r\n        <RotatingQuotes quoteSets={getQuoteSet()} />\r\n      </div>\r\n      <div sx={decorWrapper} ref={decorRef}>\r\n        <img src={BottomPageDecor} sx={bottomDecorStyle} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AboutUs;\r\n","import React, {useEffect, useState, useMemo, useContext, useRef} from 'react';\r\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\r\n// import {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\n\r\nimport {Navigation} from './components/Navigation';\r\nimport {Footer} from './components/Footer';\r\nimport {ScrollToTop} from './components/ScrollToTop';\r\nimport {LoadingScreen} from './components/LoaderComponents';\r\n\r\nimport {useUnmountingDelay} from './utils/hooks';\r\n\r\nimport {Home} from './pages/Home';\r\nimport {Events} from './pages/Events';\r\nimport {Clubs} from './pages/Clubs';\r\nimport {Calendar} from './pages/Calendar';\r\nimport {Map} from './pages/Map';\r\nimport {Gallery} from './pages/Gallery';\r\nimport {FAQ} from './pages/FAQ';\r\nimport {AboutUs} from './pages/AboutUs';\r\n\r\nimport {\r\n  IInfoContext,\r\n  InfoContext,\r\n  TransparentCtx,\r\n  ITransparentCtx,\r\n  SetTransparentCtx,\r\n  ISetTransparentCtx,\r\n} from './utils/contexts';\r\n\r\nconst backendUrl =\r\n  'https://us-central1-stuco-website-1596467212841.cloudfunctions.net/getData';\r\n// const backendUrl = 'http://192.168.1.28:8080';\r\n\r\nconst Main: React.FC = React.memo(() => {\r\n  const [info, setInfo] = useState<IInfoContext | undefined>();\r\n  const [showLoading, setShowLoading] = useState<boolean>(true);\r\n  /** Speed to unmount the loading screen, in ms. */\r\n  const unmountSpeed = 500;\r\n  const shouldRenderLoading = useUnmountingDelay(showLoading, unmountSpeed);\r\n\r\n  const getData = async () => {\r\n    let data: IInfoContext;\r\n\r\n    try {\r\n      const res = await fetch(backendUrl, {\r\n        method: 'GET',\r\n        mode: 'cors',\r\n        headers: {\r\n          accept: 'application/json',\r\n        },\r\n      });\r\n      data = await res.json();\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    setInfo(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  // Indicate that the load is done\r\n  useEffect(() => {\r\n    if (info) {\r\n      setShowLoading(false);\r\n    }\r\n  }, [info]);\r\n\r\n  if (shouldRenderLoading) {\r\n    return (\r\n      <LoadingScreen isMounted={showLoading} unmountSpeed={unmountSpeed} />\r\n    );\r\n  }\r\n\r\n  console.log(process.env.PUBLIC_URL);\r\n\r\n  return (\r\n      <InfoContext.Provider value={info}>\r\n        <Router>\r\n          <ScrollToTop />\r\n          <Navigation />\r\n          <Switch>\r\n            <Route path=\"/events\">\r\n              <Events />\r\n            </Route>\r\n            <Route path=\"/clubs\">\r\n              <Clubs />\r\n            </Route>\r\n            <Route path=\"/calendar\">\r\n              <Calendar />\r\n            </Route>\r\n            <Route path=\"/map\">\r\n              <Map />\r\n            </Route>\r\n            <Route path=\"/gallery\">\r\n              <Gallery />\r\n            </Route>\r\n            <Route path=\"/faq\">\r\n              <FAQ />\r\n            </Route>\r\n            <Route path=\"/about\">\r\n              <AboutUs />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <Home />\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n        </Router>\r\n      </InfoContext.Provider>\r\n  );\r\n});\r\n\r\nconst App: React.FC = () => {\r\n  const [transparent, setTransparent] = useState<boolean>(true);\r\n  \r\n\r\n  //why is this split in two?\r\n  //so it won't force a re-render on places that used setTransparent\r\n  //if transparent changed but setTransparent didn't change\r\n  const transparentCtx: ITransparentCtx = {\r\n    transparent: transparent,\r\n  };\r\n\r\n  const setTransparentCtx: ISetTransparentCtx = {\r\n    setTransparent: setTransparent,\r\n  };\r\n\r\n  //why do I have to wrap it around so many times?\r\n  //don't ask me why, it's so this thing won't re-render\r\n  //each time I use setTransparent\r\n  const MemoMain: JSX.Element = useMemo(() => {\r\n    return (\r\n      <SetTransparentCtx.Provider value={setTransparentCtx}>\r\n        <Main />\r\n      </SetTransparentCtx.Provider>\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <TransparentCtx.Provider value={transparentCtx}>\r\n      {MemoMain}\r\n    </TransparentCtx.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n  google: {\n    families: ['Architects Daughter', 'Open Sans:400,600,700', 'Rowdies:300,400']\n  },\n  // inactive: () => console.log('aslkdjflsdjf'),\n});\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}