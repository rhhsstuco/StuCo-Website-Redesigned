{"version":3,"sources":["assets/logo.svg","assets/clubBackground.png","assets/speech bubble.svg","assets/speechBubbleMobile.svg","assets/BottomPageDecor.svg","utils/theme.ts","components/Navigation.tsx","components/Footer.tsx","components/ScrollToTop.tsx","components/ThreeDotsLoader.tsx","components/LoaderComponents.tsx","utils/contexts.ts","components/CountDownTimer.tsx","components/Heading.tsx","components/Collapsable.tsx","utils/animation.ts","utils/functions.ts","components/PhotoSlideDeck.tsx","utils/RandomDot.tsx","pages/Home.tsx","components/TranslucentRectangle.tsx","pages/Events.tsx","components/ClubPopup.tsx","pages/Clubs.tsx","pages/Calendar.tsx","pages/Map.tsx","components/ViewerPhoto.tsx","components/ViewerButton.tsx","components/CircleSpinner.tsx","components/PhotoViewer.tsx","pages/Gallery.tsx","pages/FAQ.tsx","components/RotatingQuotes.tsx","pages/AboutUs.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","theme","colors","text","light","darkSlate","darkGray","navbar","background","dark","darkest","black","overlay","accent","darkOverlay","primary","secondary","footer","yellow","imageOverlayForText","imageGrayOverlay","imageDarkGrayOverlay","searchBox","lightGray","modes","fonts","heading","body","time","fontSizes","event","bodySmall","bodyBig","bodyPadding","pt","pb","px","links","nav","py","textTransform","letterSpacing","NavItem","route","extraStyling","children","style","color","fontFamily","display","textDecoration","order","width","textAlign","to","sx","Toggle","toggle","onClick","toggleStyle","fontSize","mr","routes","events","clubs","calendar","map","gallery","faq","about","Navigation","useState","setToggle","navItemsHeight","setNavItemsHeight","navItemsRef","useRef","navRef","useEffect","scrollEvent","clickEvent","e","target","current","window","addEventListener","removeEventListener","ro","ResizeObserver","entries","forEach","entry","height","contentRect","console","log","observe","disconnect","wrapperStyle","justifyContent","flexDirection","alignItems","position","zIndex","boxShadow","flexWrap","navItemsWrapper","transform","transition","overflow","logoStyle","justifySelf","marginRight","marginLeft","cursor","ref","src","logo","alt","Object","keys","toUpperCase","key","socialMediaStyle","socialMediaList","email","link","image","size","instagram","facebook","twitter","SocialMediaItem","name","pictureLink","href","paddingX","imageStyle","borderRadius","iconStyle","renderIcon","CopyrightItem","textStyle","linkStyle","mb","copyrightTextStyle","my","mt","Date","getFullYear","Footer","footerStyle","backgroundColor","top","bottom","whiteSpace","getRouteItems","navStyle","mx","half","Math","ceil","length","leftRoutes","slice","rightRoutes","leftRoutesStyle","rightRoutesStyle","className","margin","listStyleType","pl","getAllFooterRoutes","left","sitename","right","ScrollToTop","withRouter","scroll","behavior","Fragment","ThreeDotsLoader","type","LoadingSquare","loaderColor","loaderWidth","loaderHeight","loadingSquareStyle","LoadingScreen","isMounted","unmountSpeed","titleTextStyle","toString","opacity","InfoContext","createContext","countdown","members","recents","upcomingMiniEvents","aboutStuco","clubHighlights","CountDownTimer","date","timer","setTimer","formattedTime","setFormattedTime","getFormattedTime","setTimeout","getTime","timeInMilli","days","floor","hours","minutes","seconds","TimeUnit","number","numDigit","textSize","numSize","padStart","Heading","alignment","underline","fontWeight","lineStyle","undefined","Collapsable","title","titleStyle","collapsed","childrenStyle","childrenCollapsed","setChildrenCollapsed","childrenHeight","setChildrenHeight","childrenRef","childWrapperRef","prevHeight","textOverflow","verticalAlign","fill","padding","transitionTime","diff","abs","getHeightDiff","childrenWrapperStyle","ml","pr","borderLeftWidth","borderLeftColor","borderLeftStyle","overflowY","transitionDuration","defaultTitleStyle","React","Children","count","slideUp","slideBackDown","fadeIn","popIn","getImageUrl","imageId","round","hex","alpha","randNum","min","max","random","randInt","bruteForceClearInterval","highestId","i","clearInterval","hexToRgbArr","parseInt","GrayImage","url","photoDimension","objectFit","CenterImage","description","lockImage","unlockImage","wrapperWidth","setWrapperWidth","wrapperRef","getBoundingClientRect","animation","descriptionStyle","animationFillMode","animationName","animationDuration","animationTimingFunction","onMouseEnter","onMouseLeave","onFocus","PhotoSlideDeck","photos","curPhoto","setCurPhoto","timerId","setTimerId","startRotation","getPrevIdx","curIdx","newIdx","getNextIdx","id","setInterval","oldId","resetTimer","interval","RandomDot","x","y","getComponent","dotStyle","this","Main","countdownEvent","useContext","backgroundSize","backgroundImage","buttonStyle","fontVariantCaps","borderColor","borderWidth","borderStyle","eventName","BackgroundWithDots","props","randomDots","setRandomDots","numDots","setNumDots","componentRef","generateRandomDots","numNewDots","oldArr","clone","push","innerWidth","dot","UpcomingBoard","n","getEventsList","getPlaceHolder","Recent","setWidth","thisComponentRef","scale","photoId","line","Home","backRgba","replace","hexNum","r","g","b","hexToRgb","a","TranslucentRectangle","lengthX","lengthY","minLengthY","rectStyle","minHeight","hasOwnProperty","EventHeading","textLocation","extraHeaderStyling","extraTextStyling","EventPhoto","photoID","photoLocation","imgWidth","setImgWidth","loading","setLoading","imageRef","maxWidth","maxHeight","rectStyling","displayLoadingSquare","onLoad","EventButton","buttonText","buttonLink","extraButtonStyling","EventInfoItem","startHeight","eventDetails","textWrapperStyle","wordWrap","lineHeight","buttonContainerStyle","EventItem","imgHeight","setImgHeight","eventItemRef","currentEventDetails","rectangleBarrierStyling","Events","eventInfo","index","extraRectStyling","ClubDescriptionItem","clubname","titleWrapperStyle","clipPath","ClubInfoItem","clubContactInfo","contactInfoWrapperStyle","flex","marginY","wordBreak","colStyle","leftColStyle","rightColStyle","info","formattedTitle","value","getAllContactInfo","ClubPhoto","ClubPopup","closeHandler","clubInfo","clubPhotoRef","overlayStyle","backdropFilter","mainWrapperStyle","meetingDate","meetingDay","meetingFreq","meetingFrequency","meetingLoc","meetingLocation","currentTarget","BgTriangleProp","x1","y1","x2","y2","x3","y3","getStyle","getClipPath","Clubs","setHeight","query","setQuery","isPopup","setIsPopup","popupClub","setPopupClub","pageRef","bgRectWidth","bgTriangleProp","clientHeight","backgroundImgStyle","searchBoxStyle","outline","searchBoxWrapperStyle","isFirstBreakpoint","clubBackground","Array","from","getTransluteRects","onChange","placeholder","categories","club","category","titleComponent","getClubs","getClubList","searchStr","results","filter","toLowerCase","includes","displaySearchResults","imageUrl","triangles","getTriangleImages","Calendar","Map","backgroundStyle","ViewerPhoto","loadHandler","originalDimensions","mainImageLimit","setMainImageLimit","orientation","setOrientation","mainImageRefDiv","determineOrientation","useCallback","h","w","mainImageContainerStyle","fetchMainImageUrl","onError","ViewerButton","imageSrc","actionHandler","backgroundRepeat","CircleSpinner","PhotoViewer","startIndex","setIndex","overlayWidth","setOverlayWidth","overlayReferenceDiv","xTouchLoc","yTouchLoc","incrementIdx","decrementIdx","handleClosing","topY","document","scrollTo","allowScrolling","reactToKeystrokes","keyCode","initializeTouch","touchLocations","touches","clientX","clientY","reactToSwipe","xOld","yOld","changedTouches","oldPos","newPos","xDiff","yDiff","detectSwipeDirection","handleLoadingState","checkIfImagesLoaded","refDiv","imgElements","querySelectorAll","complete","renderExitButton","arrowStyle","overlayContainerStyle","bothButtonStyle","leftButtonStyle","rightButtonStyle","overscrollBehavior","renderSpinner","GalleryPhoto","photo","initializeDisplay","extraPhotoStyle","photoStyle","newPhotoDimensions","displayLoadSpinner","photoUrl","topPos","scrollY","photoNum","Gallery","galleryPhotos","referenceDiv","viewIndex","setViewIndex","showViewer","setShowViewer","currentImageNumber","arr","array","result","splice","splitArray","photoGroup","originalPhotoDimensions","leftPhotos","centerPhotos","rightPhotos","allGalleryStyle","getGalleryColumn","photoColumn","photoContainerStyle","startDisplay","toggleViewer","displayViewer","QuestionItem","question","imageExtraStyling","outerContainerDiv","innerWrapperDiv","ResponseItem","response","textExtraStyling","rectExtraStyling","responseTextStyle","FAQ","faqQuestions","styling","imageStyling","answer","getFaqItems","vmax","innerHeight","imgSize","GrayBubble","sizeRef","marginRef","ShownBubble","quote","closing","speechBubbleStyle","bubbleAndQuoteWrapperStyle","AboutUsSpeechBubble","AboutUsSpeechBubbleMobile","RotatingQuotes","originalQuoteSets","quoteSets","setQuoteSets","oldSet","unshift","pop","grayBubbleWrapper","grayBubbles","getGrayBubbles","Paragraph","headingStyle","bodyStyle","stucoTagline","stucoDescription","AboutUs","bodyRef","decorRef","pageHeight","decorHeight","wrapper","decorWrapper","translateScale","member","BottomPageDecor","App","setInfo","showLoading","setShowLoading","shouldRenderLoading","shouldBeMounted","delayTime","shouldRender","setShouldRender","timerID","clearTimeout","useUnmountingDelay","getData","fetch","method","mode","headers","accept","res","json","data","process","Provider","basename","path","Boolean","location","hostname","match","WebFont","load","google","families","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c2228404.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.244fe6ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/clubBackground.fdd1f9d6.png\";","module.exports = __webpack_public_path__ + \"static/media/speech bubble.4c8ab52f.svg\";","module.exports = __webpack_public_path__ + \"static/media/speechBubbleMobile.b2f1e424.svg\";","module.exports = __webpack_public_path__ + \"static/media/BottomPageDecor.12fcb1cf.svg\";","//breakpoints: 640px, 832px,\r\nexport const FIRST_BREAKPOINT = 640;\r\nexport const SECOND_BREAKPOINT = 832;\r\nexport const theme = {\r\n  colors: {\r\n    text: {\r\n      light: '#FFFFFF',\r\n      darkSlate: '#2F4F4F',\r\n      darkGray: '#343434',\r\n    },\r\n    navbar: '#5B7F76',\r\n    background: {\r\n      light: '#FFFFFF',\r\n      dark: '#495E57',\r\n      darkest: '#00000088',\r\n      black: '#000000',\r\n      overlay: '#93CCBE29',\r\n      accent: '#DE7F68C7',\r\n      darkOverlay: '#5B7F76',\r\n    },\r\n    primary: '#68DEB5',\r\n    secondary: '#93CCBE',\r\n    footer: '#39504A',\r\n    yellow: '#FFF08E',\r\n    imageOverlayForText: '#FFFFFFD9',\r\n    imageGrayOverlay: '#8B8B8BA6',\r\n    imageDarkGrayOverlay: '#4D4D4DA6',\r\n    searchBox: {\r\n      darkGray: '#707070',\r\n      lightGray: '#E1E1E1',\r\n    },\r\n    modes: {\r\n      dark: {},\r\n    },\r\n  },\r\n  fonts: {\r\n    heading: 'Rowdies',\r\n    body: 'Open Sans',\r\n    time: 'Architects Daughter',\r\n  },\r\n  fontSizes: {\r\n    heading: {\r\n      primary: [30, 40],\r\n      event: [14, 16, 24, 30, 40],\r\n    },\r\n    body: [13, 14, 16, 20, 24, 28, 32],\r\n    event: [10, 12, 14, 16, 20, 24, 32],\r\n    bodySmall: [11, 12, 16],\r\n    bodyBig: [20, 24, 28],\r\n    footer: [11, 12, 14, 16],\r\n  },\r\n  bodyPadding: {\r\n    pt: '7%',\r\n    pb: '10%',\r\n    px: '7%',\r\n  },\r\n  links: {\r\n    nav: {\r\n      px: 2,\r\n      py: 1,\r\n      textTransform: 'uppercase',\r\n      letterSpacing: '0.2em',\r\n    },\r\n  },\r\n};\r\n","/** @jsx jsx */\nimport React, {useState, useEffect, useRef} from 'react';\nimport {Link} from 'react-router-dom';\nimport {jsx, SxStyleProp} from 'theme-ui';\nimport {theme} from '../utils/theme';\nimport {FaBars, FaTimes} from 'react-icons/fa';\nimport logo from '../assets/logo.svg';\nimport ResizeObserver from 'resize-observer-polyfill';\n\n//TODO: mmmake diferent colorus\ninterface LinkProps {\n  route: string;\n  text: string;\n  extraStyling?: SxStyleProp;\n}\n\nexport const NavItem: React.FC<LinkProps> = ({\n  route,\n  text,\n  extraStyling,\n  children,\n}) => {\n  const style: SxStyleProp = {\n    color: theme.colors.text.light,\n    fontFamily: theme.fonts.body,\n    display: 'block',\n    '&:hover': {\n      textDecoration: 'none',\n      background: theme.colors.footer,\n      color: theme.colors.text.light,\n    },\n    order: 2,\n    px: 20,\n    py: 3,\n    width: ['100%', '100%', 'auto'],\n    textAlign: 'center',\n  };\n\n  return (\n    <Link to={'/' + route} sx={{...style, ...extraStyling}}>\n      {text}\n      {children}\n    </Link>\n  );\n};\n\ninterface ToggleProps {\n  toggle: boolean;\n  onClick: () => void;\n}\n\nconst Toggle: React.FC<ToggleProps> = ({toggle, onClick}) => {\n  const toggleStyle: SxStyleProp = {\n    order: 1,\n    display: ['block', 'block', 'none'],\n    fontSize: '1.3em',\n    color: theme.colors.text.light,\n    mr: '5%',\n  };\n\n  if (toggle) {\n    return <FaTimes sx={toggleStyle} onClick={onClick} />;\n  }\n  return <FaBars sx={toggleStyle} onClick={onClick} />;\n};\n\n// Moving routes out of Navigation so Footer can access them\nexport const routes = {\n  //key is the route name, value is displayed text\n  events: 'Events',\n  clubs: 'Clubs',\n  calendar: 'Calendar',\n  map: 'Map',\n  gallery: 'Gallery',\n  faq: 'FAQ',\n  about: 'About Us',\n};\n\nexport const Navigation: React.FC = () => {\n  const [toggle, setToggle] = useState<boolean>(false);\n  const [navItemsHeight, setNavItemsHeight] = useState<number>(null);\n  const navItemsRef = useRef<HTMLDivElement>(null);\n  const navRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const scrollEvent = () => setToggle(false);\n    const clickEvent = (e) => {\n      if (toggle && e.target !== navRef.current) {\n        setToggle(false);\n      }\n    };\n    window.addEventListener('scroll', scrollEvent);\n    window.addEventListener('click', clickEvent);\n    return () => {\n      window.removeEventListener('scroll', scrollEvent);\n      window.removeEventListener('click', clickEvent);\n    };\n  }, [toggle]);\n\n  useEffect(() => {\n    const ro = new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        const {height} = entry.contentRect;\n        console.log(height);\n        setNavItemsHeight(height);\n      });\n    });\n    ro.observe(navItemsRef.current);\n    return () => ro.disconnect();\n  }, []);\n\n  const wrapperStyle: SxStyleProp = {\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'space-between',\n    flexDirection: 'row' as 'row',\n    background: theme.colors.navbar,\n    alignItems: 'center',\n    position: 'fixed',\n    zIndex: 10,\n    boxShadow: '0 1px 5px ' + theme.colors.footer,\n    flexWrap: 'wrap',\n  };\n\n  const getNavItems = () => {\n    return Object.keys(routes).map((route) => {\n      return (\n        <NavItem\n          route={route}\n          text={routes[route].toUpperCase()}\n          key={routes[route]}\n        />\n      );\n    });\n  };\n\n  const navItemsWrapper: SxStyleProp = {\n    display: 'flex',\n    flexWrap: 'wrap',\n    order: 2,\n    transform: [\n      toggle ? 'translateY(0)' : 'translateY(-100%)',\n      toggle ? 'translateY(0)' : 'translateY(-100%)',\n      'translateY(0)',\n    ],\n    transition: '.5s',\n    overflow: 'hidden',\n    height: [toggle ? navItemsHeight : 0, toggle ? navItemsHeight : 0, 'auto'],\n    zIndex: 0,\n  };\n\n  const logoStyle: SxStyleProp = {\n    order: 0,\n    justifySelf: 'flex-start',\n    marginRight: 'auto',\n    marginLeft: ['5%', '10%'],\n    '&:hover': {\n      background: theme.colors.navbar,\n      cursor: 'pointer',\n    },\n    height: '3.5rem',\n    zIndex: 1,\n  };\n\n  return (\n    <div sx={wrapperStyle} ref={navRef}>\n      <Link to=\"/\" sx={logoStyle}>\n        <img src={logo} alt=\"\" sx={logoStyle} />\n      </Link>\n      <Toggle toggle={toggle} onClick={() => setToggle((toggle) => !toggle)} />\n      <div sx={navItemsWrapper}>\n        <div\n          ref={navItemsRef}\n          children={getNavItems()}\n          sx={{display: 'flex', flexWrap: 'wrap'}}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Navigation;\n","/** @jsx jsx */\r\nimport React, {ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {\r\n  FaGithub,\r\n  FaEnvelopeSquare,\r\n  FaFacebookSquare,\r\n  FaTwitterSquare,\r\n  FaInstagramSquare,\r\n} from 'react-icons/fa';\r\n\r\n// For the links on the footer\r\nimport {routes, NavItem} from './Navigation';\r\n\r\nimport {theme} from '../utils/theme';\r\n\r\n// Interfaces --\r\ninterface socialMediaContainer {\r\n  email: linkImagePair;\r\n  instagram?: linkImagePair;\r\n  facebook?: linkImagePair;\r\n  twitter?: linkImagePair;\r\n}\r\n\r\ninterface linkImagePair {\r\n  link: string;\r\n  image: string | ReactElement;\r\n}\r\n\r\n// The style for social media icons\r\nconst socialMediaStyle: SxStyleProp = {\r\n  transition: 'transform .2s ease',\r\n  '&:hover': {\r\n    transform: 'scale(1.1)',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\n// All the social media needed for the footer\r\n// If we need more, just add according to format!\r\nconst socialMediaList: socialMediaContainer = {\r\n  email: {\r\n    link: 'mailto:rhhsstuco.contact@gmail.com',\r\n    image: <FaEnvelopeSquare size={32} sx={socialMediaStyle} />,\r\n  },\r\n  instagram: {\r\n    link: 'https://www.instagram.com/rhhs_stuco',\r\n    image: <FaInstagramSquare size={32} sx={socialMediaStyle} />,\r\n  },\r\n  facebook: {\r\n    link: 'https://www.facebook.com/rhhsstuco/',\r\n    image: <FaFacebookSquare size={32} sx={socialMediaStyle} />,\r\n  },\r\n  twitter: {\r\n    link: 'https://twitter.com/rhhs_stuco',\r\n    image: <FaTwitterSquare size={32} sx={socialMediaStyle} />,\r\n  },\r\n};\r\n\r\n//=====================================================================\r\n// SocialMediaItem is for the individual social media buttons\r\ninterface SocialMediaProps {\r\n  name: string;\r\n  link: string;\r\n  pictureLink: string | ReactElement;\r\n}\r\n\r\nconst SocialMediaItem: React.FC<SocialMediaProps> = ({\r\n  name,\r\n  link,\r\n  pictureLink,\r\n}) => {\r\n  const linkStyle: SxStyleProp = {\r\n    paddingX: '0.5em', // rudimentary spacing between the pictures lol\r\n  };\r\n\r\n  const renderIcon = () => {\r\n    const imageStyle: SxStyleProp = {\r\n      borderRadius: '50%',\r\n      '&:hover': {},\r\n    };\r\n\r\n    const iconStyle = {\r\n      display: 'inline',\r\n      color: theme.colors.background.light,\r\n\r\n      height: '100%',\r\n      width: 'auto',\r\n\r\n      ...imageStyle,\r\n    };\r\n\r\n    if (typeof pictureLink == 'string') {\r\n      return <img sx={imageStyle} src={pictureLink} alt={name} />;\r\n    }\r\n\r\n    return <div sx={iconStyle}>{pictureLink}</div>;\r\n  };\r\n\r\n  return (\r\n    <a href={link} sx={linkStyle}>\r\n      {renderIcon()}\r\n    </a>\r\n  );\r\n};\r\n\r\n// Draw all the social media buttons provided\r\nconst getSocialMedia = (\r\n  socialMediaList: socialMediaContainer,\r\n): ReactElement[] => {\r\n  return Object.keys(socialMediaList).map((sitename) => {\r\n    return (\r\n      <SocialMediaItem\r\n        name={sitename}\r\n        link={socialMediaList[sitename].link}\r\n        pictureLink={socialMediaList[sitename].image}\r\n        key={sitename}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\n// ====================================================================\r\n// CopyrightItem is for the copyright text and source text\r\n\r\ninterface CopyrightItemProps {\r\n  textStyle: SxStyleProp;\r\n}\r\n\r\nconst CopyrightItem: React.FC<CopyrightItemProps> = ({textStyle}) => {\r\n  const linkStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    mb: '0.25em',\r\n\r\n    '&:hover': {\r\n      color: theme.colors.primary,\r\n      textDecoration: 'none',\r\n    },\r\n  };\r\n\r\n  const copyrightTextStyle: SxStyleProp = {\r\n    ...textStyle,\r\n    my: 'auto',\r\n\r\n    // Add space above copyright if rearranged\r\n    '@media only screen and (max-width: 500px)': {\r\n      mt: '1em',\r\n    },\r\n  };\r\n  const imageStyle: SxStyleProp = {mr: '0.5em', mb: '0.25em'};\r\n\r\n  return (\r\n    <p sx={copyrightTextStyle}>\r\n      &copy; RHHS Student Council {new Date().getFullYear()}\r\n      &nbsp; |&nbsp;\r\n      <a\r\n        href=\"https://github.com/shari09/StuCo-Website-Redesigned\"\r\n        sx={linkStyle}\r\n      >\r\n        <FaGithub sx={imageStyle} size={20} />\r\n        Source\r\n      </a>\r\n    </p>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n\r\n//=====================================================================\r\n// The actual footer code and stuff\r\nexport const Footer: React.FC = () => {\r\n  // styling stuff --\r\n  const footerStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    backgroundColor: theme.colors.footer,\r\n    pt: '2em',\r\n    position: 'relative',\r\n\r\n    zIndex: 1,\r\n\r\n    width: '100%',\r\n    top: 'auto',\r\n    mt: 'auto',\r\n    mb: 0,\r\n    bottom: 0,\r\n  };\r\n  const textStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.footer,\r\n    whiteSpace: 'nowrap',\r\n  };\r\n  const bottomFooterStyle: SxStyleProp = {\r\n    // Rearrange the footer if the screen is small enough.\r\n    '@media only screen and (max-width: 500px)': {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      textAlign: 'center',\r\n    },\r\n\r\n    width: '100%',\r\n    margin: 'auto',\r\n  };\r\n  const socialMediaContainerStyle: SxStyleProp = {\r\n    left: '5%',\r\n    width: '50%',\r\n    bottom: '0.5em',\r\n\r\n    // Format for the rearrangement\r\n    '@media only screen and (max-width: 500px)': {\r\n      // Add space to seperate from links if rearranged\r\n      mt: '1em',\r\n      left: 0,\r\n      width: '100%',\r\n    },\r\n  };\r\n  const copyrightContainerStyle: SxStyleProp = {\r\n    right: '5%',\r\n    width: '50%',\r\n    textAlign: 'right',\r\n\r\n    // Format for the rearrangement\r\n    '@media only screen and (max-width: 500px)': {\r\n      right: 0,\r\n      width: '100%',\r\n      textAlign: 'center',\r\n      mb: '0.5em',\r\n    },\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Gets all routes, splits them in half, and returns all the\r\n   * routes in a formatted style.\r\n   * @param routes - All the possible routes to go to.\r\n   * @return all routes in a container element.\r\n   */\r\n  const getAllFooterRoutes = (routes): ReactElement => {\r\n    // Split the routes in half to format links correctly\r\n    const half: number = Math.ceil(Object.keys(routes).length / 2);\r\n    const leftRoutes: string[][] = Object.entries(routes).slice(\r\n      0,\r\n      half,\r\n    ) as string[][];\r\n    const rightRoutes: string[][] = Object.entries(routes).slice(\r\n      half,\r\n    ) as string[][];\r\n\r\n    // Styles ---------------------------------------------------------\r\n    const leftRoutesStyle: SxStyleProp = {\r\n      ...textStyle,\r\n      textAlign: 'right',\r\n    };\r\n    const rightRoutesStyle: SxStyleProp = {\r\n      ...textStyle,\r\n    };\r\n    const routeContainerStyle: SxStyleProp = {\r\n      width: '100%',\r\n      margin: 'auto',\r\n    };\r\n    const leftListStyle: SxStyleProp = {listStyleType: 'none'};\r\n    const rightListStyle: SxStyleProp = {listStyleType: 'none', pl: 0};\r\n    //-----------------------------------------------------------------\r\n\r\n    return (\r\n      <div className=\"row\" sx={routeContainerStyle}>\r\n        <div className=\"col\">\r\n          <div sx={leftRoutesStyle}>\r\n            {/* first column of links goes here */}\r\n            <ul sx={leftListStyle}>{getRouteItems(leftRoutes)}</ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div sx={rightRoutesStyle}>\r\n            {/* second column of links goes here */}\r\n            <ul sx={rightListStyle}>{getRouteItems(rightRoutes)}</ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Convert a list of routes to a list of actual NavItem elements.\r\n   * @param routes - All the routes in this list of links.\r\n   * @returns a list of NavItem elements to the desired route.\r\n   */\r\n  const getRouteItems = (routes: string[][]): ReactElement[] => {\r\n    const navStyle: SxStyleProp = {\r\n      px: 0,\r\n      mx: 0,\r\n      py: 1,\r\n\r\n      display: 'inline',\r\n      '&:hover': {\r\n        color: theme.colors.primary,\r\n        textDecoration: 'none',\r\n      },\r\n    };\r\n\r\n    return routes.map((route) => {\r\n      return (\r\n        <li key={route[1]}>\r\n          <NavItem route={route[0]} text={route[1]} extraStyling={navStyle} />\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  // Return the footer code --\r\n  return (\r\n    // yes shari i know you hate bootstrap but im just using these\r\n    // names to name the divs. Kapeesh? Kapeesh.\r\n    <div sx={footerStyle}>\r\n      {/* top half of the footer */}\r\n      {getAllFooterRoutes(routes)}\r\n\r\n      {/* bottom half of the footer */}\r\n      <div className=\"row\" sx={bottomFooterStyle}>\r\n        <div className=\"col\" sx={socialMediaContainerStyle}>\r\n          {getSocialMedia(socialMediaList)}\r\n        </div>\r\n\r\n        {/* {//TODO: this doesn't scale that well down :/// */}\r\n        <div className=\"col\" sx={copyrightContainerStyle}>\r\n          <CopyrightItem textStyle={textStyle} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, {useEffect} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nexport const ScrollToTop = withRouter(() => {\r\n  useEffect(() => {\r\n    window.scroll({top: 0, behavior: 'smooth'});\r\n  });\r\n  return <React.Fragment />;\r\n});\r\n\r\nexport default ScrollToTop;\r\n","import React from 'react';\r\nimport {theme} from '../utils/theme';\r\n\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport interface ThreeDotsLoaderProps {\r\n  width?: number;\r\n  height?: number;\r\n  color?: string;\r\n}\r\n\r\n// yes shari a second file dedicated to three dot loaders\r\nexport const ThreeDotsLoader: React.FC<ThreeDotsLoaderProps> = ({\r\n  width,\r\n  height,\r\n  color,\r\n}) => {\r\n  return (\r\n    <Loader\r\n      type=\"ThreeDots\"\r\n      color={color ? color : theme.colors.secondary}\r\n      width={width}\r\n      height={height}\r\n    />\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {ThreeDotsLoader} from './ThreeDotsLoader';\r\n\r\nimport {theme} from '../utils/theme';\r\n\r\n// Interfaces --\r\nexport interface LoadingSquareProps {\r\n  loaderWidth?: number;\r\n  loaderHeight?: number;\r\n  loaderColor?: string;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\nexport interface LoadingScreenProps {\r\n  /** If this component is currently being mounted or being unmounted. */\r\n  isMounted: boolean;\r\n  /** How fast this component should unmount, in ms. */\r\n  unmountSpeed: number;\r\n}\r\n\r\n/**\r\n * Renders a loading square, designed to be a square placeholder for\r\n * images that have yet to be loaded.\r\n * @returns a square with a loader.\r\n */\r\nexport const LoadingSquare: React.FC<LoadingSquareProps> = ({\r\n  extraStyling,\r\n  loaderColor,\r\n  loaderWidth,\r\n  loaderHeight,\r\n}) => {\r\n  const loadingSquareStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: '100%',\r\n    backgroundColor: theme.colors.background.dark,\r\n\r\n    display: 'flex',\r\n    alignItems: ' center',\r\n    textAlign: 'center',\r\n\r\n    ...extraStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={loadingSquareStyle}>\r\n      <div sx={{display: 'inline', margin: 'auto'}}>\r\n        <ThreeDotsLoader\r\n          width={loaderWidth}\r\n          height={loaderHeight}\r\n          color={loaderColor ? loaderColor : theme.colors.text.light}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Renders a loading screen, intended for indicating that the site\r\n * content is still being fetched.\r\n */\r\nexport const LoadingScreen: React.FC<LoadingScreenProps> = ({\r\n  isMounted,\r\n  unmountSpeed,\r\n}) => {\r\n  const wrapperStyle: SxStyleProp = {\r\n    width: '100vw',\r\n    height: '100vh',\r\n\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  };\r\n  const titleTextStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: theme.fontSizes.heading.primary,\r\n    color: theme.colors.text.darkSlate,\r\n    margin: 'auto',\r\n  };\r\n  const topDivStyle: SxStyleProp = {\r\n    display: 'inline-block',\r\n    mb: 0,\r\n    mt: 'auto',\r\n  };\r\n  const bottomDivStyle: SxStyleProp = {\r\n    display: 'inline-block',\r\n    mt: 0,\r\n    mb: 'auto',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      sx={{\r\n        ...wrapperStyle,\r\n        transition: isMounted\r\n          ? 'none'\r\n          : 'opacity ' + (unmountSpeed / 1000).toString() + 's ease-in',\r\n        opacity: isMounted ? 1 : 0,\r\n      }}\r\n    >\r\n      <div sx={topDivStyle}>\r\n        <h1 sx={titleTextStyle}>Loading Site Content...</h1>\r\n      </div>\r\n\r\n      <div sx={bottomDivStyle}>\r\n        <ThreeDotsLoader />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import {createContext} from 'react';\r\nimport {\r\n  Event,\r\n  Member,\r\n  Recent,\r\n  UpcomingMiniEvents,\r\n  Club,\r\n  FAQ,\r\n  Photo,\r\n  CountDown,\r\n  AboutStuco,\r\n  ClubHighlight,\r\n} from './interfaces';\r\n\r\nexport interface IInfoContext {\r\n  events: Event[];\r\n  countdown: CountDown[];\r\n  members: Member[];\r\n  recents: Recent[];\r\n  upcomingMiniEvents: UpcomingMiniEvents[];\r\n  clubs: Club[];\r\n  faq: FAQ[];\r\n  gallery: Photo[];\r\n  aboutStuco: AboutStuco[];\r\n  clubHighlights: ClubHighlight[];\r\n}\r\n\r\nexport const InfoContext = createContext<IInfoContext>({\r\n  events: [],\r\n  countdown: [],\r\n  members: [],\r\n  recents: [],\r\n  upcomingMiniEvents: [],\r\n  clubs: [],\r\n  faq: [],\r\n  gallery: [],\r\n  aboutStuco: [],\r\n  clubHighlights: [],\r\n});\r\n","/** @jsx jsx */\r\nimport React, {useState, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\n\r\ninterface Props {\r\n  date: Date;\r\n}\r\n\r\ninterface FormattedTime {\r\n  days: number;\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n}\r\n\r\ninterface TimeUnitI {\r\n  number: number;\r\n  text: string;\r\n}\r\n\r\nexport const CountDownTimer: React.FC<Props> = ({date}) => {\r\n  const [timer, setTimer] = useState<number>();\r\n  const [formattedTime, setFormattedTime] = useState<FormattedTime>();\r\n\r\n  useEffect(() => {\r\n    if (!timer) {\r\n      setTimer(date.getTime() - new Date().getTime());\r\n      return;\r\n    }\r\n    setFormattedTime(getFormattedTime(timer));\r\n    window.setTimeout(() => {\r\n      setTimer(timer - 1000);\r\n    }, 1000);\r\n  }, [timer, date]);\r\n\r\n  const getFormattedTime = (timeInMilli: number) => {\r\n    const days = Math.floor(timeInMilli / (24 * 60 * 60 * 1000));\r\n    timeInMilli = timeInMilli % (24 * 60 * 60 * 1000);\r\n    const hours = Math.floor(timeInMilli / (60 * 60 * 1000));\r\n    timeInMilli = timeInMilli % (60 * 60 * 1000);\r\n    const minutes = Math.floor(timeInMilli / (60 * 1000));\r\n    timeInMilli = timeInMilli % (60 * 1000);\r\n    const seconds = Math.floor(timeInMilli / 1000);\r\n\r\n    return {\r\n      days: days,\r\n      hours: hours,\r\n      minutes: minutes,\r\n      seconds: seconds,\r\n    };\r\n  };\r\n\r\n  if (!formattedTime) {\r\n    return <div />;\r\n  }\r\n\r\n  const style: SxStyleProp = {\r\n    top: '40%',\r\n    left: '7%',\r\n    position: ['static', 'absolute'],\r\n    backgroundColor: ['transparent', theme.colors.background.accent],\r\n    color: theme.colors.text.light,\r\n    textAlign: 'center',\r\n    fontFamily: theme.fonts.time,\r\n    fontSize: 20,\r\n    '&:hover': {\r\n      textDecoration: 'none',\r\n      color: theme.colors.text.light,\r\n    },\r\n    px: 20,\r\n    py: [1, 2],\r\n\r\n    //mobile\r\n    display: ['flex', 'inline'],\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    order: 0,\r\n    mt: ['20%', 0],\r\n  };\r\n\r\n  const TimeUnit: React.FC<TimeUnitI> = ({number, text}) => {\r\n    const seconds = 'sec';\r\n    const numDigit = number < 100 ? 2 : 3;\r\n    const textSize = text === seconds ? 15 : 20;\r\n    const numSize = text === seconds ? 50 : 80;\r\n    return (\r\n      <span sx={{mx: 20}}>\r\n        <span sx={{fontSize: numSize}}>\r\n          {number.toString().padStart(numDigit, '0')}\r\n        </span>\r\n        <span sx={{fontSize: textSize}}>{text}</span>\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div sx={style}>\r\n      <TimeUnit number={formattedTime.days} text=\"days\" />\r\n      <TimeUnit number={formattedTime.hours} text=\"hrs\" />\r\n      <TimeUnit number={formattedTime.minutes} text=\"mins\" />\r\n      <TimeUnit number={formattedTime.seconds} text=\"sec\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountDownTimer;\r\n","/** @jsx jsx */\r\nimport React from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\n\r\nexport interface HeadingProps {\r\n  text: string;\r\n  alignment: 'left' | 'center';\r\n  underline?: boolean;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\n/**\r\n * A styled heading\r\n */\r\nexport const Heading: React.FC<HeadingProps> = ({\r\n  text,\r\n  alignment,\r\n  underline = true,\r\n  extraStyling,\r\n}) => {\r\n  const wrapperStyle: SxStyleProp = {\r\n    textAlign: alignment,\r\n  };\r\n\r\n  const textStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: theme.fontSizes.heading.primary,\r\n    color: theme.colors.primary,\r\n    fontWeight: 'normal',\r\n  };\r\n\r\n  const lineStyle: SxStyleProp = {\r\n    background: theme.colors.primary,\r\n    borderRadius: 10,\r\n    height: 7,\r\n    width: ['100%', '25%'],\r\n    margin: alignment === 'left' ? undefined : 'auto',\r\n  };\r\n\r\n  return (\r\n    <div sx={{...wrapperStyle, ...extraStyling}}>\r\n      <div sx={textStyle}>{text}</div>\r\n      {underline ? <div sx={lineStyle} /> : undefined}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Heading;\r\n","/** @jsx jsx */\r\nimport React, {useState, useRef, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\ninterface Props {\r\n  title: string | React.ReactElement;\r\n  titleStyle?: SxStyleProp;\r\n  childrenStyle?: SxStyleProp;\r\n  collapsed?: boolean;\r\n}\r\n\r\n/**\r\n * ok sift i'm writing comments now so stop judging my uncommented code >:((\r\n * @description\r\n * You can put any children inside Collapsable components and it will render them\r\n * in the collapsible list/tree format\r\n *\r\n * @example\r\n * <Collapsable title='hello'>\r\n *   You can have text\r\n *   <OrComponenents sx={withStyle} onClick={andFunctions}/>\r\n * </Collapsable>\r\n *\r\n * //title can be a component as well\r\n * const myTitle = <span><p>My twitter page</p><TwitterIcon/></span>;\r\n *\r\n * <Collapsable title={myTitle}>\r\n *   //children\r\n * </Collapsable>\r\n */\r\nexport const Collapsable: React.FC<Props> = ({\r\n  children,\r\n  title,\r\n  titleStyle,\r\n  collapsed = true,\r\n  childrenStyle,\r\n}) => {\r\n  const [childrenCollapsed, setChildrenCollapsed] = useState<boolean>(\r\n    collapsed,\r\n  );\r\n  const [childrenHeight, setChildrenHeight] = useState<number>(0);\r\n  // const [childWrapperWidth, setChildWrapperWidth] = useState<number>(0);\r\n  const childrenRef = useRef<HTMLDivElement>(null);\r\n  const childWrapperRef = useRef<HTMLDivElement>(null);\r\n  const prevHeight = useRef<number>(0);\r\n\r\n  useEffect(() => {\r\n\r\n    //if the children has children and they resize, normally it won't re-render\r\n    //which is why the oberserver is added\r\n    const ro = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        prevHeight.current = childrenHeight;\r\n        const {height} = entry.contentRect;\r\n        setChildrenHeight(height);\r\n      });\r\n    });\r\n    ro.observe(childrenRef.current);\r\n    // setChildWrapperWidth(childWrapperRef.current.getBoundingClientRect().width);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    textOverflow: 'ellipsis',\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'visible',\r\n    verticalAlign: 'middle',\r\n    color: theme.colors.text.light,\r\n    fill: theme.colors.text.light,\r\n    height: 'auto',\r\n    padding: '0.3em',\r\n    // width: ['auto', childWrapperWidth === 0 ? 'auto' : 'auto'],\r\n    width: 'auto',\r\n  };\r\n\r\n  /**\r\n   * gets height difference when resized\r\n   */\r\n  const getHeightDiff = () => {\r\n    const diff = Math.abs(childrenHeight - prevHeight.current);\r\n    if (diff === 0) return childrenHeight;\r\n    return diff;\r\n  };\r\n\r\n  const transitionTime = `${getHeightDiff() * 0.01}s`;\r\n\r\n  const childrenWrapperStyle: SxStyleProp = {\r\n    ml: '20%',\r\n    pr: 14,\r\n    borderLeftWidth: 2,\r\n    borderLeftColor: theme.colors.text.light,\r\n    borderLeftStyle: 'dashed',\r\n    overflowY: 'hidden',\r\n    height: childrenCollapsed ? 0 : childrenHeight,\r\n    transitionDuration: transitionTime,\r\n  };\r\n\r\n  const defaultTitleStyle: SxStyleProp = {\r\n    // borderBottomWidth: childrenCollapsed ? 0 : 1.5,\r\n    // transitionDuration: transitionTime,\r\n    // borderBottomColor: theme.colors.text.light,\r\n    // borderBottomStyle: 'dashed',\r\n    width: 'auto',\r\n\r\n    '&:hover': {\r\n      cursor: React.Children.count(children) > 0 ? 'pointer' : 'default',\r\n      color: [\r\n        theme.colors.text.light,\r\n        React.Children.count(children) > 0\r\n          ? theme.colors.footer\r\n          : theme.colors.text.light,\r\n      ],\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <span\r\n        sx={{...defaultTitleStyle, ...titleStyle}}\r\n        onClick={() => {\r\n          if (React.Children.count(children) === 0) return;\r\n          setChildrenCollapsed((childrenCollapsed) => !childrenCollapsed);\r\n        }}\r\n      >\r\n        {title}\r\n      </span>\r\n      <div\r\n        sx={{...childrenWrapperStyle, ...childrenStyle}}\r\n        ref={childWrapperRef}\r\n      >\r\n        <div ref={childrenRef} children={children} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Collapsable;\r\n","import {SxStyleProp} from 'theme-ui';\r\n\r\nexport const slideUp: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    transform: 'translateY(100%)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    transform: 'translateY(0)',\r\n  },\r\n};\r\n\r\nexport const slideBackDown: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    transform: 'translateY(0)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    transform: 'translateY(100%)',\r\n  },\r\n};\r\n\r\nexport const slideDown: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    transform: 'translateY(-100%)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    transform: 'translateY(0)',\r\n  },\r\n};\r\n\r\nexport const fadeIn: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n  },\r\n};\r\n\r\nexport const popIn: SxStyleProp = {\r\n  '0%': {\r\n    opacity: 0,\r\n    width: 0,\r\n    height: 0,\r\n    transform: 'translate3d(50%, 50%, 0)',\r\n  },\r\n  '100%': {\r\n    opacity: 1,\r\n    width: '100%',\r\n    height: '100%',\r\n    transform: 'translate3d(0, 0, 0)',\r\n  },\r\n};","export interface rgbItem {\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n  a?: number;\r\n}\r\n\r\n// yes shari i need these jsdocs for the function tooltips\r\n/**\r\n * Cpmverts a hex string into an rgb object. Only works with\r\n * RRGGBB hexadecimals.\r\n * @param hex - the 6 byte hex string to convert to rgb.\r\n * @return an obhect with the r, g, b properties, according to\r\n * the hex string.\r\n */\r\nexport const hexToRgb = (hex: string): rgbItem => {\r\n  // Eliminate any non-hex things\r\n  hex = hex.replace(/[^0-9A-F]/gi, '');\r\n\r\n  // Convert to a 6 byte num that we'll fiddle with\r\n  let hexNum: number = parseInt(hex, 16);\r\n\r\n  // Using bitwise operations to parse RGB value by bitwise shifting\r\n  // to the correct colour byte group, and bitwise anding it with 255 to\r\n  // get the correct rgb value.\r\n  // using: https://stackoverflow.com/a/11508164\r\n  return {\r\n    r: (hexNum >> 16) & 255,\r\n    g: (hexNum >> 8) & 255,\r\n    b: hexNum & 255,\r\n  };\r\n};\r\n\r\n/**\r\n * Converts an RRGGBB hex string with a specified alpha into an rgba object.\r\n * @param hex - the 6 byte hex string without an alpha part\r\n * @param alpha - the desired alpha value, between 0.0 - 1.0\r\n * @returns an object with the r, g, b, and a properties/\r\n */\r\nexport const hexToRgba = (hex: string, alpha: number): rgbItem => {\r\n  return {\r\n    ...hexToRgb(hex),\r\n    a: alpha,\r\n  };\r\n};\r\n\r\n/**\r\n * Gets a formatted url of an image with proper resizing based\r\n * on the width and height input. The API used scales the original\r\n * aspect ratio of the image until one of the dimensions are met.\r\n * @param imageId - the image's id in the gallery folder.\r\n * @param width - an integer with the object's desired width.\r\n * @param height - an integer with the object's desired height.\r\n * @returns a formatted URL to the image with proper dimensions.\r\n */\r\nexport const getImageUrl = (\r\n  imageId: string,\r\n  width: number,\r\n  height: number,\r\n): string => {\r\n  return `https://drive.google.com/thumbnail?id=${imageId}&sz=w${Math.round(\r\n    width,\r\n  )}-h${Math.round(height)}`;\r\n};\r\n\r\n/**\r\n * Takes an array and splits it into n arrays.\r\n * @template T - the type in the array.\r\n * @param arr - the array to be split.\r\n * @param n - the amount of sub arrays desired.\r\n * @returns an array containing the subarrays.\r\n */\r\nexport function splitArray<T>(arr: T[], n: number): T[][] {\r\n  const array: T[] = arr.slice(); // so we don't destroy the original\r\n  const result: T[][] = [];\r\n  while (array.length > 0) {\r\n    /*W\r\n    e can keep splicing away sections of array.length / n and keep\r\n    subtracting n by 1 to get n equal sized subarrays. Why? Cause MATH\r\n    */\r\n    result.push(array.splice(0, Math.ceil(array.length / n--)));\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport const randNum = (min: number, max: number) =>\r\n  Math.round((Math.random() * (max - min) + min) * 100) / 100;\r\n\r\nexport const randInt = (min: number, max: number) =>\r\n  Math.floor(randNum(min, max));\r\n\r\nexport const bruteForceClearInterval = () => {\r\n  const highestId = window.setTimeout(() => {\r\n    for (let i = highestId; i >= 0; i--) {\r\n      window.clearInterval(i);\r\n    }\r\n  }, 0);\r\n};\r\n\r\n\r\nexport const hexToRgbArr = (hex) => {\r\n  if (hex[0] === '#') hex = hex.slice(1);\r\n  const rgb = [\r\n    parseInt(hex.slice(0, 2), 16),\r\n    parseInt(hex.slice(2, 4), 16),\r\n    parseInt(hex.slice(4, 6), 16),\r\n  ];\r\n  return rgb;\r\n};\r\n\r\n\r\n/**\r\n * Stops users from scrolling the main body page, and saves the\r\n * original scroll location. Great for overlays.\r\n * @param topPos - The current window's scroll from the top.\r\n */\r\nexport const disallowScrolling = (topPos: number) => {\r\n  document.body.style.position = 'fixed';\r\n  document.body.style.overflowY = 'hidden';\r\n  document.body.style.top = `-${topPos}px`;\r\n};\r\n\r\n/**\r\n * Allows users to scroll the main body page again, from their last\r\n * saved window scroll position.\r\n */\r\nexport const allowScrolling = () => {\r\n  const topY = document.body.style.top;\r\n\r\n  document.body.style.position = '';\r\n  document.body.style.top = 'auto';\r\n  document.body.style.overflowY = 'initial';\r\n\r\n  // return to saved position, or top if it doesn't exist\r\n  window.scrollTo(0, -parseInt(topY || '0'));\r\n};\r\n\r\n/**\r\n * Detects and returns a user's swipe direction, or if it was pressed.\r\n * @param oldPos - The starting position of the user's tap.\r\n * @param newPos - The position where the user last held their finger.\r\n * @returns a string with either the user's swipe direction or if they\r\n * simply pressed instead.\r\n */\r\nexport const detectSwipeDirection = (\r\n  oldPos: {x: number; y: number},\r\n  newPos: {x: number; y: number},\r\n): 'left' | 'right' | 'up' | 'down' | 'press' => {\r\n  const xDiff = oldPos.x - newPos.x;\r\n  const yDiff = oldPos.y - newPos.y;\r\n\r\n  // checking for pressing\r\n  if (xDiff > -15 && xDiff < 15 && yDiff > -15 && yDiff < 15) {\r\n    return 'press';\r\n  }\r\n  // find which difference is most significant\r\n  if (Math.abs(xDiff) > Math.abs(yDiff)) {\r\n    if (xDiff > 0) {\r\n      return 'left';\r\n    } else {\r\n      return 'right';\r\n    }\r\n  } else {\r\n    if (yDiff > 0) {\r\n      return 'up';\r\n    } else {\r\n      return 'down';\r\n    }\r\n  }\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport {slideUp, slideBackDown, fadeIn} from '../utils/animation';\r\nimport {bruteForceClearInterval} from '../utils/functions';\r\n\r\nexport interface Photo {\r\n  url: string;\r\n  description: string;\r\n}\r\n\r\ninterface Props {\r\n  photos: Photo[];\r\n  photoDimension: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n}\r\n\r\ninterface CenterPhotoProps {\r\n  url: string;\r\n  description: string;\r\n  photoDimension: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n  lockImage: () => void;\r\n  unlockImage: () => void;\r\n}\r\n\r\ninterface GrayImageProps {\r\n  url: string;\r\n  photoDimension: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n  onClick: () => void;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\n/**\r\n * The grayed out photos behind the main photo.\r\n */\r\nconst GrayImage: React.FC<GrayImageProps> = ({\r\n  url,\r\n  photoDimension,\r\n  onClick,\r\n  extraStyling,\r\n}) => {\r\n  //scaled in relation to the main photo in the middle\r\n  const scale = 0.8;\r\n  const style: SxStyleProp = {\r\n    width: photoDimension.width * scale,\r\n    height: photoDimension.height * scale,\r\n    objectFit: 'cover',\r\n  };\r\n\r\n  const overlay: SxStyleProp = {\r\n    backgroundColor: theme.colors.imageGrayOverlay,\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: 0,\r\n  };\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    display: 'inline-block',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n    top: '50%',\r\n    transform: 'translate(0, -50%)',\r\n    ...extraStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle} onClick={onClick}>\r\n      <img sx={style} src={url} />\r\n      <div sx={overlay} />\r\n    </div>\r\n  );\r\n};\r\n\r\n//=====================================================\r\n\r\n/**\r\n * The main photo in the middle\r\n */\r\nconst CenterImage: React.FC<CenterPhotoProps> = ({\r\n  url,\r\n  description,\r\n  photoDimension,\r\n  lockImage,\r\n  unlockImage,\r\n}) => {\r\n  const [wrapperWidth, setWrapperWidth] = useState<number>(null);\r\n  const wrapperRef = useRef<HTMLImageElement>(null);\r\n\r\n  useEffect(() => {\r\n    setWrapperWidth(wrapperRef.current.getBoundingClientRect().width);\r\n  }, []);\r\n\r\n  const popupScale = 1.3;\r\n  const wrapperStyle: SxStyleProp = {\r\n    boxShadow: '1vw 1vh .7em gray',\r\n    display: 'inline-block',\r\n    position: 'relative',\r\n    mx: 'auto',\r\n    zIndex: 2,\r\n    overflow: 'hidden',\r\n    '&:hover div': {\r\n      animation: 'slideUp .5s ease-out',\r\n      transform: 'translateY(0)',\r\n    },\r\n    '&:hover img': {\r\n      width: [wrapperWidth, photoDimension.width * popupScale],\r\n      height: [photoDimension.height * popupScale],\r\n      transitionDuration: '.5s',\r\n    },\r\n    backgroundColor: 'transparent',\r\n    transitionDuration: '.5s',\r\n    '@keyframes fadeIn': fadeIn,\r\n    '@keyframes slideUp': slideUp,\r\n    '@keyframes slideBackDown': slideBackDown,\r\n  };\r\n\r\n  const descriptionStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.imageOverlayForText,\r\n    padding: 20,\r\n    py: '10%',\r\n    fontSize: theme.fontSizes.bodySmall,\r\n    fontFamily: theme.fonts.body,\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    width: '100%',\r\n    textAlign: 'start',\r\n    transform: 'translateY(100%)',\r\n    animation: 'slideBackDown .3s ease-out',\r\n  };\r\n\r\n  const imageStyle: SxStyleProp = {\r\n    objectFit: 'cover',\r\n    width: photoDimension.width,\r\n    height: photoDimension.height,\r\n    animationFillMode: 'forwards',\r\n    animationName: 'fadeIn',\r\n    animationDuration: '1s',\r\n    animationTimingFunction: 'linear',\r\n    transitionDuration: '.3s',\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* sketchy code just to get the width */}\r\n      <div ref={wrapperRef} sx={{width: '100%', position: 'absolute'}}/>\r\n      <div\r\n        sx={wrapperStyle}\r\n        onMouseEnter={lockImage}\r\n        onMouseLeave={unlockImage}\r\n        onFocus={lockImage}\r\n        \r\n      >\r\n        <img src={url} sx={imageStyle} key={url} />\r\n        <div sx={descriptionStyle}>{description}</div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\n//=====================================================\r\n\r\n/**\r\n * In case someone wants to reuse this\r\n *\r\n * @description\r\n * A basic photo slide deck that includes one main photo,\r\n *  and two grayed out photos at the sides.\r\n * You can hover over the main photo, it locks the image in place from rotation,\r\n * and the description of the image pops up\r\n *\r\n * @example\r\n *\r\n * const photos = [{\r\n *   url: 'https://img.example.com',\r\n *   description: 'sample image',\r\n * }];\r\n *\r\n * const photoDimension = {\r\n *   width: 100,\r\n *   height: 100,\r\n * };\r\n * <PhotoSlideDeck photos={photos} photoDimension={photoDimension}/>\r\n *\r\n */\r\nexport const PhotoSlideDeck: React.FC<Props> = ({photos, photoDimension}) => {\r\n  const [curPhoto, setCurPhoto] = useState<number>(0);\r\n  const [timerId, setTimerId] = useState<number>();\r\n\r\n  const interval = 3000;\r\n  const intervalAfterLock = interval / 3;\r\n  useEffect(() => {\r\n    startRotation();\r\n    return bruteForceClearInterval;\r\n  }, []);\r\n\r\n  const getPrevIdx = (curIdx: number) => {\r\n    let newIdx = curIdx - 1;\r\n    if (newIdx < 0) newIdx = photos.length - 1;\r\n    return newIdx;\r\n  };\r\n\r\n  const getNextIdx = (curIdx: number) => {\r\n    let newIdx = (curIdx + 1) % photos.length;\r\n    return newIdx;\r\n  };\r\n\r\n  const lockImage = () => {\r\n    window.clearInterval(timerId);\r\n    // bruteForceClearInterval();\r\n  };\r\n\r\n  /**\r\n   * Start the rotation of photos and set the rotating interval\r\n   */\r\n  const startRotation = () => {\r\n    const id = window.setInterval(() => {\r\n      setCurPhoto(getNextIdx);\r\n    }, interval);\r\n    setTimerId((oldId) => {\r\n      window.clearInterval(oldId);\r\n      return id;\r\n    });\r\n    // bruteForceClearInterval();\r\n  };\r\n\r\n  const unlockImage = () => {\r\n    window.setTimeout(() => {\r\n      setCurPhoto(getNextIdx);\r\n      startRotation();\r\n    }, intervalAfterLock);\r\n  };\r\n\r\n  const resetTimer = () => {\r\n    window.clearInterval(timerId);\r\n    // bruteForceClearInterval();\r\n    startRotation();\r\n  };\r\n\r\n  const style: SxStyleProp = {\r\n    textAlign: 'center',\r\n    mt: '5%',\r\n    display: 'flex',\r\n    position: 'relative',\r\n  };\r\n\r\n  return (\r\n    <div sx={style}>\r\n      <GrayImage\r\n        url={photos[getPrevIdx(curPhoto)].url}\r\n        photoDimension={photoDimension}\r\n        onClick={() => {\r\n          setCurPhoto(getPrevIdx);\r\n          resetTimer();\r\n        }}\r\n        extraStyling={{left: 0}}\r\n      />\r\n      <CenterImage\r\n        url={photos[curPhoto].url}\r\n        description={photos[curPhoto].description}\r\n        photoDimension={photoDimension}\r\n        lockImage={lockImage}\r\n        unlockImage={unlockImage}\r\n      />\r\n      <GrayImage\r\n        url={photos[getNextIdx(curPhoto)].url}\r\n        photoDimension={photoDimension}\r\n        onClick={() => {\r\n          setCurPhoto(getNextIdx);\r\n          resetTimer();\r\n        }}\r\n        extraStyling={{right: 0}}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoSlideDeck;\r\n","/**@jsx jsx */\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from './theme';\r\n\r\nexport class RandomDot {\r\n  private size: number;\r\n  private left: number;\r\n  private top: number;\r\n  \r\n  constructor(x: number, y: number, width: number, height: number) {\r\n    this.size = Math.random()*9;\r\n    this.left = Math.random()*width+x;\r\n    this.top = Math.random()*height+y;\r\n  }\r\n  \r\n  public getComponent = () => {\r\n    const dotStyle: SxStyleProp = {\r\n      backgroundColor: theme.colors.yellow,\r\n      borderRadius: 10,\r\n      width: this.size,\r\n      height: this.size,\r\n      left: this.left,\r\n      top: this.top,\r\n      position: 'absolute',\r\n    };\r\n    return <div sx={dotStyle}/>\r\n  };\r\n}","/** @jsx jsx */\r\nimport React, {useContext, useState, useRef, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {Link} from 'react-router-dom';\r\nimport {MdControlPoint} from 'react-icons/md';\r\nimport {GiClick} from 'react-icons/gi';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport {theme, FIRST_BREAKPOINT} from '../utils/theme';\r\nimport {InfoContext, IInfoContext} from '../utils/contexts';\r\nimport {CountDownTimer} from '../components/CountDownTimer';\r\nimport {Heading} from '../components/Heading';\r\nimport {Collapsable} from '../components/Collapsable';\r\nimport {PhotoSlideDeck, Photo} from '../components/PhotoSlideDeck';\r\nimport {getImageUrl, hexToRgbArr} from '../utils/functions';\r\nimport {RandomDot} from '../utils/RandomDot';\r\n\r\n/**\r\n * The home screen, big parallax background plus the timer\r\n */\r\nconst Main: React.FC = () => {\r\n  const countdownEvent = useContext<IInfoContext>(InfoContext).countdown[0];\r\n\r\n  if (!countdownEvent) {\r\n    return <div />;\r\n  }\r\n\r\n  // const bgTint = \r\n\r\n  const style: SxStyleProp = {\r\n    width: '100%',\r\n    height: '100vh',\r\n    backgroundSize: 'cover',\r\n    backgroundImage:\r\n      `linear-gradient(rgba(${hexToRgbArr(theme.colors.navbar)}, 0.8),`\r\n      + `rgba(${hexToRgbArr(theme.colors.navbar)}, 0.4)),`\r\n      + `url(\"./assets/home-background.png\") `,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  };\r\n\r\n  const buttonStyle: SxStyleProp = {\r\n    top: '62%',\r\n    left: '7%',\r\n    width: 'fit-content',\r\n    mx: 'auto',\r\n    mt: '1em',\r\n    position: ['static', 'absolute'],\r\n    backgroundColor: ['transparent', theme.colors.background.accent],\r\n    color: theme.colors.text.light,\r\n    textAlign: 'center',\r\n    fontFamily: theme.fonts.time,\r\n    fontSize: [20, 30],\r\n    '&:hover': {\r\n      textDecoration: 'none',\r\n      color: theme.colors.text.light,\r\n    },\r\n    fontVariantCaps: 'titling-caps',\r\n    px: 4,\r\n    order: 1,\r\n\r\n    //mobile\r\n    borderColor: theme.colors.background.accent,\r\n    borderWidth: 1,\r\n    borderStyle: 'solid',\r\n    \r\n  };\r\n\r\n  return (\r\n    <div sx={style}>\r\n      <CountDownTimer date={new Date(countdownEvent.date)} />\r\n      <Link to=\"events\" sx={buttonStyle}>\r\n        <div sx={{my: 2}}>{countdownEvent.eventName.toUpperCase()}</div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\n//=============================================================\r\n\r\n/**\r\n * The green board that has dots in the background\r\n * sketchiest code\r\n */\r\nconst BackgroundWithDots: React.FC = (props) => {\r\n  const [randomDots, setRandomDots] = useState<RandomDot[]>([]);\r\n  const [numDots, setNumDots] = useState<number>(null);\r\n\r\n  //for getting the width\r\n  const componentRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    //used to re-render the dots upon resizing, because it may be a long list\r\n    const ro = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        const height = entry.contentRect.height;\r\n        generateRandomDots(height);\r\n      });\r\n    });\r\n    ro.observe(componentRef.current);\r\n    return () => ro.disconnect();\r\n  }, [randomDots]);\r\n\r\n  /**\r\n   * Gets random dots for the background at\r\n   * *x ∈ [0, 1/3(width)] ∪ [2/3(width), width], y ∈ [0, height]*\r\n   */\r\n  const generateRandomDots = (height: number) => {\r\n    const width = componentRef.current.getBoundingClientRect().width;\r\n    const dotsPerSideHeightInterval = 40;\r\n    setNumDots((height / dotsPerSideHeightInterval) * 2);\r\n    const numNewDots =\r\n      height / dotsPerSideHeightInterval - randomDots.length / 2;\r\n\r\n    for (let i = 0; i < numNewDots; i++) {\r\n      setRandomDots((oldArr) => {\r\n        const clone = [...oldArr];\r\n        clone.push(\r\n          new RandomDot(\r\n            width - width / 3,\r\n            height / 20,\r\n            width / 3,\r\n            height - height / 10,\r\n          ),\r\n        );\r\n        clone.push(\r\n          new RandomDot(0, height / 20, width / 3, height - height / 10),\r\n        );\r\n        return clone;\r\n      });\r\n    }\r\n  };\r\n\r\n  const style: SxStyleProp = {\r\n    backgroundColor: theme.colors.secondary,\r\n    borderRadius: 30,\r\n    mt: 30,\r\n    position: 'relative',\r\n    pb: 60,\r\n    pt: 20,\r\n    display: 'flex',\r\n  };\r\n\r\n\r\n  return (\r\n    <div sx={style} ref={componentRef}>\r\n      {window.innerWidth > FIRST_BREAKPOINT \r\n        ? randomDots.map((dot) => dot.getComponent()).slice(0, numDots)\r\n        : undefined\r\n      }\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\n//=============================================================\r\n\r\nconst UpcomingBoard: React.FC = () => {\r\n  const {upcomingMiniEvents} = useContext<IInfoContext>(InfoContext);\r\n\r\n  const style: SxStyleProp = {\r\n    pt: theme.bodyPadding.pt,\r\n    pb: theme.bodyPadding.pb,\r\n    px: theme.bodyPadding.px,\r\n  };\r\n\r\n  /**\r\n   * Gets the collapsable list for all upcoming events\r\n   */\r\n  const getEventsList = () => {\r\n    const style: SxStyleProp = {\r\n      fontSize: theme.fontSizes.bodyBig,\r\n      fontFamily: theme.fonts.body,\r\n    };\r\n\r\n    const descriptionStyle: SxStyleProp = {\r\n      textAlign: 'left',\r\n      pl: '1em',\r\n      fontSize: theme.fontSizes.body.map(n => n+2),\r\n      py: '0.5em',\r\n    };\r\n\r\n    return upcomingMiniEvents.map((event) => {\r\n      const iconStyle: SxStyleProp = {\r\n        color: theme.colors.footer,\r\n        ml: '0.5em',\r\n        // '&:hover': {\r\n        //   color: theme.colors.footer,\r\n        // },\r\n      };\r\n\r\n      const linkStyle: SxStyleProp = {\r\n        color: theme.colors.text.light,\r\n        '&:hover': {\r\n          textDecoration: 'none',\r\n          color: theme.colors.footer,\r\n        },\r\n      };\r\n\r\n      const title = (\r\n        <React.Fragment>\r\n          <MdControlPoint sx={{mr: '1em'}} />\r\n          {event.link ? (\r\n            <a href={event.link} sx={linkStyle}>\r\n              {event.name}\r\n              {/* <GiClick sx={iconStyle} /> */}\r\n            </a>\r\n          ) : event.name}\r\n        </React.Fragment>\r\n      );\r\n\r\n      if (!event.description)\r\n        return <Collapsable title={title} titleStyle={style} />;\r\n      return (\r\n        <Collapsable title={title} titleStyle={style} childrenStyle={{ml: ['20%', '15em']}}>\r\n          <div sx={descriptionStyle}>{event.description}</div>\r\n        </Collapsable>\r\n      );\r\n    });\r\n  };\r\n\r\n  /**\r\n   * The placeholder value for if there are no upcoming events\r\n   */\r\n  const getPlaceHolder = () => {\r\n    const style: SxStyleProp = {\r\n      fontSize: theme.fontSizes.bodyBig,\r\n      textAlign: 'center',\r\n      color: theme.colors.text.light,\r\n      py: 5,\r\n    };\r\n\r\n    return <div sx={style}>Nothing Yet!</div>;\r\n  };\r\n\r\n  const eventListWrapper: SxStyleProp = {\r\n    margin: 'auto',\r\n  };\r\n\r\n  if (!upcomingMiniEvents) {\r\n    return <div />;\r\n  }\r\n\r\n  return (\r\n    <div sx={style}>\r\n      <Heading alignment=\"center\" text=\"Upcoming\" />\r\n      <BackgroundWithDots>\r\n        {upcomingMiniEvents.length > 0 ? (\r\n          <div sx={eventListWrapper}>{getEventsList()}</div>\r\n        ) : (\r\n          getPlaceHolder()\r\n        )}\r\n      </BackgroundWithDots>\r\n    </div>\r\n  );\r\n};\r\n\r\n//=============================================================\r\n\r\n/**\r\n * The recents gallery\r\n */\r\nconst Recent: React.FC = () => {\r\n  const {recents} = useContext<IInfoContext>(InfoContext);\r\n  const [width, setWidth] = useState<number>(0);\r\n  const thisComponentRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!thisComponentRef.current) return;\r\n    setWidth(thisComponentRef.current.getBoundingClientRect().width);\r\n  }, []);\r\n\r\n  if (!recents) {\r\n    return <div></div>;\r\n  }\r\n\r\n  const style: SxStyleProp = {\r\n    backgroundColor: theme.colors.background.overlay,\r\n    px: theme.bodyPadding.px,\r\n    pt: theme.bodyPadding.pt,\r\n    pb: theme.bodyPadding.pb,\r\n  };\r\n\r\n  //scale in relation to viewport width\r\n  const scale = width > FIRST_BREAKPOINT ? 0.38 : 0.75;\r\n\r\n  const photos: Photo[] = recents.map((event) => {\r\n    return {\r\n      url: getImageUrl(event.photoId, Math.round(width / scale), 1000),\r\n      description: event.description,\r\n    };\r\n  });\r\n\r\n  //target photo dimension\r\n  //photos are 1.5:1 aspect ratio\r\n  const photoDimension = {\r\n    width: width * scale,\r\n    height: width * scale / 1.5,\r\n  };\r\n\r\n  const line: SxStyleProp = {\r\n    backgroundColor: theme.colors.primary,\r\n    height: '0.2em',\r\n    width: ['80%', '20%'],\r\n    borderRadius: 3,\r\n    mt: ['1em', '1.5em'],\r\n    mx: 'auto',\r\n  };\r\n  return (\r\n    <div sx={style} ref={thisComponentRef}>\r\n      <Heading text=\"Recents\" alignment=\"center\" />\r\n      <PhotoSlideDeck photos={photos} photoDimension={photoDimension} />\r\n      <div sx={line} />\r\n    </div>\r\n  );\r\n};\r\n\r\n//=============================================================\r\n\r\nexport const Home: React.FC = () => {\r\n  return (\r\n    <div>\r\n      <Main />\r\n      <UpcomingBoard />\r\n      <Recent />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","/** @jsx jsx */\r\nimport React, {ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport {hexToRgba, rgbItem} from '../utils/functions';\r\n\r\nexport interface TransRectProps {\r\n  lengthX: string | number; //string for '2em', etc\r\n  lengthY?: string | number;\r\n  minLengthY?: string | number; // if you need the rect to expand but have a min\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\n// Default background colour for IE kids (ie no one)\r\nconst backRgba: rgbItem = hexToRgba(\r\n  theme.colors.secondary,\r\n  0.5,\r\n);\r\n\r\nexport const TranslucentRectangle: React.FC<TransRectProps> = ({\r\n  lengthX,\r\n  lengthY,\r\n  minLengthY,\r\n  extraStyling,\r\n  children,\r\n}): ReactElement => {\r\n  const rectStyle: SxStyleProp = {\r\n    width: lengthX,\r\n    height: lengthY,\r\n    minHeight: minLengthY,\r\n    // So IE doesnt kill itself when trying to load\r\n    backgroundColor: backRgba.hasOwnProperty('a')\r\n      ? `rgba(${backRgba.r}, ${backRgba.b}, ${backRgba.g}, ${backRgba.a})`\r\n      : `rgba(backRgba.r, backRgba.b, backRgba.g)`,\r\n    // If you want HEX RRGGBBAA put it in extraStyling\r\n    ...extraStyling,\r\n  };\r\n\r\n  return <div sx={rectStyle}>{children}</div>;\r\n};\r\n","/** @jsx jsx */\r\nimport React, {\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useRef,\r\n  ReactElement,\r\n} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {Heading} from '../components/Heading';\r\nimport {TranslucentRectangle} from '../components/TranslucentRectangle';\r\nimport {LoadingSquare} from '../components/LoaderComponents';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {IInfoContext, InfoContext} from '../utils/contexts';\r\nimport {Event} from '../utils/interfaces';\r\nimport {getImageUrl} from '../utils/functions';\r\n\r\n// Interfaces --\r\ninterface EventItemProps {\r\n  height: string;\r\n  width: string;\r\n  event: Event;\r\n  textLocation: 'left' | 'right';\r\n  rectStyling?: SxStyleProp;\r\n}\r\n\r\ninterface EventHeadingProps {\r\n  text: string;\r\n  textLocation: 'left' | 'right';\r\n  extraHeaderStyling?: SxStyleProp;\r\n  extraTextStyling?: SxStyleProp;\r\n}\r\n\r\ninterface EventPhotoProps {\r\n  photoID: string;\r\n  width: string;\r\n  height: number;\r\n  photoLocation: string;\r\n}\r\n\r\ninterface EventInfoItemProps {\r\n  width: string;\r\n  startHeight: string;\r\n  textLocation: 'left' | 'right';\r\n  eventDetails: EventDetails;\r\n}\r\n\r\ninterface EventButtonProps {\r\n  buttonText: string;\r\n  buttonLink: string;\r\n  extraButtonStyling?: SxStyleProp;\r\n}\r\n\r\nexport interface EventDetails {\r\n  description: string;\r\n  buttonText?: string;\r\n  buttonLink?: string;\r\n}\r\n\r\n// ============================================================\r\n// EventHeading -- for the main header containing the event name.\r\nconst EventHeading: React.FC<EventHeadingProps> = ({\r\n  text,\r\n  textLocation,\r\n  extraHeaderStyling,\r\n  extraTextStyling,\r\n}) => {\r\n  const wrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    my: '3%',\r\n    py: '1%',\r\n    width: ['95%', '90%', '80%'],\r\n    height: 'auto',\r\n\r\n    // position this based on text location\r\n    ml: textLocation === 'left' ? 'auto' : 0,\r\n    mr: textLocation === 'right' ? 'auto' : 0,\r\n    pr: textLocation === 'right' ? '2em' : 0,\r\n    pl: textLocation === 'left' ? '2em' : 0,\r\n    zIndex: 3,\r\n\r\n    textAlign: textLocation,\r\n\r\n    backgroundColor: theme.colors.primary,\r\n\r\n    ...extraHeaderStyling,\r\n  };\r\n  const titleTextStyle: SxStyleProp = {\r\n    display: 'inline',\r\n    position: 'relative',\r\n    fontSize: theme.fontSizes.heading.event,\r\n    fontFamily: theme.fonts.body,\r\n    color: theme.colors.text.light,\r\n\r\n    margin: 'auto',\r\n\r\n    ...extraTextStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <p sx={titleTextStyle}>{text}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// EventPhoto -- for the main img that shows up for the event.\r\n// TODO: consistent resizing?\r\nconst EventPhoto: React.FC<EventPhotoProps> = ({\r\n  photoID,\r\n  width,\r\n  height,\r\n  photoLocation,\r\n}) => {\r\n  const [imgWidth, setImgWidth] = useState<number>(0);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const imageRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Get the width of the div that contains the image, so that we can\r\n  // size the image properly.\r\n  useEffect(() => {\r\n    if (!imageRef.current) return;\r\n\r\n    setImgWidth(Math.round(imageRef.current.getBoundingClientRect().width));\r\n  }, [imageRef]);\r\n\r\n  // Styles --\r\n  const wrapperStyle: SxStyleProp = {\r\n    // The wrapper that holds both the image and the rect for now\r\n\r\n    position: 'absolute',\r\n    top: '5%',\r\n    right: photoLocation === 'right' ? 0 : 'auto',\r\n    left: photoLocation === 'left' ? 0 : 'auto',\r\n\r\n    width: width,\r\n    maxWidth: width,\r\n    height: height,\r\n    maxHeight: '100%', // make sure the image doesn't break the page\r\n\r\n    zIndex: 5, // draw over the title\r\n\r\n    transition: 'transform .2s, .5s ease',\r\n    '&:hover': {\r\n      transform: 'scale(1.025)',\r\n      opacity: 0.95,\r\n    },\r\n  };\r\n  const imageStyle: SxStyleProp = {\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    height: '100%',\r\n  };\r\n  const rectStyling: SxStyleProp = {\r\n    // For extra styling of the TransparentRectangle\r\n\r\n    position: 'absolute',\r\n    backgroundColor: theme.colors.navbar + '66',\r\n    maxHeight: '100%', // make sure the image doesn't break the page\r\n    width: '100%',\r\n    zIndex: 2,\r\n\r\n    top: '3%',\r\n    right: photoLocation === 'right' ? '3%' : 'auto',\r\n    left: photoLocation === 'left' ? '3%' : 'auto',\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Handles image loading and sets loading state to false.\r\n   */\r\n  const handleLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  /**\r\n   * Determines whether to render a LoadingSquare or not.\r\n   * @returns either a loading square or nothing.\r\n   */\r\n  const displayLoadingSquare = (): ReactElement | void => {\r\n    if (loading) {\r\n      return <LoadingSquare />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    // yes shari i know that the header isnt exactly right but\r\n    // ill fix that later i guess :)\r\n    <div sx={wrapperStyle} ref={imageRef}>\r\n      {displayLoadingSquare()}\r\n      <img\r\n        src={getImageUrl(photoID, 5000, height)}\r\n        alt=\"\"\r\n        sx={imageStyle}\r\n        onLoad={handleLoading}\r\n      />\r\n      <TranslucentRectangle\r\n        lengthX={imgWidth}\r\n        lengthY={height}\r\n        extraStyling={rectStyling}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// EventButton -- for any buttons that are needed for the event element.\r\nconst EventButton: React.FC<EventButtonProps> = ({\r\n  buttonText,\r\n  buttonLink,\r\n  extraButtonStyling,\r\n}) => {\r\n  // Assumes button text and button link is valid\r\n  const wrapperStyle: SxStyleProp = {\r\n    display: 'inline-block',\r\n    backgroundColor: theme.colors.primary,\r\n\r\n    textAlign: 'center',\r\n\r\n    px: '2%',\r\n    py: '1%',\r\n    mx: '5%',\r\n    mt: '2%',\r\n    mb: '0.5%',\r\n\r\n    transition: 'transform .2s, .5s ease',\r\n    '&:hover': {\r\n      transform: 'scale(1.025)',\r\n      cursor: 'pointer',\r\n    },\r\n\r\n    ...extraButtonStyling,\r\n  };\r\n  const buttonStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.body,\r\n    whiteSpace: 'nowrap',\r\n\r\n    '&:hover': {\r\n      color: theme.colors.text.light,\r\n      textDecoration: 'none',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <a href={buttonLink} sx={buttonStyle}>\r\n        {buttonText}\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// EventInfoItem -- for the description and button\r\nconst EventInfoItem: React.FC<EventInfoItemProps> = ({\r\n  width,\r\n  startHeight,\r\n  textLocation,\r\n  eventDetails,\r\n}) => {\r\n  // Styles for the buttons\r\n  const textWrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n\r\n    width: width,\r\n    maxWidth: width,\r\n    top: startHeight,\r\n\r\n    // Draw based on orientation\r\n    ml: textLocation === 'left' ? 0 : 'auto',\r\n    mr: textLocation === 'right' ? 0 : 'auto',\r\n    textAlign: textLocation === 'right' ? 'left' : 'right',\r\n  };\r\n  const descriptionStyle: SxStyleProp = {\r\n    position: 'relative',\r\n\r\n    display: 'inline-block',\r\n    px: '5%',\r\n\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.event,\r\n    color: theme.colors.text.darkGray,\r\n\r\n    wordWrap: 'normal',\r\n    lineHeight: 1.6,\r\n  };\r\n  const buttonContainerStyle: SxStyleProp = {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: textLocation === 'right' ? 'flex-start' : 'flex-end',\r\n  };\r\n\r\n  /**\r\n   * Checks to see if a button should be rendered in the first place,\r\n   * based on presence of button text or not.\r\n   * @returns either an empty element or a button.\r\n   */\r\n  const renderButton = (): ReactElement => {\r\n    if (eventDetails.buttonText) {\r\n      return (\r\n        <EventButton\r\n          buttonText={eventDetails.buttonText}\r\n          buttonLink={eventDetails.buttonLink}\r\n        />\r\n      );\r\n    }\r\n\r\n    return <div></div>;\r\n  };\r\n\r\n  return (\r\n    <div sx={textWrapperStyle}>\r\n      <p sx={descriptionStyle}>{eventDetails.description}</p>\r\n      <div sx={buttonContainerStyle}>\r\n        {/* yes shari, this will work with multiple buttons if needed */}\r\n        {renderButton()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// EventItem -- for holding the actual event information -----\r\nconst EventItem: React.FC<EventItemProps> = ({\r\n  height,\r\n  width,\r\n  event,\r\n  textLocation,\r\n  rectStyling,\r\n}) => {\r\n  const [imgHeight, setImgHeight] = useState<number>(0);\r\n  const eventItemRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Get the height of the curernt div containing the event\r\n  // item, so that the photo can be this size too.\r\n  useEffect(() => {\r\n    if (!eventItemRef.current) return;\r\n\r\n    setImgHeight(\r\n      Math.round(eventItemRef.current.getBoundingClientRect().height),\r\n    );\r\n  }, [eventItemRef]);\r\n\r\n  // All text details for the current event\r\n  const currentEventDetails: EventDetails = {\r\n    description: event.description,\r\n    buttonText: event.buttonText,\r\n    buttonLink: event.buttonLink,\r\n  };\r\n\r\n  // Sty;es fpr every event items\r\n  const wrapperStyle: SxStyleProp = {\r\n    py: '3%',\r\n    my: ['2%', '1%', 0],\r\n  };\r\n  const rectangleBarrierStyling: SxStyleProp = {\r\n    my: '-0.5em', // pulling the rectangles closer together\r\n    pb: '2%',\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n\r\n    minHeight: ['35vh', '45vh', '55vh', height],\r\n\r\n    ...rectStyling,\r\n  };\r\n\r\n  /**\r\n   * Determines if a photo should be rendered, based on presence\r\n   * of a photo ID.\r\n   * @returns either an empty element, or an event photo.\r\n   */\r\n  const renderPhoto = (): ReactElement => {\r\n    if (event.photoId) {\r\n      return (\r\n        <EventPhoto\r\n          photoID={event.photoId}\r\n          width=\"35%\"\r\n          height={imgHeight}\r\n          photoLocation={textLocation === 'left' ? 'right' : 'left'}\r\n        />\r\n      );\r\n    }\r\n\r\n    return <div></div>;\r\n  };\r\n\r\n  // All events have a heading and description and possibly\r\n  // a button (or buttons) to a link and a photo.\r\n  return (\r\n    <div sx={wrapperStyle} ref={eventItemRef}>\r\n      <TranslucentRectangle\r\n        lengthX={width}\r\n        extraStyling={rectangleBarrierStyling}\r\n      >\r\n        <EventHeading text={event.eventName} textLocation={textLocation} />\r\n        <EventInfoItem\r\n          width={event.photoId ? '65%' : '90%'}\r\n          startHeight=\"20%\"\r\n          textLocation={textLocation}\r\n          eventDetails={currentEventDetails}\r\n        />\r\n        {renderPhoto()}\r\n      </TranslucentRectangle>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// Events -- renders the page of all events.\r\nexport const Events: React.FC = () => {\r\n  const eventInfo: Event[] = useContext<IInfoContext>(InfoContext).events;\r\n\r\n  // Styles for the page\r\n  const wrapperStyle: SxStyleProp = {\r\n    // the main page div\r\n\r\n    width: '100%',\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.light,\r\n  };\r\n  const innerWrapperStyle: SxStyleProp = {\r\n    // the div that contains everything\r\n\r\n    top: '20vh',\r\n    position: 'relative',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    mb: '14em',\r\n  };\r\n  const headingWrapperStyle: SxStyleProp = {\r\n    // the header div\r\n\r\n    left: '5%',\r\n    maxWidth: '90%', // to make sure the page doesn't scroll to the right\r\n    position: 'relative',\r\n  };\r\n\r\n  /**\r\n   * Retrieves all events in a formatted manner based on what number\r\n   * the event is.\r\n   * @returns a list containing all the EventItem elements.\r\n   */\r\n  const getAllEvents = (): ReactElement[] => {\r\n    return eventInfo.map((event, index) => {\r\n      const extraRectStyling: SxStyleProp = {\r\n        backgroundColor:\r\n          index % 2 === 1 ? theme.colors.background.overlay : 'transparent',\r\n      };\r\n\r\n      return (\r\n        <div key={index} sx={{position: 'relative', display: 'inline'}}>\r\n          <EventItem\r\n            width=\"100%\"\r\n            height=\"65vh\"\r\n            event={event}\r\n            textLocation={index % 2 === 1 ? 'left' : 'right'}\r\n            rectStyling={extraRectStyling}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <div sx={innerWrapperStyle}>\r\n        <div sx={headingWrapperStyle}>\r\n          <Heading text=\"Events\" alignment=\"left\" />\r\n        </div>\r\n        {getAllEvents()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useState, useRef, useEffect, ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {TranslucentRectangle} from './TranslucentRectangle';\r\nimport {LoadingSquare} from './LoaderComponents';\r\n\r\nimport {Club} from '../utils/interfaces';\r\nimport {getImageUrl} from '../utils/functions';\r\nimport {theme} from '../utils/theme';\r\nimport {popIn} from '../utils/animation';\r\n// yes shari in case you couldnt tell from the code and the comments\r\n// i was really tired while coding this\r\n\r\n// Interfaces --\r\nexport interface ClubPopupProps {\r\n  closeHandler: () => void;\r\n  clubInfo: Club;\r\n}\r\n\r\ninterface ClubDescriptionItemProps {\r\n  clubname: string;\r\n  description: string;\r\n}\r\n\r\ninterface ClubInfoItemProps {\r\n  clubContactInfo: ClubContactInfo;\r\n}\r\n\r\ninterface ClubPhotoProps {\r\n  photoId: string;\r\n  width: number;\r\n}\r\n\r\ninterface ClubContactInfo {\r\n  // this can be expanded if we need more values\r\n  meetingDate: FormattedValue;\r\n  meetingFreq: FormattedValue;\r\n  meetingLoc: FormattedValue;\r\n  email?: FormattedValue;\r\n  instagram?: FormattedValue;\r\n}\r\n\r\ninterface FormattedValue {\r\n  formattedTitle: string; // the text that is displayed as the property name\r\n  value: string | ReactElement; // for possible links lol\r\n}\r\n\r\n// ============================================================\r\n\r\n// ============================================================\r\n// ClubDescriptionItem - for the sidebar with the club name and description\r\nconst ClubDescriptionItem: React.FC<ClubDescriptionItemProps> = ({\r\n  clubname,\r\n  description,\r\n}): ReactElement => {\r\n  // Styles for the text and stuff\r\n  const wrapperStyle: SxStyleProp = {\r\n    // The full large side rectangle\r\n\r\n    // all hail absolute positioning -- because my sanity has\r\n    // been gone for a very long time\r\n    position: 'absolute',\r\n    width: ['40%', '35%', '30%', '30%', '25%'],\r\n    left: ['3%', '5%', '5%', '5%', '10%'],\r\n    height: ['40%', '50%', '60%', '60%', '70%'], // TODO: fix extreme resizing cases\r\n    top: ['30%', '25%', '20%', '20%', '15%'],\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    textAlign: 'center',\r\n\r\n    backgroundColor: theme.colors.background.light,\r\n  };\r\n  const titleWrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '45%',\r\n\r\n    // aligning the title text\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textAlign: 'center',\r\n\r\n    backgroundColor: theme.colors.secondary,\r\n    // using clipPath to make the cool slanted rectangle\r\n    // most modern browsers should support this so im sure its fine...\r\n    clipPath: 'polygon(0 0, 100% 0, 100% 100%, 0 80%)',\r\n  };\r\n  const descriptionWrapperStyle: SxStyleProp = {\r\n    minHeight: '55%',\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n  };\r\n  const titleStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.heading,\r\n    fontSize: theme.fontSizes.heading.event,\r\n    color: theme.colors.text.light,\r\n\r\n    margin: 'auto',\r\n  };\r\n  const descriptionStyle: SxStyleProp = {\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.event,\r\n    color: theme.colors.text.darkSlate,\r\n\r\n    // text positioning and formatting yay\r\n    px: '5%',\r\n    margin: 'auto',\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <div sx={titleWrapperStyle}>\r\n        <h3 sx={titleStyle}>{clubname}</h3>\r\n      </div>\r\n      <div sx={descriptionWrapperStyle}>\r\n        <p sx={descriptionStyle}>{description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// ClubInfoItem -- for the bottom right bar with the rest of the club info\r\nconst ClubInfoItem: React.FC<ClubInfoItemProps> = ({\r\n  clubContactInfo,\r\n}): ReactElement => {\r\n  // Styles necessary\r\n  const wrapperStyle: SxStyleProp = {\r\n    position: 'absolute', // all hail absolute positioning\r\n    bottom: ['24%', '16%', '16%', '8%', '8%'],\r\n    right: ['2.5%', '10%', '12%', '13%', '20%'],\r\n    width: ['45%', '35%', '35%', '35%', '25%'],\r\n\r\n    // if we need a min height (results in no vertical centering if\r\n    // text is too small)\r\n    // TODO: fix this i guess sometime later\r\n    // minHeight: '25%',\r\n\r\n    borderRadius: '12px',\r\n    backgroundColor: theme.colors.background.light,\r\n\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    textAlign: 'center',\r\n  };\r\n  const textContainerStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '100%',\r\n    my: '4%', // the extra 1% for 5% margin is supplied by the textboxes\r\n  };\r\n\r\n  /**\r\n   * Retrieves all the supplied contact information and formats it for\r\n   * the small contact rectangle.\r\n   * @returns a list of formatted contact information elements.\r\n   */\r\n  const getAllContactInfo = (): ReactElement[] => {\r\n    const contactInfoWrapperStyle: SxStyleProp = {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      width: '100%',\r\n      height: '100%',\r\n\r\n      my: '1%',\r\n      flex: '1', // SHOULD vertically fill...\r\n    };\r\n    const textStyle: SxStyleProp = {\r\n      fontFamily: theme.fonts.body,\r\n      fontSize: theme.fontSizes.event,\r\n      color: theme.colors.text.darkSlate,\r\n\r\n      marginY: 'auto',\r\n      wordBreak: 'break-word',\r\n      lineHeight: 1.2,\r\n    };\r\n    const colStyle: SxStyleProp = {\r\n      position: 'relative',\r\n      display: 'inline-block',\r\n    };\r\n    const leftColStyle: SxStyleProp = {\r\n      textAlign: 'left',\r\n      ml: '5%',\r\n      flex: '1',\r\n    };\r\n    const rightColStyle: SxStyleProp = {\r\n      textAlign: 'right',\r\n      mr: '5%',\r\n      flex: '2',\r\n    };\r\n\r\n    return Object.keys(clubContactInfo).map((info) => {\r\n      return (\r\n        // the text row\r\n        <div sx={contactInfoWrapperStyle} key={info}>\r\n          {/* left column of text */}\r\n          <div\r\n            sx={{\r\n              ...colStyle,\r\n              ...leftColStyle,\r\n            }}\r\n          >\r\n            <p sx={textStyle}>{clubContactInfo[info].formattedTitle}</p>\r\n          </div>\r\n\r\n          {/* right column of text */}\r\n          <div\r\n            sx={{\r\n              ...colStyle,\r\n              ...rightColStyle,\r\n            }}\r\n          >\r\n            <p sx={textStyle}>{clubContactInfo[info].value}</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <div sx={textContainerStyle}>{getAllContactInfo()}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n// ClubPhoto -- for the background club photo and the translucent rectangle\r\nconst ClubPhoto: React.FC<ClubPhotoProps> = ({\r\n  photoId,\r\n  width,\r\n}): ReactElement => {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  // Image styles --\r\n\r\n  const photoStyle: SxStyleProp = {\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    height: '100%',\r\n  };\r\n  const rectStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    top: '28%',\r\n    left: '14%',\r\n\r\n    backgroundColor: theme.colors.secondary + '66',\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Handles image loading and sets loading state to false.\r\n   */\r\n  const handleLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  /**\r\n   * Determines whether to render a LoadingSquare or not.\r\n   * @returns either a loading square or nothing.\r\n   */\r\n  const displayLoadingSquare = (): ReactElement | void => {\r\n    if (loading) {\r\n      return (\r\n        <LoadingSquare extraStyling={{backgroundColor: theme.colors.navbar}} />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {displayLoadingSquare()}\r\n      <img\r\n        src={getImageUrl(photoId, width, 5000)}\r\n        alt=\"\"\r\n        sx={photoStyle}\r\n        onLoad={handleLoading}\r\n      />\r\n      <TranslucentRectangle\r\n        lengthX=\"100%\"\r\n        lengthY=\"100%\"\r\n        extraStyling={rectStyle}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\n// ============================================================\r\n\r\n// ============================================================\r\n// ClubPopup -- for the actual main club info popup\r\nexport const ClubPopup: React.FC<ClubPopupProps> = ({\r\n  closeHandler,\r\n  clubInfo,\r\n}): ReactElement => {\r\n  const [width, setWidth] = useState<number>(0);\r\n  const clubPhotoRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!clubPhotoRef.current) return;\r\n\r\n    setWidth(Math.round(clubPhotoRef.current.getBoundingClientRect().width));\r\n  }, [clubPhotoRef]);\r\n\r\n  // Yay styles\r\n  const overlayStyle: SxStyleProp = {\r\n    width: '100vw',\r\n    height: '100vh',\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: theme.colors.background.darkOverlay,\r\n    opacity: 0.8,\r\n    zIndex: 15,\r\n    backdropFilter: 'blur(10px)',\r\n  };\r\n\r\n  const mainWrapperStyle: SxStyleProp = {\r\n    position: 'fixed',\r\n    width: '100vw',\r\n    height: '100vh',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n\r\n    zIndex: 16, // draw over everything\r\n\r\n    '@keyframes popIn': popIn,\r\n    animationName: 'popIn',\r\n    animationDuration: '1s',\r\n  };\r\n  const clickEventContainerStyle: SxStyleProp = {\r\n    width: '100%',\r\n    height: '100%',\r\n  };\r\n  const photoContainerStyle: SxStyleProp = {\r\n    position: 'absolute', // all hail absolute positioning\r\n    margin: 'auto',\r\n    top: ['32.5%', '27.5%', '25%', '22.5%', '20%'],\r\n    left: ['5%', '15%', '15%', '20%', '25%'],\r\n    width: ['90%', '70%', '70%', '60%', '50%'],\r\n    height: ['35%', '45%', '50%', '55%', '60%'],\r\n  };\r\n\r\n  // All the club important contact information for the contact\r\n  // info rectangle.\r\n  // TODO: make instagram and email a link lol\r\n  const clubContactInfo: ClubContactInfo = {\r\n    meetingDate: {\r\n      formattedTitle: 'Meetings:',\r\n      value: clubInfo.meetingDay,\r\n    },\r\n    meetingFreq: {\r\n      formattedTitle: 'Freq:',\r\n      value: clubInfo.meetingFrequency,\r\n    },\r\n    meetingLoc: {\r\n      formattedTitle: 'Location:',\r\n      value: clubInfo.meetingLocation,\r\n    },\r\n    email: {formattedTitle: 'Email:', value: clubInfo.email},\r\n    instagram: {formattedTitle: 'Instagram', value: clubInfo.instagram},\r\n  };\r\n\r\n  /**\r\n   * Handles the closing of the popup by determining whether to\r\n   * call the close handler or not based on where was clicked.\r\n   * @param e\r\n   */\r\n  const handleClosingParent = (\r\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\r\n  ): void => {\r\n    // Since child elements can propagate onClick events too, we\r\n    // make sure the element that called e was the parent element\r\n    // (ie. e.currentTarget, since e is binded to the parent element).\r\n    if (e.target === e.currentTarget) {\r\n      closeHandler();\r\n    }\r\n  };\r\n\r\n  return (\r\n    // sets the height, width, and position\r\n    <React.Fragment>\r\n      <div sx={overlayStyle} />\r\n      <div sx={mainWrapperStyle}>\r\n        {/* handles the click event to close the popup */}\r\n        <div sx={clickEventContainerStyle} onClick={handleClosingParent}>\r\n          {/* the background photo */}\r\n          <div sx={photoContainerStyle} ref={clubPhotoRef}>\r\n            <ClubPhoto photoId={clubInfo.photoId} width={width} />\r\n          </div>\r\n\r\n          {/* club information */}\r\n          <ClubDescriptionItem\r\n            clubname={clubInfo.name}\r\n            description={clubInfo.description}\r\n          />\r\n          <ClubInfoItem clubContactInfo={clubContactInfo} />\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useContext, useRef, useEffect, useState} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {Heading} from '../components/Heading';\r\nimport {Collapsable} from '../components/Collapsable';\r\nimport {theme, FIRST_BREAKPOINT} from '../utils/theme';\r\nimport {IInfoContext, InfoContext} from '../utils/contexts';\r\nimport {BsThreeDots, BsSearch} from 'react-icons/bs';\r\nimport {FaTimes} from 'react-icons/fa';\r\nimport {getImageUrl, randNum, randInt} from '../utils/functions';\r\nimport {Club} from '../utils/interfaces';\r\nimport clubBackground from '../assets/clubBackground.png';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport {ClubPopup} from '../components/ClubPopup';\r\n\r\n//x1, y1 - top middle\r\n//x2, y2 - bottom left\r\n//x3, y3 - bottom right\r\nclass BgTriangleProp {\r\n  private x1: string;\r\n  private y1: string;\r\n  private x2: string;\r\n  private y2: string;\r\n  private x3: string;\r\n  private y3: string;\r\n  private style: SxStyleProp = {};\r\n\r\n  constructor(x1, y1, x2, y2, x3, y3, style: SxStyleProp) {\r\n    this.x1 = x1;\r\n    this.x2 = x2;\r\n    this.x3 = x3;\r\n    this.y1 = y1;\r\n    this.y2 = y2;\r\n    this.y3 = y3;\r\n    this.style = style;\r\n  }\r\n\r\n  public getStyle = () => this.style;\r\n\r\n  public getClipPath = () => {\r\n    return `polygon(${this.x1} ${this.y1}, ${this.x2} ${this.y2}, ${this.x3} ${this.y3})`;\r\n  };\r\n}\r\n\r\nexport const Clubs: React.FC = () => {\r\n  const {clubs, clubHighlights} = useContext<IInfoContext>(InfoContext);\r\n  const [height, setHeight] = useState<number>(0);\r\n  const [query, setQuery] = useState<string>('');\r\n  const [isPopup, setIsPopup] = useState<boolean>(false);\r\n  const [popupClub, setPopupClub] = useState<Club>(null);\r\n  const pageRef = useRef<HTMLDivElement>(null);\r\n  const bgRectWidth = useRef<number[]>([]);\r\n  const bgTriangleProp = useRef<BgTriangleProp[]>([]);\r\n\r\n  useEffect(() => {\r\n    const ro = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        setHeight(entry.target.clientHeight);\r\n      });\r\n    });\r\n    ro.observe(pageRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  if (!clubs || !clubHighlights) {\r\n    return <React.Fragment />;\r\n  }\r\n\r\n  /**\r\n   * Gets the list of clubs\r\n   */\r\n  const getClubList = () => {\r\n    const categories = {};\r\n    clubs.forEach((club) => {\r\n      if (categories[club.category]) {\r\n        categories[club.category].push(club);\r\n      } else {\r\n        categories[club.category] = [club];\r\n      }\r\n    });\r\n\r\n    const getClubs = (category) => {\r\n      return categories[category].map((club) => {\r\n        return (\r\n          <div\r\n            onClick={() => {\r\n              setPopupClub(club);\r\n              setIsPopup(true);\r\n            }}\r\n          >\r\n            {club.name}\r\n          </div>\r\n        );\r\n      });\r\n    };\r\n\r\n    return Object.keys(categories).map((category, index) => {\r\n      const titleStyle: SxStyleProp = {\r\n        color: theme.colors.text.darkGray,\r\n        borderColor: theme.colors.text.darkGray,\r\n        fontSize: theme.fontSizes.bodyBig,\r\n        fontFamily: theme.fonts.body,\r\n        '&:hover': {\r\n          color: theme.colors.text.darkGray,\r\n          cursor: 'pointer',\r\n        },\r\n      };\r\n      const childrenStyle: SxStyleProp = {\r\n        color: theme.colors.text.darkSlate,\r\n        borderColor: theme.colors.text.darkSlate,\r\n        ml: '80%',\r\n        pl: '1em',\r\n        fontSize: theme.fontSizes.bodySmall,\r\n        width: '100%',\r\n        '&:hover': {\r\n          cursor: 'pointer',\r\n        },\r\n      };\r\n      const titleWrapper: SxStyleProp = {\r\n        textAlign: 'right',\r\n      };\r\n      const titleComponent = (\r\n        <div sx={titleWrapper}>\r\n          {category} <BsThreeDots />\r\n        </div>\r\n      );\r\n\r\n      return (\r\n        <Collapsable\r\n          title={titleComponent}\r\n          titleStyle={titleStyle}\r\n          childrenStyle={childrenStyle}\r\n          collapsed={index === 0 ? false : true}\r\n        >\r\n          {getClubs(category)}\r\n        </Collapsable>\r\n      );\r\n    });\r\n  };\r\n\r\n  //=================================================\r\n  //querying\r\n  const getSearchResult = (searchStr: string) => {\r\n    return clubs.filter((club) => {\r\n      if (!club.name) return false;\r\n      return club.name.toLowerCase().includes(searchStr.toLowerCase());\r\n    });\r\n  };\r\n\r\n  const displaySearchResults = () => {\r\n    const wrapperStyle: SxStyleProp = {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      mx: 'auto',\r\n    };\r\n    const style: SxStyleProp = {\r\n      color: theme.colors.text.darkGray,\r\n      borderColor: theme.colors.text.darkGray,\r\n      fontSize: theme.fontSizes.bodyBig,\r\n      fontFamily: theme.fonts.body,\r\n      padding: '0.3em',\r\n      zIndex: 2,\r\n      display: 'block',\r\n      margin: 'auto',\r\n      '&:hover': {\r\n        cursor: 'pointer',\r\n      },\r\n    };\r\n    const results = getSearchResult(query).map((club) => {\r\n      return (\r\n        <div\r\n          sx={style}\r\n          onClick={() => {\r\n            setPopupClub(club);\r\n            setIsPopup(true);\r\n          }}\r\n        >\r\n          {club.name}\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return <div sx={wrapperStyle}>{results}</div>;\r\n  };\r\n\r\n  //=================================================\r\n  //background decorations\r\n  const getTransluteRects = () => {\r\n    const getStyle = (i) => {\r\n      const style: SxStyleProp = {\r\n        position: 'absolute',\r\n        height: ['50%', '20%'],\r\n        top: (i + 1) * 200,\r\n        width: ['90%', '70%', `${bgRectWidth.current[i]}%`],\r\n        backgroundColor: theme.colors.background.overlay,\r\n        right: `${0}%`,\r\n        zIndex: 0,\r\n      };\r\n      return style;\r\n    };\r\n\r\n    return Array.from(new Array(Math.floor(height / 250)).keys()).map((i) => {\r\n      if (!bgRectWidth.current[i]) bgRectWidth.current.push(randNum(5, 55));\r\n      return <div sx={getStyle(i)} />;\r\n    });\r\n  };\r\n\r\n  const getTriangleImages = () => {\r\n    const getStyle = (i: number) => {\r\n      const imageUrl = getImageUrl(\r\n        clubHighlights[i % clubHighlights.length].photoId,\r\n        400,\r\n        400,\r\n      );\r\n      const style: SxStyleProp = {\r\n        zIndex: 0,\r\n        backgroundColor: theme.colors.secondary,\r\n        backgroundImage: `url(${imageUrl})`,\r\n        clipPath: bgTriangleProp.current[i].getClipPath(),\r\n        ml: 'auto',\r\n        ...bgTriangleProp.current[i].getStyle(),\r\n        backgroundSize: 'cover',\r\n      };\r\n      return style;\r\n    };\r\n\r\n    const triangles = Array.from(\r\n      new Array(Math.floor(height / 250)).keys(),\r\n    ).map((i) => {\r\n      if (!bgTriangleProp.current[i]) {\r\n        bgTriangleProp.current.push(\r\n          new BgTriangleProp(\r\n            `${randInt(40, 55)}%`,\r\n            0,\r\n            0,\r\n            `${randInt(60, 100)}%`,\r\n            '100%',\r\n            `${randInt(30, 100)}%`,\r\n            {\r\n              width: `${randInt(7, 15)}vmax`,\r\n              height: `${randInt(7, 15)}vmax`,\r\n              mr: `${randInt(20, 50)}%`,\r\n              my: `${randInt(2, 7)}%`,\r\n            },\r\n          ),\r\n        );\r\n      }\r\n      return <div sx={getStyle(i)} />;\r\n    });\r\n\r\n    const wrapper: SxStyleProp = {\r\n      width: ['30%', '40%'],\r\n      top: '40%',\r\n      right: 0,\r\n      position: 'absolute',\r\n      zIndex: 0,\r\n    };\r\n\r\n    return <div sx={wrapper}>{triangles}</div>;\r\n  };\r\n\r\n  //=================================================\r\n  //styles\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.light,\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    ...theme.bodyPadding,\r\n    pb: '20vh',\r\n    overflow: 'hidden',\r\n    flexDirection: ['column', 'row'],\r\n    position: 'relative',\r\n  };\r\n\r\n  const clubListWrapper: SxStyleProp = {\r\n    display: 'block',\r\n    ml: [0, '10%', '30%'],\r\n    zIndex: 2,\r\n    mr: ['50%', 0],\r\n  };\r\n  const lineStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.secondary,\r\n    height: 2,\r\n    width: '100%',\r\n    borderRadius: 2,\r\n    my: '0.5em',\r\n  };\r\n\r\n  const backgroundImgStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    top: height * 0.4,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    width: '100%',\r\n    height: height * 0.6,\r\n    zIndex: 1,\r\n  };\r\n\r\n  const searchBoxStyle: SxStyleProp = {\r\n    height: '1.3em',\r\n    borderRadius: 15,\r\n    borderColor: theme.colors.navbar,\r\n    borderWidth: 1,\r\n    width: '100%',\r\n    py: '1em',\r\n    px: '0.5em',\r\n    fontSize: theme.fontSizes.bodySmall.map((n) => n + 5),\r\n    fontFamily: theme.fonts.body,\r\n    '&:focus': {\r\n      borderWidth: 1.5,\r\n      outline: 'none',\r\n    },\r\n  };\r\n\r\n  const searchBoxWrapperStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    width: ['100%', '40%', '20%'],\r\n    ml: [0, 'auto'],\r\n    mt: ['2em', 'auto'],\r\n    mb: ['1em', 'auto'],\r\n    fontSize: theme.fontSizes.bodySmall.map((n) => n + 5),\r\n  };\r\n  const iconStyle: SxStyleProp = {\r\n    position: 'absolute',\r\n    right: '0.5em',\r\n    top: '0.5em',\r\n  };\r\n\r\n  const headingStyle: SxStyleProp = {\r\n    display: 'inline', \r\n    mt: ['20%', 'auto'],\r\n    mb: [0, 'auto'],\r\n  };\r\n\r\n  //==============================================================\r\n  //render\r\n\r\n  const isFirstBreakpoint = window.innerWidth > FIRST_BREAKPOINT;\r\n\r\n  return (\r\n    <div sx={wrapperStyle} ref={pageRef}>\r\n      <img src={clubBackground} sx={backgroundImgStyle} />\r\n      {getTransluteRects()}\r\n\r\n      <Heading\r\n        text='Clubs'\r\n        alignment={isFirstBreakpoint ? 'left' : 'center'}\r\n        underline={false}\r\n        extraStyling={headingStyle}\r\n      />\r\n\r\n      <div sx={searchBoxWrapperStyle}>\r\n        <input\r\n          sx={searchBoxStyle}\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          placeholder=\"Club name\"\r\n        />\r\n        {query === ''\r\n         ? <BsSearch sx={iconStyle} />\r\n         : <FaTimes sx={iconStyle} onClick={() => setQuery('')}/>\r\n        }\r\n        \r\n      </div>\r\n\r\n      <div sx={lineStyle} />\r\n      {query === '' ? (\r\n        <div sx={clubListWrapper}>{getClubList()}</div>\r\n      ) : (\r\n        displaySearchResults()\r\n      )}\r\n\r\n      {isFirstBreakpoint ? getTriangleImages() : undefined}\r\n\r\n      {isPopup && popupClub ? (\r\n        <ClubPopup\r\n          closeHandler={() => setIsPopup(false)}\r\n          clubInfo={popupClub}\r\n        />\r\n      ) : undefined}\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {theme} from '../utils/theme';\r\n\r\nexport interface CalendarProps {}\r\n\r\nexport const Calendar: React.FC<CalendarProps> = () => {\r\n  // Styles for the page\r\n  const wrapperStyle: SxStyleProp = {\r\n    // the main page div\r\n\r\n    width: '100%',\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.dark,\r\n  };\r\n  const innerWrapperStyle: SxStyleProp = {\r\n    // the div that contains everything\r\n\r\n    top: '20vh',\r\n    position: 'relative',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    mb: '14em',\r\n  };\r\n\r\n  return <div sx={wrapperStyle}></div>;\r\n};\r\n","/** @jsx jsx */\r\nimport React from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\n\r\nexport const Map: React.FC = () => {\r\n  // styles\r\n  const backgroundStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.background.dark,\r\n    width: '100%',\r\n    textAlign: 'center',\r\n  };\r\n  const divStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    top: '10vh',\r\n    textAlign: 'center',\r\n    width: '100%',\r\n  };\r\n  const imageStyle: SxStyleProp = {\r\n    mt: '10%',\r\n    // center the image\r\n    ml: 'auto',\r\n    mr: 'auto',\r\n    // change this if the image should be a diff size\r\n    width: '95%',\r\n    // leave this to preserve aspect ratio\r\n    height: 'auto',\r\n  };\r\n\r\n  return (\r\n    <div sx={backgroundStyle}>\r\n      <div sx={divStyle}>\r\n        <img\r\n          src=\"./assets/school-1st-floor-2.PNG\" //you can change this to online once we have that set up\r\n          alt=\"The school's first floor.\"\r\n          sx={imageStyle}\r\n        />\r\n        <img\r\n          src=\"./assets/school-2nd-floor-2.PNG\" //you can change this to online once we have that set up\r\n          alt=\"The school's second floor.\"\r\n          sx={{\r\n            ...imageStyle,\r\n            mb: ['8em', '14em'], // pushing away the footer\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  useRef,\r\n  ReactElement,\r\n} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {getImageUrl} from '../utils/functions';\r\n\r\nexport interface ViewerPhotoProps {\r\n  photoId: string;\r\n  loadHandler: () => void;\r\n  // With the new provided dimensions, it is now easier to get\r\n  // the orientation of the current photo by simply comparing the\r\n  // original dimensions.\r\n  /** The original dimensions of the photo. These dimensions must be present. */\r\n  originalDimensions: {width: number; height: number};\r\n}\r\n\r\n//=====================================================================\r\n// ViewerPhoto is for the main big photo in the PhotoViewer.\r\nexport const ViewerPhoto: React.FC<ViewerPhotoProps> = ({\r\n  photoId,\r\n  loadHandler,\r\n  originalDimensions,\r\n}): ReactElement => {\r\n  const [mainImageLimit, setMainImageLimit] = useState<number>(0);\r\n  const [orientation, setOrientation] = useState<string>(null);\r\n  const mainImageRefDiv = useRef<HTMLDivElement>(null);\r\n\r\n  // Determine the orientation of the photo at the get go to cut\r\n  // down on rerenders and loading wrong images\r\n  /**\r\n   * Determines the orientation of the current photo.\r\n   */\r\n  const determineOrientation = useCallback((): void => {\r\n    const h = originalDimensions.height;\r\n    const w = originalDimensions.width;\r\n\r\n    h > w ? setOrientation('portrait') : setOrientation('landscape');\r\n  }, [originalDimensions]);\r\n\r\n  useEffect(() => {\r\n    determineOrientation();\r\n  }, [photoId, determineOrientation]);\r\n\r\n  useEffect(() => {\r\n    if (!mainImageRefDiv.current) return;\r\n\r\n    // Adjusting the image size when fetched based on orientation of image\r\n    if (!orientation || orientation === 'portrait') {\r\n      setMainImageLimit(\r\n        Math.round(mainImageRefDiv.current.getBoundingClientRect().width),\r\n      );\r\n    } else {\r\n      setMainImageLimit(\r\n        Math.round(mainImageRefDiv.current.getBoundingClientRect().height),\r\n      );\r\n    }\r\n  }, [mainImageRefDiv, orientation]);\r\n\r\n  // Fun styles --\r\n  const mainImageContainerStyle: SxStyleProp = {\r\n    // positioning\r\n    position: 'relative',\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n\r\n    // adjusting the size\r\n    width: orientation === 'landscape' ? '80%' : '35%',\r\n    height: '100%',\r\n\r\n    mx: 'auto',\r\n    zIndex: 15, // to draw over the overlay\r\n\r\n    '@media only screen and (max-width: 800px)': {\r\n      height: orientation === 'landscape' ? '30%' : '60%',\r\n      width: orientation === 'landscape' ? '90%' : '60%',\r\n      margin: 'auto',\r\n    },\r\n  };\r\n  const mainImageStyle: SxStyleProp = {\r\n    // positioning\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    height: '100%',\r\n\r\n    // to center the image\r\n    ml: 'auto',\r\n    mr: 'auto',\r\n    mt: 'auto',\r\n    mb: 'auto',\r\n\r\n    // small fade animation while hovering\r\n    transition: '.5s ease',\r\n    '&:hover': {\r\n      opacity: 0.9,\r\n    },\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Fetches and returns a url to a specified drive photo with\r\n   * formatted width and height. The exact dimensions of the photo\r\n   * fetched are dependant on the orientation of said photo.\r\n   * @param photoId - the drive id for the photo.\r\n   * @returns a url to the specified photo.\r\n   */\r\n  const fetchMainImageUrl = (photoId: string): string => {\r\n    return orientation === 'landscape'\r\n      ? getImageUrl(photoId, 5000, mainImageLimit)\r\n      : getImageUrl(photoId, mainImageLimit, 5000);\r\n  };\r\n\r\n  /**\r\n   * Performs the various loading functions that are related to\r\n   * this image loading.\r\n   */\r\n  const performLoadActivities = (): void => {\r\n    loadHandler();\r\n  };\r\n\r\n  // Returning the viewer code --\r\n  return (\r\n    <div sx={mainImageContainerStyle} ref={mainImageRefDiv}>\r\n      <img\r\n        id=\"main-photo\"\r\n        src={fetchMainImageUrl(photoId)}\r\n        alt=\"\"\r\n        sx={mainImageStyle}\r\n        onLoad={performLoadActivities}\r\n        onError={() => {\r\n          console.log('failed to load main image');\r\n          loadHandler();\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\n\r\nexport interface ViewerButtonProps {\r\n  /** Image source, supports either an URL or a ReactElement (usually a react-icon) */\r\n  imageSrc: string | ReactElement;\r\n  actionHandler: () => void;\r\n  extraButtonStyling?: SxStyleProp;\r\n}\r\n\r\n// ViewerButton is for the... buttons that are in the viewer. (wow)\r\nexport const ViewerButton: React.FC<ViewerButtonProps> = ({\r\n  imageSrc,\r\n  actionHandler,\r\n  extraButtonStyling,\r\n}): ReactElement => {\r\n  const buttonContainerStyle: SxStyleProp = {\r\n    position: 'relative',\r\n\r\n    mx: '3%',\r\n\r\n    width: ['50px', '45px', '50px', '55px'],\r\n    height: ['50px', '45px', '50px', '55px'],\r\n\r\n    borderRadius: '50%',\r\n\r\n    backgroundColor: theme.colors.background.darkest,\r\n    color: theme.colors.text.light,\r\n    zIndex: 15, // draw buttons on top of overlay\r\n\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textAlign: 'center',\r\n\r\n    // If imgsrc is a string it can simply be used as background image\r\n    backgroundImage:\r\n      typeof imageSrc === 'string' ? 'url(' + imageSrc + ')' : 'none',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n\r\n    // small fade animation while hovering\r\n    transition: 'transform .2s, .5s ease',\r\n    '&:hover': {\r\n      transform: 'scale(1.2)',\r\n      cursor: 'pointer',\r\n      opacity: 0.8,\r\n    },\r\n\r\n    ...extraButtonStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={buttonContainerStyle} onClick={actionHandler}>\r\n      {!(typeof imageSrc === 'string') ? imageSrc : undefined}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\nimport {theme} from '../utils/theme';\n\nimport Loader from 'react-loader-spinner';\n\nexport interface CircleSpinnerProps {\n  width?: number;\n  height?: number;\n  color?: string;\n}\n\n// yes shari i decided to import a library just for spinners\nexport const CircleSpinner: React.FC<CircleSpinnerProps> = ({\n  width,\n  height,\n  color,\n}) => {\n  return (\n    <Loader\n      type=\"TailSpin\"\n      color={color ? color : theme.colors.secondary}\n      width={width}\n      height={height}\n    />\n  );\n};\n","/** @jsx jsx */\r\nimport React, {\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  ReactElement,\r\n  useCallback,\r\n} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {FaTimes, FaArrowRight, FaArrowLeft} from 'react-icons/fa';\r\n\r\nimport {ViewerPhoto} from './ViewerPhoto';\r\nimport {ViewerButton} from './ViewerButton';\r\nimport {CircleSpinner} from './CircleSpinner';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {\r\n  getImageUrl,\r\n  detectSwipeDirection,\r\n  allowScrolling,\r\n} from '../utils/functions';\r\n// todo: minor, but make naming consistant i guess\r\nimport {Photo as PhotoInfo} from '../utils/interfaces';\r\n\r\n// yes shari since this function was messy i tried out a new\r\n// commenting style\r\n\r\n// Interfaces --\r\nexport interface Photo {\r\n  photoUrl: string;\r\n  photoNum: number;\r\n\r\n  /** The photo dimensions provided in the spreadsheet. */\r\n  originalPhotoDimensions?: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n\r\n  /** The new requested dimensions for this photo. */\r\n  newPhotoDimensions?: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n}\r\n\r\nexport interface PhotoViewerProps {\r\n  photos: PhotoInfo[];\r\n  startIndex: number;\r\n  closeHandler: () => void;\r\n}\r\n\r\n//=====================================================================\r\n// PhotoViewer is a gallery viewer of photos. Resolutions of photos\r\n// with the same orientation are the same.\r\nconst PhotoViewer: React.FC<PhotoViewerProps> = ({\r\n  photos,\r\n  startIndex,\r\n  closeHandler,\r\n}): ReactElement => {\r\n  //-------------------------------------------------------------------\r\n  // React Hook Initialization --\r\n  //-------------------------------------------------------------------\r\n  const [index, setIndex] = useState<number>(startIndex);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [overlayWidth, setOverlayWidth] = useState<number>(0);\r\n  const overlayReferenceDiv = useRef<HTMLDivElement>(null);\r\n\r\n  const xTouchLoc = useRef<number>(-1);\r\n  const yTouchLoc = useRef<number>(-1);\r\n\r\n  // Setting up overlay width for proper background image sizing\r\n  useEffect(() => {\r\n    if (!overlayReferenceDiv.current) return;\r\n\r\n    setOverlayWidth(\r\n      Math.round(\r\n        overlayReferenceDiv.current.getBoundingClientRect().width + 1000,\r\n      ),\r\n    );\r\n  }, [overlayReferenceDiv]);\r\n\r\n  /**\r\n   * Increases the current image index.\r\n   */\r\n  const incrementIdx = useCallback(() => {\r\n    setIndex((index + 1) % photos.length);\r\n\r\n    setLoading(true);\r\n  }, [photos, index]);\r\n\r\n  /**\r\n   * Decreases the current image index.\r\n   */\r\n  const decrementIdx = useCallback(() => {\r\n    setIndex(index - 1 < 0 ? photos.length - 1 : index - 1);\r\n\r\n    setLoading(true);\r\n  }, [photos, index]);\r\n\r\n  /**\r\n   * Handles this viewer's cleanup functions, like re-enabling scrolling\r\n   * and closing the viewer.\r\n   */\r\n  const handleClosing = useCallback((): void => {\r\n    allowScrolling();\r\n    closeHandler();\r\n  }, [closeHandler]);\r\n\r\n  // A memoized callback function to interact with keyboard\r\n  // functionality -- only needs to be created once.\r\n  /**\r\n   * Determines the action to be taken depending on what key was pressed.\r\n   * @param event - The event object emitted upon keyDown.\r\n   */\r\n  const reactToKeystrokes = useCallback(\r\n    (event: KeyboardEvent) => {\r\n      switch (event.keyCode) {\r\n        case 27: // esc key\r\n          handleClosing();\r\n          break;\r\n        case 39: // right arrow key\r\n          incrementIdx();\r\n          break;\r\n        case 37: // left arrow key\r\n          decrementIdx();\r\n          break;\r\n      }\r\n    },\r\n    [handleClosing, incrementIdx, decrementIdx],\r\n  );\r\n\r\n  /**\r\n   * Handles touchstart events for devices, and determines whether\r\n   * to later react to this event or not.\r\n   */\r\n  const initializeTouch = useCallback((event: TouchEvent) => {\r\n    const touchLocations = event.touches;\r\n\r\n    if (touchLocations.length === 1 && touchLocations[0]) {\r\n      // If the tap starts at the picture, just ignore.\r\n      // (for adjusting zoom level, perhaps).\r\n      if ((event.target as Element).id != 'main-photo') {\r\n        xTouchLoc.current = touchLocations[0].clientX;\r\n        yTouchLoc.current = touchLocations[0].clientY;\r\n      }\r\n\r\n      /* \r\n    If you put a second finger down, there will be a very small\r\n    amount of time where an event with only one touch property \r\n    propegates before the proper 2 touch property event propegates,\r\n    and that can cause unwanted scrolling/shuffling.\r\n\r\n    We solve this by simply listening to any events with more than\r\n    one touch event, and reset the x and y location if we detect any.\r\n    Now we know that any touch events that pass these checks are\r\n    from a single finger.\r\n    */\r\n    } else if (touchLocations.length > 1) {\r\n      xTouchLoc.current = -1;\r\n      yTouchLoc.current = -1;\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * Handles a touchend event, implying that a swipe has occured.\r\n   * Reacts to said swipe and performs any tasks as a result from that\r\n   * swipe.\r\n   */\r\n  const reactToSwipe = useCallback(\r\n    (event: TouchEvent) => {\r\n      // Make sure we are actually supposed to react to this event.\r\n      if (xTouchLoc.current === -1 || yTouchLoc.current === -1) return;\r\n\r\n      const xOld = xTouchLoc.current;\r\n      const yOld = yTouchLoc.current;\r\n      // Reset location\r\n      xTouchLoc.current = -1;\r\n      yTouchLoc.current = -1;\r\n\r\n      // If this doesn't exist, do nothing.\r\n      if (!event.changedTouches[0]) return;\r\n\r\n      const xMove = event.changedTouches[0].clientX;\r\n      const yMove = event.changedTouches[0].clientY;\r\n\r\n      switch (detectSwipeDirection({x: xOld, y: yOld}, {x: xMove, y: yMove})) {\r\n        case 'down': // swipe down == going up\r\n          decrementIdx();\r\n          break;\r\n        case 'up': // swipe up == going down\r\n          incrementIdx();\r\n          break;\r\n      }\r\n    },\r\n    [decrementIdx, incrementIdx],\r\n  );\r\n\r\n  // Setting up keyboard functionality\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', reactToKeystrokes, false);\r\n    document.addEventListener('touchstart', initializeTouch, false);\r\n    document.addEventListener('touchend', reactToSwipe, false);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', reactToKeystrokes, false);\r\n      document.removeEventListener('touchstart', initializeTouch, false);\r\n      document.removeEventListener('touchend', reactToSwipe, false);\r\n    };\r\n  }, [reactToKeystrokes, initializeTouch, reactToSwipe]);\r\n\r\n  //-------------------------------------------------------------------\r\n  // Functions --\r\n  //-------------------------------------------------------------------\r\n  /**\r\n   * Generates a larger version of the specified image, usable as a full\r\n   * page background.\r\n   * @param photoId - the drive id of the photo.\r\n   * @returns a url to the enlarged photo.\r\n   */\r\n  const fetchOverlayImageUrl = (photoId: string): string => {\r\n    return getImageUrl(photoId, overlayWidth, 5000);\r\n  };\r\n\r\n  /**\r\n   * Determines if this viewer's loading state should be changed\r\n   * or not, based on if all the images loaded or not.\r\n   */\r\n  const handleLoadingState = (): void => {\r\n    if (checkIfImagesLoaded(overlayReferenceDiv.current)) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handles when the overlay loads.\r\n   */\r\n  const handleOverlayLoadingState = (): void => {\r\n    handleLoadingState();\r\n  };\r\n\r\n  /**\r\n   * Checks a provided html div's img children and sees if they loaded\r\n   * in or not.\r\n   * @param refDiv - the html div that contains all the imgs\r\n   * @returns true if all the imgs have loaded, false otherwise.\r\n   */\r\n  const checkIfImagesLoaded = (refDiv: HTMLDivElement): boolean => {\r\n    const imgElements = refDiv.querySelectorAll('img');\r\n\r\n    for (const img of imgElements) {\r\n      if (!img.complete) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Renders an X button intended for exiting the viewer.\r\n   * @returns an X button which exits the viewer upon click.\r\n   */\r\n  const renderExitButton = (): ReactElement => {\r\n    const buttonStyling: SxStyleProp = {\r\n      position: 'absolute',\r\n      top: '5%',\r\n      right: '3%',\r\n      mx: '0%',\r\n\r\n      '@media only screen and (max-width: 800px)': {\r\n        transform: 'rotate(720deg)', // extremely very important :)))\r\n        right: '5%',\r\n      },\r\n    };\r\n    return (\r\n      <ViewerButton\r\n        imageSrc={<FaTimes sx={arrowStyle} />}\r\n        actionHandler={handleClosing}\r\n        extraButtonStyling={buttonStyling}\r\n      />\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Renders a spinner if the images are currently loading in.\r\n   * @returns a circle spinner if images are loading, nothing otherwise.\r\n   */\r\n  const renderSpinner = (): ReactElement | void => {\r\n    if (loading) {\r\n      return (\r\n        <div\r\n          sx={{\r\n            position: 'relative',\r\n            height: '100vh',\r\n            width: '100vw',\r\n            display: 'flex',\r\n            textAlign: 'center',\r\n            alignItems: 'center',\r\n            zIndex: 20, // big big index to overlay over everything\r\n          }}\r\n        >\r\n          <div sx={{display: 'inline-block', mx: 'auto'}}>\r\n            <CircleSpinner />\r\n          </div>\r\n          {renderExitButton()}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------------\r\n  // Styles for the components --\r\n  //-------------------------------------------------------------------\r\n  const overlayStyle: SxStyleProp = {\r\n    // for the actual picture in the overlay\r\n\r\n    objectFit: 'cover',\r\n    opacity: '0.9',\r\n    height: '100%',\r\n    width: '100%',\r\n\r\n    display: loading ? 'none' : 'block',\r\n\r\n    // blur the image (note: edge and ie will die, but who cares lmao)\r\n    filter: 'blur(8px) brightness(0.5)',\r\n  };\r\n  const overlayContainerStyle: SxStyleProp = {\r\n    // the div containing the overlay picture\r\n\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    zIndex: 12, // make this higher priority than main wrapper\r\n\r\n    backgroundColor: theme.colors.background.black,\r\n  };\r\n  const mainWrapperStyle: SxStyleProp = {\r\n    // the main wrapper for everything in this viewer\r\n\r\n    position: 'fixed',\r\n    height: '100vh',\r\n    width: '100vw',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    zIndex: 11, // cause nav is 10 :/\r\n\r\n    textAlign: 'center',\r\n\r\n    overscrollBehavior: 'contain',\r\n  };\r\n  const contentWrapperStyle: SxStyleProp = {\r\n    // The wrapper for all the interactable things in this viewer\r\n\r\n    position: 'relative',\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    textAlign: 'center',\r\n    alignItems: 'center',\r\n\r\n    '@media only screen and (max-width: 800px)': {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      textAlign: 'center',\r\n      alignItems: 'center',\r\n    },\r\n  };\r\n  const arrowStyle: SxStyleProp = {\r\n    margin: 'auto',\r\n    padding: '2.5px',\r\n    width: ['35px', '30px', '35px', '40px'],\r\n    height: ['35px', '30px', '35px', '40px'],\r\n  };\r\n  const bothButtonStyle: SxStyleProp = {\r\n    position: 'fixed',\r\n    mx: 'auto',\r\n\r\n    // Overwrite previous hover code to keep consistant rotation\r\n    '&:hover': {\r\n      transform: 'rotate(90deg) scale(1.2)',\r\n      cursor: 'pointer',\r\n      opacity: 0.8,\r\n    },\r\n  };\r\n  const leftButtonStyle: SxStyleProp = {\r\n    '@media only screen and (max-width: 800px)': {\r\n      top: '5%',\r\n\r\n      transform: 'rotate(90deg)', // rotate to look like an up arrow\r\n\r\n      ...bothButtonStyle,\r\n    },\r\n  };\r\n  const rightButtonStyle: SxStyleProp = {\r\n    '@media only screen and (max-width: 800px)': {\r\n      bottom: '5%',\r\n\r\n      transform: 'rotate(90deg)', // rotate to look like a down arrow\r\n\r\n      ...bothButtonStyle,\r\n    },\r\n  };\r\n\r\n  //-------------------------------------------------------------------\r\n  // The actual viewer code --\r\n  //-------------------------------------------------------------------\r\n  return (\r\n    // the wrapper that wraps everything\r\n    <div sx={mainWrapperStyle} ref={overlayReferenceDiv}>\r\n      {/* the overlay */}\r\n      <div sx={overlayContainerStyle} onClick={handleClosing}>\r\n        <img\r\n          src={fetchOverlayImageUrl(photos[index].photoId)}\r\n          alt=\"\"\r\n          sx={overlayStyle}\r\n          onLoad={handleOverlayLoadingState}\r\n          onError={() => {\r\n            console.log('failed to load overlay');\r\n            handleLoadingState();\r\n          }}\r\n        />\r\n      </div>\r\n      {/* drawing the spinner if images don't load */}\r\n      {renderSpinner()}\r\n      {/* the content wrapper */}\r\n      <div sx={contentWrapperStyle}>\r\n        <ViewerButton\r\n          imageSrc={<FaArrowLeft sx={arrowStyle} />}\r\n          actionHandler={decrementIdx}\r\n          extraButtonStyling={leftButtonStyle}\r\n        />\r\n\r\n        <ViewerPhoto\r\n          photoId={photos[index].photoId}\r\n          loadHandler={handleLoadingState}\r\n          originalDimensions={{\r\n            width: parseInt(photos[index].width),\r\n            height: parseInt(photos[index].height),\r\n          }}\r\n        />\r\n\r\n        <ViewerButton\r\n          imageSrc={<FaArrowRight sx={arrowStyle} />}\r\n          actionHandler={incrementIdx}\r\n          extraButtonStyling={rightButtonStyle}\r\n        />\r\n\r\n        {renderExitButton()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoViewer;\r\n","/** @jsx jsx */\r\nimport React, {\r\n  useContext,\r\n  useRef,\r\n  useEffect,\r\n  useState,\r\n  ReactElement,\r\n} from 'react';\r\nimport {jsx, SxStyleProp, Flex} from 'theme-ui';\r\n\r\nimport {Heading} from '../components/Heading';\r\nimport PhotoViewer, {Photo} from '../components/PhotoViewer';\r\nimport {CircleSpinner} from '../components/CircleSpinner';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {IInfoContext, InfoContext} from '../utils/contexts';\r\nimport {getImageUrl, splitArray, disallowScrolling} from '../utils/functions';\r\n// todo: minor, but make naming consistant i guess\r\nimport {Photo as PhotoInfo} from '../utils/interfaces';\r\n\r\n// note: all the images are in their widthScale:heightScale ratio\r\n/** The width scale for the column photo width. */\r\nconst widthScale: number = 1;\r\n/** The height scale for the column photo height. */\r\nconst heightScale: number = 1.25;\r\n\r\n// Interfaces --\r\nexport interface GalleryPhotoProps {\r\n  photo: Photo;\r\n  initializeDisplay: (index: number) => void;\r\n  extraPhotoStyle?: SxStyleProp;\r\n}\r\n\r\n//=====================================================================\r\n// GalleryPhoto element handles the actual img element.\r\n// this assumes that each img will be placed in an appropriately sized\r\n// div or element\r\nexport const GalleryPhoto: React.FC<GalleryPhotoProps> = ({\r\n  photo,\r\n  initializeDisplay,\r\n  extraPhotoStyle,\r\n}): ReactElement => {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  // Styles --\r\n  const photoStyle: SxStyleProp = {\r\n    maxWidth: '100%',\r\n    mx: 'auto',\r\n    objectFit: 'cover',\r\n    width: photo.newPhotoDimensions.width,\r\n    height: photo.newPhotoDimensions.height,\r\n\r\n    display: loading ? 'none' : 'block',\r\n\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n  };\r\n\r\n  // Functions --\r\n  /**\r\n   * Does the cleanup once the image is loaded.\r\n   */\r\n  const finishLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  /**\r\n   * Initializes the photo viewer.\r\n   */\r\n  const displayViewer = (): void => {\r\n    initializeDisplay(photo.photoNum);\r\n  };\r\n\r\n  /**\r\n   * Performs specified click actions upon a click event. This includes\r\n   * disabling the scrolling and displaying the viewer.\r\n   */\r\n  const handleClickEvent = () => {\r\n    disallowScrolling(window.scrollY);\r\n    displayViewer();\r\n  };\r\n\r\n  /**\r\n   * Returns a formatted loading spinner\r\n   */\r\n  const displayLoadSpinner = (): ReactElement | void => {\r\n    if (loading) {\r\n      return (\r\n        <div sx={{display: 'inline-block', my: '50%'}}>\r\n          <CircleSpinner />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {displayLoadSpinner()}\r\n      <img\r\n        src={photo.photoUrl}\r\n        alt=\"\"\r\n        onClick={handleClickEvent}\r\n        onLoad={finishLoading}\r\n        sx={{...photoStyle, ...extraPhotoStyle}}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Gallery element -- displays the actual gallery page\r\nexport const Gallery: React.FC = (): ReactElement => {\r\n  const galleryPhotos: PhotoInfo[] = useContext<IInfoContext>(InfoContext)\r\n    .gallery;\r\n\r\n  // the width and height are both used for the column photos\r\n  const [width, setWidth] = useState<number>(0);\r\n  const [height, setHeight] = useState<number>(0);\r\n  /** Used to find the size for the column photos. */\r\n  const referenceDiv = useRef<HTMLDivElement>(null);\r\n  const [viewIndex, setViewIndex] = useState<number>(0);\r\n  const [showViewer, setShowViewer] = useState<boolean>(false);\r\n\r\n  // Set width and height to the left column's width\r\n  useEffect(() => {\r\n    if (!referenceDiv.current) return;\r\n\r\n    setWidth(\r\n      Math.round(\r\n        referenceDiv.current.getBoundingClientRect().width * widthScale,\r\n      ),\r\n    );\r\n    setHeight(\r\n      Math.round(\r\n        referenceDiv.current.getBoundingClientRect().width * heightScale,\r\n      ),\r\n    );\r\n  }, [referenceDiv]);\r\n\r\n  /*\r\n  yes shari, this long explanation is definitely necessary\r\n\r\n  We take the galleryPhotos in PhotoInfo interface format and convert\r\n  each array of 'photos' into our custom Photo interface, which\r\n  contains a proper url, number, and both original and requested\r\n  dimensions for future use.\r\n\r\n  Consecutive pictures are ordered column down, so if we had 9\r\n  images, the order would become:\r\n    1 4 7\r\n    2 5 8\r\n    3 6 9\r\n  but that shouldn't matter because gallery should really only have a\r\n  random assortment of images anyways, so we don't need to preserve\r\n  order... right?\r\n\r\n  We use galleryPhotos as all photos, as we need the id for the\r\n  photo to get resized version.\r\n  //TODO: maybe we can provide photoViewer the resized images...\r\n  */\r\n  let currentImageNumber = -1; // this seems scuffed\r\n  const [leftPhotos, centerPhotos, rightPhotos]: Photo[][] = splitArray<\r\n    PhotoInfo\r\n  >(galleryPhotos, 3).map((photoGroup) => {\r\n    return photoGroup.map((photo) => {\r\n      currentImageNumber++;\r\n      return {\r\n        photoUrl: getImageUrl(photo.photoId, 1000, height),\r\n        photoNum: currentImageNumber,\r\n        originalPhotoDimensions: {\r\n          width: parseInt(photo.width),\r\n          height: parseInt(photo.height),\r\n        },\r\n        newPhotoDimensions: {\r\n          width: width,\r\n          height: height,\r\n        },\r\n      };\r\n    });\r\n  });\r\n\r\n  // Styles related to the photos and the galleries --\r\n  const extraPhotoStyle: SxStyleProp = {};\r\n  const photoColumnContainerStyle: SxStyleProp = {\r\n    '@media only screen and (max-width: 500px)': {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      textAlign: 'center',\r\n    },\r\n  };\r\n  const allGalleryStyle: SxStyleProp = {\r\n    textAlign: 'center',\r\n    maxWidth: '32%',\r\n    width: '32%',\r\n    position: 'relative',\r\n\r\n    // Pushing away the footer\r\n    mb: '5em',\r\n\r\n    '@media only screen and (max-width: 500px)': {\r\n      width: '95%',\r\n      maxWidth: '95%',\r\n\r\n      my: 0,\r\n      left: 'auto',\r\n      right: 'auto',\r\n      mx: 'auto',\r\n    },\r\n  };\r\n  const leftGalleryStyle: SxStyleProp = {\r\n    left: '2%',\r\n\r\n    ml: 0,\r\n    mr: 'auto',\r\n  };\r\n  const rightGalleryStyle: SxStyleProp = {\r\n    right: '2%',\r\n\r\n    mr: 0,\r\n    ml: 'auto',\r\n  };\r\n  const centerGalleryStyle: SxStyleProp = {\r\n    position: 'relative',\r\n    mt: '-5em',\r\n  };\r\n\r\n  /**\r\n   * Retrieves a column of photos and returns the formatted column.\r\n   * @param photoColumn - the list of photos in this column.\r\n   * @param extraPhotoStyle - any extra styling for the\r\n   * photos in this column.\r\n   * @returns the formatted column of photos.\r\n   */\r\n  const getGalleryColumn = (\r\n    photoColumn: Photo[],\r\n    extraPhotoStyle: SxStyleProp,\r\n  ): ReactElement[] => {\r\n    if (!photoColumn) return [<div key=\"0\"></div>];\r\n\r\n    const photoContainerStyle: SxStyleProp = {\r\n      // Space the images\r\n      mb: '5%',\r\n      width: '100%',\r\n\r\n      // fade and move animations here so both border and image have it\r\n      transition: 'transform .2s, .2s ease',\r\n      '&:hover': {\r\n        transform: 'scale(1.02)',\r\n        opacity: 0.6,\r\n        cursor: 'pointer',\r\n      },\r\n    };\r\n\r\n    return photoColumn.map((photo) => {\r\n      return (\r\n        <div sx={photoContainerStyle} key={photo.photoNum}>\r\n          <GalleryPhoto\r\n            photo={photo}\r\n            extraPhotoStyle={extraPhotoStyle}\r\n            initializeDisplay={startDisplay}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  // Functions regarding the displaying of the photo viewer --\r\n  /**\r\n   * Initializes the photo viewer.\r\n   * @param startIndex - the photo index which the viewer should begin at.\r\n   */\r\n  const startDisplay = (startIndex: number) => {\r\n    setViewIndex(startIndex);\r\n\r\n    toggleViewer();\r\n  };\r\n\r\n  /**\r\n   * Toggles the show viewer state on or off.\r\n   */\r\n  const toggleViewer = () => {\r\n    setShowViewer(!showViewer);\r\n  };\r\n\r\n  /**\r\n   * Actually displays the photo viewer, if it should be shown.\r\n   * @returns the photo viewer at the right image if it should be shown,\r\n   * or nothing otherwise.\r\n   */\r\n  const displayViewer = (): ReactElement | void => {\r\n    if (showViewer) {\r\n      return (\r\n        <PhotoViewer\r\n          photos={galleryPhotos}\r\n          startIndex={viewIndex}\r\n          closeHandler={toggleViewer}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  // The rest of the custom styles needed for this page --\r\n  const wrapperStyle: SxStyleProp = {\r\n    // the main page div\r\n\r\n    width: '100%',\r\n    maxWidth: '100%',\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.light,\r\n  };\r\n  const innerWrapperStyle: SxStyleProp = {\r\n    // the div that contains everything\r\n\r\n    top: '20vh',\r\n    position: 'relative',\r\n    width: '100%',\r\n    maxWidth: '100%',\r\n    px: '5%',\r\n    mb: '14em', // pushing away the footer\r\n  };\r\n  const headingWrapperStyle: SxStyleProp = {\r\n    // the header div\r\n\r\n    maxWidth: '90%', // to make sure the page doesn't scroll to the right\r\n    position: 'relative',\r\n    mb: '8em',\r\n  };\r\n\r\n  // Returning the formatted page\r\n  // yes shari i know even more grid classnames but its finee\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      {displayViewer()}\r\n      <div sx={innerWrapperStyle}>\r\n        <div sx={headingWrapperStyle}>\r\n          <Heading text=\"Gallery\" alignment=\"left\" />\r\n        </div>\r\n        {/* yes shari i could use flexbox here to achieve the same\r\n        effect and stay on your good side just bear with me for\r\n        now ok :)) */}\r\n        <div className=\"row\" sx={photoColumnContainerStyle}>\r\n          {/* We only need one div to be reference div since\r\n          all images are same size anyways. */}\r\n          <div\r\n            className=\"col\"\r\n            ref={referenceDiv}\r\n            sx={{...leftGalleryStyle, ...allGalleryStyle}}\r\n          >\r\n            {/* first column of photos */}\r\n            {getGalleryColumn(leftPhotos, extraPhotoStyle)}\r\n          </div>\r\n          <div className=\"col\" sx={{...centerGalleryStyle, ...allGalleryStyle}}>\r\n            {/* second column of photos */}\r\n            {getGalleryColumn(centerPhotos, extraPhotoStyle)}\r\n          </div>\r\n          <div className=\"col\" sx={{...rightGalleryStyle, ...allGalleryStyle}}>\r\n            {/* you won't believe... third column of photos! */}\r\n            {getGalleryColumn(rightPhotos, extraPhotoStyle)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\r\nimport React, {useContext, ReactElement} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\n\r\nimport {Heading} from '../components/Heading';\r\nimport {TranslucentRectangle} from '../components/TranslucentRectangle';\r\n\r\nimport {theme} from '../utils/theme';\r\nimport {IInfoContext, InfoContext} from '../utils/contexts';\r\nimport {FAQ as FAQInterface} from '../utils/interfaces';\r\n\r\n// Interfaces --\r\nexport interface FAQProp {\r\n  question: string;\r\n  answer: string;\r\n  extraStyling?: SxStyleProp;\r\n}\r\n\r\nexport interface QuestionProp {\r\n  question: string;\r\n  extraStyling?: SxStyleProp;\r\n  imageExtraStyling?: SxStyleProp; // for scaling\r\n}\r\n\r\nexport interface ResponseProp {\r\n  response: string;\r\n  textExtraStyling?: SxStyleProp;\r\n  rectExtraStyling?: SxStyleProp;\r\n}\r\n\r\n//TODO: yes shari i will add padding later\r\n//=====================================================================\r\n// To hold the speech bubble and question\r\nconst QuestionItem: React.FC<QuestionProp> = ({\r\n  question,\r\n  extraStyling,\r\n  imageExtraStyling,\r\n}): ReactElement => {\r\n  // Yay more styles!!\r\n  const outerContainerDiv: SxStyleProp = {\r\n    // 'Holds' the inner wrapper, and behaves like a top margin\r\n    width: '100%',\r\n\r\n    ...extraStyling,\r\n  };\r\n  const innerWrapperDiv: SxStyleProp = {\r\n    top: '3.5em',\r\n    maxWidth: '95vw', // to make sure the page doesn't scroll to the right\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    textAlign: 'center',\r\n\r\n    ...extraStyling,\r\n  };\r\n  const textWrapperDiv: SxStyleProp = {\r\n    display: 'flex',\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: '100%',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n  };\r\n  const titleTextStyle: SxStyleProp = {\r\n    fontSize: theme.fontSizes.body,\r\n    fontFamily: theme.fonts.heading,\r\n    color: theme.colors.text.light,\r\n    wordWrap: 'normal',\r\n    textAlign: 'center',\r\n    margin: 'auto',\r\n  };\r\n  const imageStyle = {\r\n    maxWidth: '100vw',\r\n    display: 'inline-block',\r\n    ...imageExtraStyling,\r\n  };\r\n\r\n  return (\r\n    <div sx={outerContainerDiv}>\r\n      <div sx={innerWrapperDiv}>\r\n        <img src=\"./assets/speech_bubble.svg\" alt=\"\" sx={imageStyle} />\r\n        <div sx={textWrapperDiv}>\r\n          <p sx={titleTextStyle}>{question}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n// ResponseItem holds the response div and rect\r\nconst ResponseItem: React.FC<ResponseProp> = ({\r\n  response,\r\n  textExtraStyling,\r\n  rectExtraStyling,\r\n}): ReactElement => {\r\n  const textWrapperDiv: SxStyleProp = {\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n\r\n    // TODO: mt is based off width which i find extremely stupid so\r\n    // fix this and make it better\r\n    // to push the wrapper down a bit and make description text readable\r\n    mt: ['20%', '15%', '10%'],\r\n    width: '90%',\r\n  };\r\n  const responseTextStyle: SxStyleProp = {\r\n    position: 'relative',\r\n\r\n    color: theme.colors.text.darkSlate,\r\n    fontSize: theme.fontSizes.body,\r\n    fontFamily: theme.fonts.body,\r\n    wordWrap: 'normal',\r\n    lineHeight: 1.6,\r\n  };\r\n  const rectStyling: SxStyleProp = {\r\n    minHeight: ['25vh', '30vh', '40vh'],\r\n\r\n    ...textExtraStyling,\r\n    ...rectExtraStyling,\r\n  };\r\n\r\n  return (\r\n    // yes shari i know the rectangles aren't EXACTLY the way it is on\r\n    // the planning xd but this is good enoughhh. it serves its purpose\r\n    // and i can reuse it!!\r\n    <TranslucentRectangle lengthX=\"60em\" extraStyling={rectStyling}>\r\n      <div sx={textWrapperDiv}>\r\n        <p sx={{...responseTextStyle, ...textExtraStyling}}>{response}</p>\r\n      </div>\r\n    </TranslucentRectangle>\r\n  );\r\n};\r\n\r\n//=====================================================================\r\n\r\n//=====================================================================\r\n// The function that returns a FAQ object\r\nexport const FAQ: React.FC = (): ReactElement => {\r\n  const faqQuestions: FAQInterface[] = useContext<IInfoContext>(InfoContext)\r\n    .faq;\r\n\r\n  // Custom styles!!! --\r\n  const wrapperStyle: SxStyleProp = {\r\n    // the main page div\r\n\r\n    width: '100%',\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.colors.background.light,\r\n  };\r\n  const innerWrapperStyle: SxStyleProp = {\r\n    // the div that contains everything\r\n\r\n    top: '20vh',\r\n    position: 'relative',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    mb: '14em', // pushing away the footer\r\n  };\r\n  const headingWrapperStyle: SxStyleProp = {\r\n    // the header div\r\n\r\n    left: '5%',\r\n    maxWidth: '90%', // to make sure the page doesn't scroll to the right\r\n    position: 'relative',\r\n  };\r\n\r\n  /**\r\n   * Retrieves and formats all the seperate question answers\r\n   * @param faqQuestions - all questions in the faq.\r\n   * @returns a list of ReactElements with the questions.\r\n   */\r\n  const getFaqItems = (faqQuestions: FAQInterface[]) => {\r\n    if (!faqQuestions) {\r\n      return <div></div>;\r\n    }\r\n\r\n    return faqQuestions.map((question, i) => {\r\n      let styling: SxStyleProp;\r\n      let imageStyling: SxStyleProp | undefined;\r\n\r\n      if (i % 2 === 0) {\r\n        // Left side of the page\r\n        styling = {\r\n          ml: 0,\r\n          mr: 'auto',\r\n          textAlign: 'left',\r\n          left: '5%',\r\n        };\r\n      } else {\r\n        // Right side of the page\r\n        styling = {\r\n          ml: 'auto',\r\n          mr: 0,\r\n          textAlign: 'right',\r\n          right: '5%',\r\n        };\r\n        // For flipping the image\r\n        imageStyling = {transform: 'scaleX(-1)'};\r\n      }\r\n\r\n      // Styling the funky transparent rectangle\r\n      const rectStyling: SxStyleProp = {\r\n        maxWidth: '95vw',\r\n        backgroundColor:\r\n          i % 3 === 0 ? theme.colors.background.overlay : 'transparent',\r\n      };\r\n\r\n      return (\r\n        <li key={i} sx={{mb: '-2em'}}>\r\n          <div sx={{width: '100%'}}>\r\n            <QuestionItem\r\n              question={faqQuestions[i].question}\r\n              extraStyling={styling}\r\n              imageExtraStyling={imageStyling}\r\n            />\r\n            <ResponseItem\r\n              response={faqQuestions[i].answer}\r\n              textExtraStyling={styling}\r\n              rectExtraStyling={rectStyling}\r\n            />\r\n          </div>\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div id=\"top\" sx={wrapperStyle}>\r\n      <div sx={innerWrapperStyle}>\r\n        <div sx={headingWrapperStyle}>\r\n          <Heading text=\"FAQ\" alignment=\"left\" />\r\n        </div>\r\n        <div\r\n          sx={{\r\n            flex: 'initial',\r\n          }}\r\n        >\r\n          <ul sx={{listStyleType: 'none', px: 0, py: 0, mx: 0, my: 0}}>\r\n            {/* // Getting the list of question-response stuff */}\r\n            {getFaqItems(faqQuestions)}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/** @jsx jsx */\nimport React, {useState, useRef, useEffect, ReactElement} from 'react';\nimport {jsx, SxStyleProp} from 'theme-ui';\nimport {CircleSpinner} from './CircleSpinner';\nimport AboutUsSpeechBubble from '../assets/speech bubble.svg';\nimport AboutUsSpeechBubbleMobile from '../assets/speechBubbleMobile.svg';\nimport {theme, FIRST_BREAKPOINT} from '../utils/theme';\nimport {fadeIn} from '../utils/animation';\n\ninterface Props {\n  quoteSets: ShownBubbleProps[];\n}\n\nexport interface ShownBubbleProps {\n  imageUrl: string;\n  quote: string;\n  closing: string;\n  extraStyling?: SxStyleProp;\n}\n\ninterface GrayBubbleProps {\n  imageUrl: string;\n  onClick: () => void;\n  size: number | string;\n}\n\nconst vmax = Math.max(window.innerWidth, window.innerHeight);\nconst isFirstBreakpoint = window.innerWidth > FIRST_BREAKPOINT;\nconst imgSize = isFirstBreakpoint ? vmax * 0.17 : window.innerWidth * 0.4;\n\nconst GrayBubble: React.FC<GrayBubbleProps> = ({imageUrl, onClick, size}) => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const sizeRef = useRef<number | string>(size);\n  const marginRef = useRef({\n    mt: Math.random() * 10 + 1,\n    ml: Math.random() * 10 + 1,\n    mr: Math.random() * 10 + 1,\n    mb: Math.random() * 10 + 1,\n  });\n\n  const wrapperStyle: SxStyleProp = {\n    overflow: 'hidden',\n    borderRadius: '50%',\n    zIndex: 2,\n    position: 'relative',\n    display: 'inline-block',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n    ...marginRef.current,\n  };\n\n  const overlayStyle: SxStyleProp = {\n    backgroundColor: theme.colors.imageDarkGrayOverlay,\n    position: 'absolute',\n    bottom: 0,\n    top: 0,\n    left: 0,\n    right: 0,\n  };\n\n  const imageStyle: SxStyleProp = {\n    objectFit: 'cover',\n    width: sizeRef.current,\n    height: sizeRef.current,\n  };\n\n  /**\n   * Handles when an image finishes loading by setting the loading\n   * state to false.\n   */\n  const handleLoading = () => {\n    setLoading(false);\n  };\n\n  /**\n   * Determines whether or not to render a loading spinner based on\n   * the image's load status.\n   * @returns either a loading spinner, or nothing.\n   */\n  const displayLoadSpinner = (): ReactElement | void => {\n    if (loading) {\n      const spinnerWrapper: SxStyleProp = {\n        position: 'absolute', // don't skew the circles\n        width: '100%',\n        height: '100%',\n\n        textAlign: 'center',\n        display: 'flex',\n        alignItems: 'center',\n      };\n      return (\n        <div sx={spinnerWrapper}>\n          <div sx={{display: 'inline', margin: 'auto'}}>\n            {/* hardcoded size means the spinner will be the same size\n            despite circle size, but for now this'll do */}\n            <CircleSpinner\n              height={30}\n              width={30}\n              color={theme.colors.text.light}\n            />\n          </div>\n        </div>\n      );\n    }\n  };\n\n  return (\n    <div sx={wrapperStyle} onClick={onClick}>\n      {displayLoadSpinner()}\n      <img src={imageUrl} alt=\"\" sx={imageStyle} onLoad={handleLoading} />\n      <div sx={overlayStyle} />\n    </div>\n  );\n};\n\n//=====================================================================\n\nconst ShownBubble: React.FC<ShownBubbleProps> = ({\n  imageUrl,\n  quote,\n  closing,\n  extraStyling,\n}) => {\n  const imageWrapper: SxStyleProp = {\n    borderRadius: '50%',\n    overflow: 'hidden',\n    display: 'inline-block',\n  };\n\n  const imageStyle: SxStyleProp = {\n    objectFit: 'cover',\n    width: imgSize,\n    height: imgSize,\n    animationName: 'fadeIn',\n    '@keyframes fadeIn': fadeIn,\n    animationDuration: '.5s',\n  };\n\n  //speech bubble ratio 1.7:1\n  const speechBubbleStyle: SxStyleProp = {\n    width: ['100%', imgSize * 2.5],\n    height: imgSize * 1.5,\n  };\n\n  const bubbleAndQuoteWrapperStyle: SxStyleProp = {\n    transform: [\n      `translate3d(0, -${imgSize * 0.45}px, 0)`,\n      `translate3d(-${imgSize * 2.25}px, -${imgSize * 0.45}px, 0)`,\n    ],\n    textAlign: 'center',\n    fontFamily: theme.fonts.body,\n    fontSize: theme.fontSizes.bodySmall,\n    color: theme.colors.text.darkSlate,\n    position: 'relative',\n    zIndex: 2,\n  };\n\n  const quoteWrapperStyle: SxStyleProp = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    py: ['2em', 0],\n    justifyContent: 'space-between',\n  };\n\n  const quoteStyle: SxStyleProp = {\n    width: '100%',\n    lineHeight: '2em',\n    padding: '4em',\n    pb: [0, '4em'],\n    flex: ['none', 3],\n    order: 0,\n  };\n\n  const closingStyle: SxStyleProp = {\n    textAlign: 'right',\n    width: '100%',\n    px: '4em',\n    flex: ['none', 1.5],\n    order: 1,\n  };\n\n  const wrapperStyle: SxStyleProp = {\n    // width: ['100%', 'auto'],\n  };\n\n  return (\n    <div sx={{...wrapperStyle, ...extraStyling}}>\n      <div sx={imageWrapper}>\n        <img src={imageUrl} alt=\"\" sx={imageStyle} key={imageUrl} />\n      </div>\n      <div sx={bubbleAndQuoteWrapperStyle}>\n        <img\n          sx={speechBubbleStyle}\n          alt=\"\"\n          src={\n            isFirstBreakpoint ? AboutUsSpeechBubble : AboutUsSpeechBubbleMobile\n          }\n        />\n        <div sx={quoteWrapperStyle}>\n          <p sx={quoteStyle}>{quote}</p>\n          <p sx={closingStyle}>{closing}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n//======================================================================\n\nexport const RotatingQuotes: React.FC<Props> = ({\n  quoteSets: originalQuoteSets,\n}) => {\n  const [quoteSets, setQuoteSets] = useState<ShownBubbleProps[]>(\n    originalQuoteSets,\n  );\n  const [timerId, setTimerId] = useState<number>();\n\n  const interval = 3000;\n  // const intervalAfterLock = interval / 3;\n\n  useEffect(() => {\n    startRotation();\n    return () => window.clearInterval(timerId);\n  }, []);\n\n  const startRotation = () => {\n    const id = window.setInterval(() => {\n      setQuoteSets((oldSet) => {\n        oldSet.unshift(oldSet.pop());\n        return [...oldSet];\n      });\n    }, interval);\n    setTimerId((oldId) => {\n      window.clearInterval(oldId);\n      return id;\n    });\n  };\n\n  const resetTimer = () => {\n    window.clearInterval(timerId);\n    startRotation();\n  };\n\n  const getGrayBubbles = () => {\n    const grayBubbles = [];\n    for (let i = 1; i < quoteSets.length; i++) {\n      grayBubbles.push(\n        <GrayBubble\n          imageUrl={quoteSets[i].imageUrl}\n          onClick={() => {\n            setQuoteSets((oldSet) => {\n              const clone = [...oldSet];\n              [clone[i], clone[0]] = [clone[0], clone[i]];\n              return [...clone];\n            });\n            resetTimer();\n          }}\n          size={Math.random() * 10 + 7 + 'vmin'}\n        />,\n      );\n    }\n\n    return grayBubbles;\n  };\n\n  const wrapperStyle: SxStyleProp = {\n    display: 'flex',\n    ml: '5%',\n    flex: 2,\n    flexDirection: ['column', 'row'],\n    textAlign: ['right', 'left'],\n  };\n\n  const shownBubbleStyle: SxStyleProp = {\n    mt: [0, '25vh'],\n  };\n\n  const grayBubbleWrapper: SxStyleProp = {\n    position: ['static', 'absolute'],\n    right: 0,\n    width: ['100%', vmax * 0.25],\n    textAlign: ['center', 'left'],\n  };\n\n  //index 0 will always be the main photo\n  //the array will loop through pop and unshift\n  return (\n    <div sx={wrapperStyle}>\n      <ShownBubble\n        extraStyling={shownBubbleStyle}\n        imageUrl={quoteSets[0].imageUrl}\n        quote={quoteSets[0].quote}\n        closing={quoteSets[0].closing}\n      />\n      <div sx={grayBubbleWrapper}>{getGrayBubbles()}</div>\n    </div>\n  );\n};\n","/** @jsx jsx */\r\nimport React, {useContext, useState, useRef, useEffect} from 'react';\r\nimport {jsx, SxStyleProp} from 'theme-ui';\r\nimport {theme} from '../utils/theme';\r\nimport {RotatingQuotes, ShownBubbleProps} from '../components/RotatingQuotes';\r\nimport {InfoContext, IInfoContext} from '../utils/contexts';\r\nimport BottomPageDecor from '../assets/BottomPageDecor.svg';\r\nimport {getImageUrl} from '../utils/functions';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\nconst Paragraph: React.FC = () => {\r\n  const {aboutStuco} = useContext<IInfoContext>(InfoContext);\r\n\r\n  if (!aboutStuco) {\r\n    return <React.Fragment />;\r\n  }\r\n\r\n  const headingStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    fontSize: theme.fontSizes.heading.primary,\r\n    fontFamily: theme.fonts.heading,\r\n    width: ['100%', '35vw'],\r\n    lineHeight: '1.3em',\r\n  };\r\n\r\n  const lineStyle: SxStyleProp = {\r\n    backgroundColor: theme.colors.secondary,\r\n    width: ['100%', '25vw'],\r\n    borderRadius: 2,\r\n    height: '.3em',\r\n    my: '1em',\r\n  };\r\n\r\n  const bodyStyle: SxStyleProp = {\r\n    color: theme.colors.text.light,\r\n    fontFamily: theme.fonts.body,\r\n    fontSize: theme.fontSizes.bodySmall,\r\n    width: ['100%', '45vw'],\r\n    lineHeight: '2.2em',\r\n  };\r\n\r\n  const wrapperStyle: SxStyleProp = {\r\n    display: 'inline-block',\r\n    mt: ['10vh', 0],\r\n    mb: ['5vh', 0],\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapperStyle}>\r\n      <div sx={headingStyle}>{aboutStuco[0].stucoTagline}</div>\r\n      <div sx={lineStyle} />\r\n      <div sx={bodyStyle}>{aboutStuco[0].stucoDescription}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\n//======================================================================\r\n\r\nexport const AboutUs: React.FC = () => {\r\n  const {members} = useContext<IInfoContext>(InfoContext);\r\n  const [height, setHeight] = useState<number>(0);\r\n  const bodyRef = useRef<HTMLDivElement>(null);\r\n  const decorRef = useRef<HTMLDivElement>(null);\r\n\r\n  const translateScale = 0.4;\r\n\r\n  useEffect(() => {\r\n    const ro = new ResizeObserver((entries) => {\r\n      const pageHeight = bodyRef.current.getBoundingClientRect().height;\r\n      const decorHeight = decorRef.current.getBoundingClientRect().height;\r\n      setHeight(pageHeight + decorHeight * (1 - translateScale));\r\n    });\r\n    ro.observe(bodyRef.current);\r\n    ro.observe(decorRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  if (!members) {\r\n    return <React.Fragment />;\r\n  }\r\n\r\n  const wrapper: SxStyleProp = {\r\n    backgroundColor: theme.colors.background.dark,\r\n    minHeight: '100vh',\r\n    height: height === 0 ? undefined : height,\r\n    pb: '20vh',\r\n  };\r\n\r\n  const bodyStyle: SxStyleProp = {\r\n    px: theme.bodyPadding.px,\r\n    pt: '10%',\r\n    display: 'flex',\r\n    flexDirection: ['column', 'row'],\r\n    flexWrap: 'nowrap',\r\n  };\r\n\r\n  const bottomDecorStyle: SxStyleProp = {\r\n    width: '100%',\r\n    height: '100%',\r\n  };\r\n\r\n  const decorWrapper: SxStyleProp = {\r\n    // position: 'absolute',\r\n    transform: `translateY(-${translateScale * 100}%)`,\r\n  };\r\n\r\n  const getQuoteSet = () => {\r\n    return members.map((member) => {\r\n      const quoteSet: ShownBubbleProps = {\r\n        quote: member.quote,\r\n        closing: member.name + ' - ' + member.position,\r\n        imageUrl: getImageUrl(member.photoId, 400, 400),\r\n      };\r\n      return quoteSet;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div sx={wrapper}>\r\n      <div sx={bodyStyle} ref={bodyRef}>\r\n        <Paragraph />\r\n        <RotatingQuotes quoteSets={getQuoteSet()} />\r\n      </div>\r\n      <div sx={decorWrapper} ref={decorRef}>\r\n        <img src={BottomPageDecor} sx={bottomDecorStyle} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AboutUs;\r\n","import React, {useEffect, useState} from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\nimport {Navigation} from './components/Navigation';\nimport {Footer} from './components/Footer';\nimport {ScrollToTop} from './components/ScrollToTop';\nimport {LoadingScreen} from './components/LoaderComponents';\n\nimport {Home} from './pages/Home';\nimport {Events} from './pages/Events';\nimport {Clubs} from './pages/Clubs';\nimport {Calendar} from './pages/Calendar';\nimport {Map} from './pages/Map';\nimport {Gallery} from './pages/Gallery';\nimport {FAQ} from './pages/FAQ';\nimport {AboutUs} from './pages/AboutUs';\n\nimport {IInfoContext, InfoContext} from './utils/contexts';\n\nconst backendUrl =\n  'https://us-central1-stuco-website-1596467212841.cloudfunctions.net/getData';\n  // const backendUrl = 'http://localhost:8080';\n\n/**\n * Creates a timed delay for an unmounting component so that unmounting\n * animations and transitions are able to occur.\n * @param shouldBeMounted - Whether the component you are checking should\n * or should not be mounted.\n * @param delayTime - The total amount of time to delay the unmount,\n * in ms.\n * @returns a boolean, true if the component should finally be unmounted\n * (ie. the delay has finished), and false otherwise.\n */\nconst useUnmountingDelay = (shouldBeMounted: boolean, delayTime: number) => {\n  const [shouldRender, setShouldRender] = useState<boolean>(true);\n\n  useEffect(() => {\n    let timerID: NodeJS.Timeout;\n\n    // Set a timer for a component once it should no longer be mounted.\n    if (!shouldBeMounted) {\n      timerID = setTimeout(() => setShouldRender(false), delayTime);\n    }\n\n    // Clear the old timer from memory\n    return () => {\n      clearTimeout(timerID);\n    };\n  }, [shouldBeMounted, delayTime, shouldRender]);\n\n  return shouldRender;\n};\n\nconst App: React.FC = () => {\n  const [info, setInfo] = useState<IInfoContext | undefined>();\n  const [showLoading, setShowLoading] = useState<boolean>(true);\n\n  /** Speed to unmount the loading screen, in ms. */\n  const unmountSpeed = 500;\n  const shouldRenderLoading = useUnmountingDelay(showLoading, unmountSpeed);\n\n  const getData = async () => {\n    const res = await fetch(backendUrl, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        accept: 'application/json'\n      },\n    });\n    const data = await res.json();\n    console.log(data);\n    setInfo(data as IInfoContext);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  // Indicate that the load is done\n  useEffect(() => {\n    if (info) {\n      setShowLoading(false);\n    }\n  }, [info]);\n\n  if (shouldRenderLoading) {\n    // yes shari we can technically take this out but\n    // i want an indication of loading that isn't just\n    // a white screen :))\n    return (\n      <LoadingScreen isMounted={showLoading} unmountSpeed={unmountSpeed} />\n    );\n  }\n\n  console.log(process.env.PUBLIC_URL);\n\n  return (\n    <InfoContext.Provider value={info}>\n      <Router basename={process.env.PUBLIC_URL}>\n        <ScrollToTop />\n        <Navigation />\n        <Switch>\n          <Route path=\"/events\">\n            <Events />\n          </Route>\n          <Route path=\"/clubs\">\n            <Clubs />\n          </Route>\n          <Route path=\"/calendar\">\n            <Calendar />\n          </Route>\n          <Route path=\"/map\">\n            <Map />\n          </Route>\n          <Route path=\"/gallery\">\n            <Gallery />\n          </Route>\n          <Route path=\"/faq\">\n            <FAQ />\n          </Route>\n          <Route path=\"/about\">\n            <AboutUs />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n        <Footer />\n      </Router>\n    </InfoContext.Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n  google: {\n    families: ['Architects Daughter', 'Open Sans:400,600,700', 'Rowdies:300,400']\n  },\n  // inactive: () => console.log('aslkdjflsdjf'),\n});\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}